!function(e){function t(t){for(var i,s,a=t[0],l=t[1],c=t[2],h=0,f=[];h<a.length;h++)s=a[h],r[s]&&f.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={0:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;o.push([184,1]),n()}({111:function(e){e.exports=JSON.parse('{"breakpoints":{"xsmall":480,"small":600,"medium":900,"large":1280,"xlarge":1440,"xxlarge":1600,"hd":1920}}')},184:function(e,t,n){n(185),n(186),n(187),n(188),e.exports=n(375)},375:function(e,t,n){"use strict";n.r(t);n(31),n(47),n(117);var i=n(30),r=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},o=(n(7),n(8),n(9),n(3),n(70),n(24),n(48),n(16),n(15),n(4),n(92),n(49),n(25),n(5),n(71),n(6),n(10)),s=n(0);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,h(t).call(this))).element=e.element,n.id=e.id,n.progress=0,n.digits=n.element.querySelectorAll(".main-loading__digit"),n.visibleProgress=0,n.progressTimeline=null,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i["a"]),n=t,(r=[{key:"setProgress",value:function(e){this.progress>=e||(this.progress=e,this.progressTimeline||this.animateProgress())}},{key:"animateProgress",value:function(){this.updateProgressNumber(0,this.visibleProgress),this.updateProgressNumber(1,this.progress),this.visibleProgress=this.progress,this.progressTimeline=new o.a({onComplete:this.onProgressTimelineComplete.bind(this)}).staggerFromTo(this.digits,1.7,{cycle:{yPercent:[0,0,0,-100,-100,100]}},{cycle:{yPercent:[100,100,-100,0,0,0]},ease:s.g.easeInOut},.1,0)}},{key:"updateProgressNumber",value:function(e,t){var n=parseInt(100*t).toString().split("");n.unshift(""),n=n.slice(-3);for(var i=0;i<3;i++)this.digits[3*e+i].textContent=n[i]}},{key:"createAnimIn",value:function(e){var t=s.g.easeInOut;this.progress=this.visibleProgress=.18+.12*Math.random(),this.updateProgressNumber(1,this.progress),new o.a({onComplete:function(){e()}}).set(this.element,{visibility:"inherit"},0).fromTo(this.digits[1],1.7,{yPercent:-100},{yPercent:100,ease:t},0).fromTo(this.digits[2],1.7,{yPercent:100},{yPercent:-100,ease:t},.1).fromTo(this.digits[4],1.7,{yPercent:-100},{yPercent:0,ease:t},.2).fromTo(this.digits[5],1.7,{yPercent:100},{yPercent:0,ease:t},.3)}},{key:"createAnimOut",value:function(e){new o.a({onComplete:function(){e()}}).to(this.element,.8,{opacity:0}).set(this.element,{clearProps:"visibility"})}},{key:"resize",value:function(){}},{key:"onAnimateInComplete",value:function(e){u(h(t.prototype),"onAnimateInComplete",this).call(this,e);var n=.66+.22*Math.random();this.setProgress(n),this.emit("animInComplete")}},{key:"onProgressTimelineComplete",value:function(){this.progressTimeline=null,this.visibleProgress!==this.progress?this.animateProgress():1===this.progress&&this.emit("complete")}}])&&l(n.prototype,r),a&&l(n,a),t}();n(125),n(64),n(126),n(55),n(127),n(105);
/*!
 * VERSION: 0.2.2
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/
s.j._gsDefine("easing.CustomEase",["easing.Ease"],function(){var e=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,t=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,i=/[cLlsS]/g,r="CustomEase only accepts Cubic Bezier data.",o=function e(t,n,i,r,o,s,a,l,c,u,h){var f,p=(t+i)/2,y=(n+r)/2,d=(i+o)/2,m=(r+s)/2,v=(o+a)/2,b=(s+l)/2,g=(p+d)/2,_=(y+m)/2,w=(d+v)/2,k=(m+b)/2,S=(g+w)/2,O=(_+k)/2,x=a-t,C=l-n,T=Math.abs((i-a)*C-(r-l)*x),I=Math.abs((o-a)*C-(s-l)*x);return u||(u=[{x:t,y:n},{x:a,y:l}],h=1),u.splice(h||u.length-1,0,{x:S,y:O}),(T+I)*(T+I)>c*(x*x+C*C)&&(f=u.length,e(t,n,p,y,g,_,S,O,c,u,h),e(S,O,w,k,v,b,a,l,c,u,h+1+(u.length-f))),u},a=function(e){var t=this.lookup[e*this.l|0]||this.lookup[this.l-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},l=function(e,t,n){this._calcEnd=!0,this.id=e,e&&(s.b.map[e]=this),this.getRatio=a,this.setData(t,n)},c=l.prototype=new s.b;return c.constructor=l,c.setData=function(s,a){var l,c,u,h,f,p,y,d,m,v,b=(s=s||"0,0,1,1").match(e),g=1,_=[];if(v=(a=a||{}).precision||1,this.data=s,this.lookup=[],this.points=_,this.fast=v<=1,(i.test(s)||-1!==s.indexOf("M")&&-1===s.indexOf("C"))&&(b=function(e){var i,o,s,a,l,c,u,h,f,p,y,d=(e+"").replace(n,function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t}).match(t)||[],m=[],v=0,b=0,g=d.length,_=2;for(i=0;i<g;i++)if(f=a,isNaN(d[i])?l=(a=d[i].toUpperCase())!==d[i]:i--,o=+d[i+1],s=+d[i+2],l&&(o+=v,s+=b),i||(u=o,h=s),"M"===a)c&&c.length<8&&(m.length-=1,_=0),v=u=o,b=h=s,c=[o,s],_=2,m.push(c),i+=2,a="L";else if("C"===a)c||(c=[0,0]),c[_++]=o,c[_++]=s,l||(v=b=0),c[_++]=v+1*d[i+3],c[_++]=b+1*d[i+4],c[_++]=v+=1*d[i+5],c[_++]=b+=1*d[i+6],i+=6;else if("S"===a)"C"===f||"S"===f?(p=v-c[_-4],y=b-c[_-3],c[_++]=v+p,c[_++]=b+y):(c[_++]=v,c[_++]=b),c[_++]=o,c[_++]=s,l||(v=b=0),c[_++]=v+=1*d[i+3],c[_++]=b+=1*d[i+4],i+=4;else{if("L"!==a&&"Z"!==a)throw r;"Z"===a&&(o=u,s=h,c.closed=!0),("L"===a||Math.abs(v-o)>.5||Math.abs(b-s)>.5)&&(c[_++]=v+(o-v)/3,c[_++]=b+(s-b)/3,c[_++]=v+2*(o-v)/3,c[_++]=b+2*(s-b)/3,c[_++]=o,c[_++]=s,"L"===a&&(i+=2)),v=o,b=s}return m[0]}(s)),4===(l=b.length))b.unshift(0,0),b.push(1,1),l=8;else if((l-2)%6)throw r;for(0==+b[0]&&1==+b[l-2]||function(e,t,n){n||0===n||(n=Math.max(+e[e.length-1],+e[1]));var i,r=-1*+e[0],o=-n,s=e.length,a=1/(+e[s-2]+r),l=-t||(Math.abs(+e[s-1]-+e[1])<.01*(+e[s-2]-+e[0])?function(e){var t,n=e.length,i=999999999999;for(t=1;t<n;t+=6)+e[t]<i&&(i=+e[t]);return i}(e)+o:+e[s-1]+o);for(l=l?1/l:-a,i=0;i<s;i+=2)e[i]=(+e[i]+r)*a,e[i+1]=(+e[i+1]+o)*l}(b,a.height,a.originY),this.rawBezier=b,h=2;h<l;h+=6)c={x:+b[h-2],y:+b[h-1]},u={x:+b[h+4],y:+b[h+5]},_.push(c,u),o(c.x,c.y,+b[h],+b[h+1],+b[h+2],+b[h+3],u.x,u.y,1/(2e5*v),_,_.length-1);for(l=_.length,h=0;h<l;h++)y=_[h],d=_[h-1]||y,y.x>d.x||d.y!==y.y&&d.x===y.x||y===d?(d.cx=y.x-d.x,d.cy=y.y-d.y,d.n=y,d.nx=y.x,this.fast&&h>1&&Math.abs(d.cy/d.cx-_[h-2].cy/_[h-2].cx)>2&&(this.fast=!1),d.cx<g&&(d.cx?g=d.cx:(d.cx=.001,h===l-1&&(d.x-=.001,g=Math.min(g,.001),this.fast=!1)))):(_.splice(h--,1),l--);if(l=1/g+1|0,this.l=l,f=1/l,p=0,y=_[0],this.fast){for(h=0;h<l;h++)m=h*f,y.nx<m&&(y=_[++p]),c=y.y+(m-y.x)/y.cx*y.cy,this.lookup[h]={x:m,cx:f,y:c,cy:0,nx:9},h&&(this.lookup[h-1].cy=c-this.lookup[h-1].y);this.lookup[l-1].cy=_[_.length-1].y-c}else{for(h=0;h<l;h++)y.nx<h*f&&(y=_[++p]),this.lookup[h]=y;p<_.length-1&&(this.lookup[h-1]=_[_.length-2])}return this._calcEnd=1!==_[_.length-1].y||0!==_[0].y,this},c.getRatio=a,c.getSVGData=function(e){return l.getSVGData(this,e)},l.create=function(e,t,n){return new l(e,t,n)},l.version="0.2.2",l.bezierToPoints=o,l.get=function(e){return s.b.map[e]},l.getSVGData=function(e,t){var n,i,r,o,a,l,c,u,h,f,p=(t=t||{}).width||100,y=t.height||100,d=t.x||0,m=(t.y||0)+y,v=t.path;if(t.invert&&(y=-y,m=0),(e=e.getRatio?e:s.b.map[e]||console.log("No ease found: ",e)).rawBezier){for(n=[],c=e.rawBezier.length,r=0;r<c;r+=2)n.push((1e3*(d+e.rawBezier[r]*p)|0)/1e3+","+(1e3*(m+e.rawBezier[r+1]*-y)|0)/1e3);n[0]="M"+n[0],n[1]="C"+n[1]}else for(n=["M"+d+","+m],o=1/(c=Math.max(5,200*(t.precision||1))),u=5/(c+=2),h=(1e3*(d+o*p)|0)/1e3,i=((f=(1e3*(m+e.getRatio(o)*-y)|0)/1e3)-m)/(h-d),r=2;r<c;r++)a=(1e3*(d+r*o*p)|0)/1e3,l=(1e3*(m+e.getRatio(r*o)*-y)|0)/1e3,(Math.abs((l-f)/(a-h)-i)>u||r===c-1)&&(n.push(h+","+f),i=(l-f)/(a-h)),h=a,f=l;return v&&("string"==typeof v?document.querySelector(v):v).setAttribute("d",n.join(" ")),n.join(" ")},l},!0);var y=s.l.CustomEase,d={inOut:"M0,0 C0.376,-0.034 0.454,0.528 0.472,0.6 0.542,0.89 0.578,1 1,1"},m={},v=function(e){return m[e]?m[e]:m[e]=y.create(e,d[e])};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,k(t).call(this))).element=e.element,n.id=e.id,n.text=n.element.querySelector(".ajax-loading__text"),n.isVisible=!1,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,i["a"]),n=t,(r=[{key:"setText",value:function(){var e=window.location.pathname,t=app.pages.find(function(t){return t.url===e}),n=(t?t.title:"Loading").split(" "),i="<span>".concat(n.join("</span> <span>"),"</span>");this.text.innerHTML=i}},{key:"createWordsTimeline",value:function(){var e=this.text.querySelectorAll("span");return(new o.a).staggerFrom(e,1,{cycle:{yPercent:[100,-100]},ease:s.f.easeOut},.1)}},{key:"createAnimIn",value:function(e){this.timeline&&this.timeline.kill();var t=this.element.querySelector(".ajax-loading__background");this.isVisible=!0,this.setText(),this.wordsTimeline=this.createWordsTimeline(),this.timeline=new o.a({onComplete:function(){e()}}).set(this.element,{visibility:"inherit"},0).fromTo(t,1.6,{y:app.windowHeight},{y:0,ease:v("inOut")},0).add(this.wordsTimeline,.7)}},{key:"createAnimOut",value:function(e){var t=this,n=this.element.querySelector(".ajax-loading__background"),i=this.text.querySelectorAll("span");this.isVisible=!1,this.timeline&&this.timeline.kill(),this.timeline=new o.a({onComplete:function(){t.timeline=null,e()},delay:.1}).staggerTo(i,1.3,{cycle:{yPercent:[-100,100]},ease:s.f.easeInOut},.1,0).to(n,1.6,{y:-app.windowHeight,ease:v("inOut")},.1).set(this.element,{clearProps:"visibility"})}},{key:"resize",value:function(){}},{key:"onAnimateInComplete",value:function(e){w(k(t.prototype),"onAnimateInComplete",this).call(this,e),window.scrollTo(0,0)}},{key:"onPopState",value:function(e){this.wordsTimeline&&this.wordsTimeline.kill(),this.setText(),this.wordsTimeline=this.createWordsTimeline(),this.timeline&&this.timeline.add(this.wordsTimeline,1)}}])&&g(n.prototype,r),a&&g(n,a),t}(),x=(n(38),n(128),n(21)),C=n.n(x);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function P(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=P(this,A(t).call(this))).initialized=!1,!window.history)return P(e);for(var i in e.listenLinks=!0,e.clickEvent=document.ontouchstart?"touchstart":"click",e.keepSearch=!0,e.prefetchLinks=!0,e.cacheEnabled=!0,n)void 0!==e[i]&&(e[i]=n[i]);return e.cache={},e.init(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,C.a),n=t,(i=[{key:"init",value:function(){this.initialized=!0,this.loadingUrls=[],this.currentPageUrl=null,this.isLoading=!1,window.history.replaceState({href:window.location.href,isFirstState:!0},"",window.location.href),window.addEventListener("popstate",this.onPopState.bind(this)),this.listenLinks&&document.addEventListener(this.clickEvent,this.onClick.bind(this)),this.prefetchLinks&&document.addEventListener("mouseover",this.onLinkRollOver.bind(this))}},{key:"loadCurrentPage",value:function(e){if(this.initialized){var t=new URL(e);return this.isLoading=!0,this.currentPageUrl=t,this.emit("pageLoading",e),this.loadPage(t)}}},{key:"loadPage",value:function(e){if(this.initialized&&(e="string"==typeof e?new URL(e):e).pathname)if(this.cache[e.pathname])this.onPageLoaded(this.cache[e.pathname]);else if(-1===this.loadingUrls.indexOf(e.pathname)){this.loadingUrls.push(e.pathname);return window.fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",credentials:"same-origin"}}).then(function(t){return t.text().then(function(n){return{url:e,text:n,status:t.status}})}).then(this.onPageLoaded.bind(this))}}},{key:"pushState",value:function(e,t){window.history.pushState(e,"",t)}},{key:"replaceState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&window.history.state)for(var i in e)void 0!==window.history.state[i]&&(window.history.state[i]=e[i]);window.history.replaceState(e,"",t)}},{key:"gotoHref",value:function(e){var t=new URL(e);if(t.pathname!==window.location.pathname){this.keepSearch&&window.location.search&&(t.search=window.location.search,e=t.href);var n={href:e};this.pushState(n,e),this.loadCurrentPage(e)}else t.hash!==window.location.hash&&(window.location.hash=t.hash)}},{key:"isSameOrigin",value:function(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),e&&0===e.indexOf(t)}},{key:"onPageLoaded",value:function(e){this.loadingUrls.splice(this.loadingUrls.indexOf(e.url.pathname),1),this.cache[e.url.pathname]=e,this.isLoading&&e.url.pathname===this.currentPageUrl.pathname&&(this.isLoading=!1,this.emit("pageLoaded",{text:e.text,url:e.url.href}))}},{key:"onClick",value:function(e){if(!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var i=0;i<n.length;i++)if(n[i].nodeName&&"A"===n[i].nodeName.toUpperCase()&&n[i].href){t=n[i];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;t&&"A"===t.nodeName.toUpperCase()&&this.onLinkClick(e,t)}}},{key:"onLinkClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.initialized&&!e.defaultPrevented){var n=t||e.currentTarget;if(!n.hasAttribute("download")){var i=n.getAttribute("href"),r=n.href;i&&i.length&&(i.indexOf("mailto:")>-1||this.isSameOrigin(r)&&(n.target||(e.preventDefault(),this.gotoHref(r))))}}}},{key:"onPopState",value:function(e){if(e.state){var t={originalEvent:e,state:e.state,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.emit("popState",t),t.defaultPrevented||e.state.href&&this.loadCurrentPage(e.state.href)}}},{key:"onLinkRollOver",value:function(e){if("A"===e.target.nodeName.toUpperCase()&&e.target.hasAttribute("data-prefetch")){var t=e.target.href;t&&this.loadPage(t)}}}])&&I(n.prototype,i),r&&I(n,r),t}(),j=(n(28),n(26),n(52),n(29),function(e){if("string"==typeof e){var t=e;(e=new Image).src=t}return new Promise(function(t,n){function i(){e.naturalWidth?t(e):n(e),e.removeEventListener("load",i),e.removeEventListener("error",i)}e.naturalWidth||e.complete?t(e):(e.addEventListener("load",i),e.addEventListener("error",i))})});function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z="js-scroll-root",M="js-scroll-container",H="js-scroll-content",D=function(e){function t(e){var n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=V(t).call(this))||"object"!==q(r)&&"function"!=typeof r?N(i):r).content=e,n.smooth=void 0===o.smooth||o.smooth,n.container=o.container||document.body,n.root=o.root||window,n.isSleeping=!0,n.oldScrollTop=-1,n.scrollTop=0,n.contentHeight=0,n.rootHeight=n.getRootHeight(),n.isTicking=!1,n.onFrameCb=n.onFrame.bind(N(n)),n.onFrameCbId=0,n.isInertialScroll=!1,n.items=[],n.itemsToRemove=[],n.direction=1,n.locked=!1,n.lockedScrollTop=0,n.isFirstFrameAfterUnlock=!1,n.containerY=0,n.containerOldY=0,n.hasActiveItem=!1,n.diffProgress=0,n.smooth&&(n.root!==window&&n.root.classList.add(z),n.container.classList.add(M),n.content.classList.add(H)),n.onScrollCb=n.onScroll.bind(N(n)),n.root.addEventListener("scroll",n.onScrollCb),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,C.a),n=t,(i=[{key:"dispose",value:function(){this.stopTicker(),this.clear(),this.root.removeEventListener("scroll",this.onScrollCb),this.smooth&&(this.content.style.transform="",this.root!==window&&this.root.classList.remove(z),this.container.classList.remove(M),this.content.classList.remove(H),this.container.style.height=""),this.onScrollExternalCb=null}},{key:"resize",value:function(e){if(!this.locked){var t=this.contentHeight,n=this.rootHeight;if(this.isInertialScroll=!1,this.contentHeight=this.content.clientHeight,this.rootHeight=this.getRootHeight(),t!==this.contentHeight||n!==this.rootHeight){this.smooth&&this.resizeContainer();for(var i=0,r=this.items.length;i<r;i++){this.items[i].resize(this)}this.render()}}}},{key:"resizeContainer",value:function(){this.container.style.height=this.contentHeight+"px"}},{key:"getRootHeight",value:function(){return this.root===window?window.innerHeight:this.root.clientHeight}},{key:"clear",value:function(){this.items.length=0,this.itemsToRemove.length=0}},{key:"clearTransforms",value:function(){for(var e=0,t=this.items.length;e<t;e++){this.items[e].clear()}}},{key:"to",value:function(e){this.containerY=e,window.scrollTo(0,e)}},{key:"addItem",value:function(e){return this.items.push(e),e}},{key:"addItems",value:function(e){for(var t=0,n=e.length;t<n;t++)this.addItem(e[t])}},{key:"startTicker",value:function(){this.isTicking||(this.isTicking=!0,this.onFrameCbId=requestAnimationFrame(this.onFrameCb))}},{key:"stopTicker",value:function(){this.isTicking&&(this.isTicking=!1,this.isSleeping=!0,cancelAnimationFrame(this.onFrameCbId))}},{key:"removeItem",value:function(e){-1!==this.items.indexOf(e)&&(e.needsRemove=!1,this.itemsToRemove.push(e))}},{key:"render",value:function(){if(!this.isInertialScroll)for(var e,t;this.itemsToRemove.length;)e=this.itemsToRemove.pop(),t=this.items.indexOf(e),this.items.splice(t,1);this.smooth?(this.containerY+=.08*(this.scrollTop-this.containerY),this.diffProgress=Math.abs(this.containerY-this.containerOldY),this.hasActiveItem=this.diffProgress>.001,this.hasActiveItem||(this.containerY=Math.round(this.containerY)),this.content.style.transform="translate3d(0,"+-1*this.containerY+"px,0)",this.containerOldY=this.containerY):this.containerY=this.scrollTop;for(var n=0,i=this.items.length;n<i;n++){var r=this.items[n];r.render(this),this.hasActiveItem||(this.hasActiveItem=r.isActive),r.needsRemove&&this.removeItem(r)}!this.isInertialScroll&&this.onScrollExternalCb&&this.onScrollExternalCb(),this.hasActiveItem||(this.isSleeping=!0),this.isInertialScroll=!0}},{key:"onFrame",value:function(){this.isSleeping?this.isTicking=!1:(this.render(),this.onFrameCbId=requestAnimationFrame(this.onFrameCb))}},{key:"onScroll",value:function(){this.scrollTop=this.root===window?window.pageYOffset:this.root.scrollTop,this.direction=this.scrollTop>this.oldScrollTop?1:-1,this.oldScrollTop=this.scrollTop,this.isInertialScroll=!1,this.isSleeping&&(this.isSleeping=!1,this.startTicker())}}])&&R(n.prototype,i),r&&R(n,r),t}();n(129);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=X(this,U(t).call(this))).element=e.element,n.targets=Y(e.targets),n.color="light",n.intersections=new Array(n.targets.length),n.initObserver(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,C.a),n=t,(i=[{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver(this.onObserverChange.bind(this),{rootMargin:this.getObserverMargin()}),this.targets.forEach(function(t){e.observer.observe(t)})}},{key:"dispose",value:function(){this.disposeObserver()}},{key:"disposeObserver",value:function(){this.observer.disconnect()}},{key:"resize",value:function(){this.disposeObserver(),this.initObserver()}},{key:"getObserverMargin",value:function(){var e=this.element.getBoundingClientRect(),t=e.top+Math.floor(e.height/2),n=app.windowWidth-e.right,i=app.windowHeight-(e.top+Math.floor(e.height/2)+1),r=e.left;return"-".concat(t,"px -").concat(n,"px -").concat(i,"px -").concat(r,"px")}},{key:"setColor",value:function(e){e!==this.color&&(this.color=e,this.emit("change",{color:e}))}},{key:"onObserverChange",value:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t],r=this.targets.indexOf(i.target);this.intersections[r]=!!i.isIntersecting&&i.target.dataset.color}for(var o=this.intersections.length-1;o>-1;o--)if(this.intersections[o]){this.setColor(this.intersections[o]);break}}}])&&W(n.prototype,i),r&&W(n,r),t}();function Q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.canAutoplay=!0,this.hasPlayEventListener=!1,this.playCallback=this.onPlay.bind(this),this.observer=new IntersectionObserver(this.onObserverChange.bind(this),{rootMargin:"500px 0px 500px 0px"}),this.observer.observe(this.element)}var t,n,i;return t=e,(n=[{key:"dispose",value:function(){this.observer.disconnect(),this.observer=null}},{key:"onObserverChange",value:function(e){if(e[0].isIntersecting){if(!this.canAutoplay)return;this.element.src||(this.element.src=this.element.dataset.src);var t=this.element.play();t?t.then(this.playCallback).catch(this.onPlayError.bind(this)):this.hasPlayEventListener||this.isLoaded||(this.hasPlayEventListener=!0,this.element.addEventListener("play",this.playCallback))}else this.element.pause()}},{key:"onPlay",value:function(){this.isLoaded||(this.hasPlayEventListener&&(this.hasPlayEventListener=!1,this.element.removeEventListener("play",this.playCallback)),this.isLoaded=!0,this.onLoaded())}},{key:"onPlayError",value:function(){this.canAutoplay=!1,this.element.dataset.poster&&!this.element.poster&&(this.element.poster=this.element.dataset.poster,this.onLoaded())}},{key:"onLoaded",value:function(){this.element.classList.add("is-loaded")}}])&&Q(t.prototype,n),i&&Q(t,i),e}(),J=n(65),Z=n(181);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe={OPEN:0,CLOSE:1},se="js-nav-toggle--close",ae=new(function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(i=ne(t).call(this))||"object"!==ee(i)&&"function"!=typeof i?ie(n):i).element=document.querySelector(".nav-toggle"),e.element.addEventListener("mouseenter",e.onRollOver.bind(ie(e))),e.element.addEventListener("mouseleave",e.onRollOut.bind(ie(e))),e.element.addEventListener("mousedown",e.onMouseDown.bind(ie(e))),e.element.addEventListener("click",e.onClick.bind(ie(e))),e.openHovered=!1,e.closeHovered=!1,e.state=e.element.classList.contains(se)?oe.CLOSE:oe.OPEN,e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,C.a),n=t,(i=[{key:"setState",value:function(e){if(e!==this.state){var t=this.element.querySelector(".nav-toggle__close-label"),n=this.element.querySelector(".nav-toggle__picto--open"),i=this.element.querySelector(".nav-toggle__picto--close"),r=i.querySelectorAll(".nav-toggle__line"),a=45*Math.PI/180,l=32.4*Math.cos(a),c=32.4*Math.sin(a),u=new o.a;if(this.element.classList.toggle(se,e===oe.CLOSE),this.state=e,s.k.killTweensOf([t,n,i,r]),e===oe.CLOSE)u.set(n,{visibility:"inherit"},0).fromTo(n,.3,{opacity:1},{opacity:0},0).set(n,{clearProps:"visibility"}).addLabel("close","+=.5").fromTo(t,.8,{x:-50,opacity:0},{x:0,opacity:1,ease:s.g.easeOut},"close").staggerFromTo(r,1,{cycle:{x:[-l,l],y:[-c,-c,c,c]}},{x:0,y:0,ease:s.f.easeInOut},0,"close").staggerFromTo(r,1,{scaleX:0},{scaleX:1.8,ease:s.f.easeInOut},0,"close").to(r,1.5,{scaleX:1,ease:s.f.easeOut},"-=.4");else{var h=[i];app.windowWidth>=app.breakpoints.small&&h.push(t),u.set(h,{visibility:"inherit"},0).to(t,1,{x:-30,opacity:0,ease:s.f.easeInOut},0).staggerTo(r,1,{cycle:{x:[-l,l],y:[-c,-c,c,c]},ease:s.f.easeInOut},0,0).staggerTo(r,1,{scaleX:0,ease:s.f.easeInOut},0,0).set([t,i],{clearProps:"visibility"}).fromTo(n,.5,{opacity:0},{opacity:1},.3)}}}},{key:"setColor",value:function(e){e?e!==this.color&&(this.color=e,"light"===e?this.element.classList.add("nav-toggle--light"):this.element.classList.remove("nav-toggle--light"),"dark"===e?this.element.classList.add("nav-toggle--dark"):this.element.classList.remove("nav-toggle--dark")):this.clearColor()}},{key:"clearColor",value:function(){this.color=null,this.element.classList.remove("nav-toggle--light"),this.element.classList.remove("nav-toggle--dark")}},{key:"show",value:function(){this.isVisible||(this.isVisible=!0,this.animateIn())}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1,this.animateOut())}},{key:"animateIn",value:function(){var e=this.element.getBoundingClientRect(),t=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");this.element.style.visibility="inherit",(new o.a).staggerFromTo([t[2],t[0]],1.3,{y:-1*(e.top+e.height),opacity:0},{y:0,opacity:1,onComplete:function(){s.k.set(t,{clearProps:"transform"})},ease:s.g.easeOut},.1)}},{key:"animateOut",value:function(){var e=this,t=this.element.getBoundingClientRect(),n=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");(new o.a).staggerTo([n[0],n[2]],1.3,{y:-1*(t.top+t.height),opacity:0,ease:s.g.easeInOut},.1,function(){e.element.style.visibility="",s.k.set(n,{clearProps:"transform"})})}},{key:"updateWithNavVisibility",value:function(e){this.element.setAttribute("aria-expanded",e),this.setState(e?oe.CLOSE:oe.OPEN)}},{key:"rollOverOpen",value:function(){var e=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");this.openHovered=!0,this.rollTimeline&&this.rollTimeline.kill(),this.rollTimeline=(new o.a).staggerTo([e[2],e[0]],.7,{scaleX:0,x:25,ease:s.e.easeInOut},.1,0).to([e[2],e[0]],.2,{opacity:0},"-=.2").staggerFromTo([e[3],e[1]],.7,{x:-50,scaleX:0,visibility:"inherit"},{x:0,scaleX:1,ease:s.e.easeInOut},.1,.1).fromTo([e[3],e[1]],.2,{opacity:0},{opacity:1},.1)}},{key:"rollOutOpen",value:function(){var e=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");this.openHovered=!1,this.rollTimeline&&this.rollTimeline.kill(),this.rollTimeline=(new o.a).staggerTo([e[3],e[1]],.5,{scaleX:0,x:-50,ease:s.e.easeInOut},.1,0).to([e[3],e[1]],.2,{opacity:0},"-=.2").staggerTo([e[2],e[0]],.5,{x:0,scaleX:1,ease:s.e.easeInOut,onComplete:function(){s.k.set([e[1],e[0]],{clearProps:"visibility"})}},.1,.1).to([e[2],e[0]],.2,{opacity:1},.1)}},{key:"rollOverClose",value:function(){var e=this.element.querySelector(".nav-toggle__picto--close"),t=e.querySelectorAll(".nav-toggle__line"),n=45*Math.PI/180,i=32.4*Math.cos(n),r=32.4*Math.sin(n);this.closeHovered=!0,s.k.killTweensOf(t),(new o.a).to(e,.2,{opacity:0}).add("in").set(e,{opacity:1}).staggerFromTo(t,.6,{cycle:{x:[-i,i],y:[-r,-r,r,r]},immediateRender:!1},{x:0,y:0,ease:Cubic.easeInOut},0,"in").staggerFromTo(t,.6,{scaleX:0,immediateRender:!1},{scaleX:1.8,ease:Cubic.easeInOut},0,"in").to(t,.7,{scaleX:1,ease:Cubic.easeOut},"-=.4")}},{key:"rollOutClose",value:function(){this.closeHovered=!1}},{key:"onRollOver",value:function(){this.state===oe.CLOSE?this.rollOverClose():this.rollOverOpen()}},{key:"onRollOut",value:function(){this.closeHovered&&this.rollOutClose(),this.openHovered&&this.rollOutOpen()}},{key:"onMouseDown",value:function(e){e.preventDefault()}},{key:"onClick",value:function(){this.emit("click")}}])&&te(n.prototype,i),r&&te(n,r),t}()),le=n(12);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de="is-current",me=new(function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=fe(t).call(this),(e=!i||"object"!==ce(i)&&"function"!=typeof i?pe(n):i).isVisible=!1,e.element=document.querySelector(".nav"),e.currentItem=e.element.querySelector(".nav__item."+de),e.items=e.element.querySelectorAll(".nav__item"),e.background=e.element.querySelector(".nav__background"),e.keyUpCallback=e.onKeyUp.bind(pe(e)),e.keyDownCallback=e.onKeyDown.bind(pe(e)),e.focusedItem=null,e.hoveredItemTimeout=-1,e.clickedItem=null,e.background.addEventListener("click",e.onBackgroundClick.bind(pe(e))),app.isMobile||(ue(e.items).forEach(function(t){t.addEventListener("click",e.onItemClick.bind(pe(e))),t.addEventListener("mouseenter",e.onItemRollOver.bind(pe(e))),t.addEventListener("mouseleave",e.onItemRollOut.bind(pe(e)))}),e.$anchors=e.element.querySelectorAll(".js-anchor-link"),e.currentAnchorIndex=-1,e.onAnchorEnter=e.onAnchorEnter.bind(pe(e)),e.onAnchorLeave=e.onAnchorLeave.bind(pe(e)),e.$anchors.forEach(function(t){t.addEventListener("mouseenter",e.onAnchorEnter),t.addEventListener("mouseleave",e.onAnchorLeave)}),e.initTabKeyTrap()),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,C.a),n=t,(i=[{key:"focusAnchor",value:function(e){this.$anchors.forEach(function(t){var n=t.getAttribute("data-index")>>0==e;t.classList.remove("is-faded"),t.classList[n?"add":"remove"]("is-active"),n||-1==e||t.classList.add("is-faded")})}},{key:"onAnchorEnter",value:function(e){this.focusAnchor(e.currentTarget.getAttribute("data-index")>>0)}},{key:"onAnchorLeave",value:function(e){this.focusAnchor(-1)}},{key:"initTabKeyTrap",value:function(){var e=ue(this.element.querySelectorAll('a[href], button:not([disabled]), [tabindex="0"]'));this.firstFocusableElement=e[0],this.lastFocusableElement=e[e.length-1]}},{key:"setVisibility",value:function(e){this.isVisible=e,this.element.setAttribute("aria-hidden",!e),this.emit("visibilityChange",{isVisible:this.isVisible})}},{key:"setCurrentItem",value:function(e){this.currentItem&&e===this.currentItem.dataset.page||(this.currentItem?(this.previousItem=this.currentItem,this.previousItem.classList.remove(de),app.windowWidth>=app.breakpoints.small&&this.blurItem(this.previousItem)):this.previousItem=null,this.currentItem=this.element.querySelector('.nav__item[data-page="'.concat(e,'"]')),this.currentItem&&this.currentItem.classList.add(de))}},{key:"show",value:function(){this.isVisible||(this.clickedItem=null,document.body.classList.add("js-nav-visible"),this.setVisibility(!0),this.animateIn(),window.addEventListener("keyup",this.keyUpCallback),window.addEventListener("keydown",this.keyDownCallback))}},{key:"hide",value:function(){var e=this;this.isVisible&&(document.body.classList.remove("js-nav-visible"),this.setVisibility(!1),this.animateOut(),window.removeEventListener("keyup",this.keyUpCallback),window.removeEventListener("keydown",this.keyDownCallback),this.$anchors&&this.$anchors.forEach(function(t){t.removeEventListener("mouseenter",e.onAnchorEnter),t.removeEventListener("mouseleave",e.onAnchorLeave)}))}},{key:"toggleVisibility",value:function(){this.isVisible?this.hide():this.show()}},{key:"animateIn",value:function(){var e=this.element.querySelector(".nav__inner__background"),t=this.element.querySelector(".nav__logo"),n=this.element.querySelectorAll(".nav__item"),i=this.element.querySelectorAll(".nav__login");if(this.timeline&&this.timeline.kill(),this.timeline=new o.a({onComplete:this.onAnimateInComplete.bind(this)}).set(this.element,{visibility:"inherit"},0).fromTo(this.background,1,{opacity:0},{opacity:1},0).fromTo(e,1.5,{yPercent:-100,opacity:0},{yPercent:0,opacity:1,ease:le.a.easeInOut},0).fromTo(t,1.3,{yPercent:-100,opacity:0},{yPercent:0,opacity:1,ease:le.a.easeOut},.8).staggerFromTo(n,1.2,{y:80,rotation:30,opacity:0},{y:0,rotation:0,opacity:1,ease:le.a.easeOut},.1,1).fromTo(i,.8,{opacity:0},{opacity:1},1),this.currentItem&&app.windowWidth>=app.breakpoints.small){var r=this.currentItem.querySelector(".nav__item__arrow"),a=this.currentItem.querySelector(".nav__item__label");this.timeline.fromTo(r,1.3,{opacity:0,scaleX:0},{opacity:1,scaleX:1,ease:s.f.easeInOut},1).to(a,.8,{opacity:1},1)}}},{key:"animateOut",value:function(){var e=this.element.querySelector(".nav__inner__background"),t=this.element.querySelector(".nav__logo"),n=this.element.querySelectorAll(".nav__item"),i=this.element.querySelectorAll(".nav__login");if(this.timeline&&this.timeline.kill(),this.timeline=new o.a({onComplete:this.onAnimateOutComplete.bind(this)}).to(this.background,1,{opacity:0},.3).to(e,1.6,{yPercent:-100,opacity:0,ease:le.a.easeInOut},.1).to(t,.6,{yPercent:-100,opacity:0,ease:le.a.easeIn},0).staggerTo(n,.8,{y:40,rotation:15,opacity:0,ease:s.f.easeInOut},-.05,0).to(i,.6,{opacity:0},0),this.currentItem&&app.windowWidth>=app.breakpoints.small){var r=this.currentItem.querySelector(".nav__item__arrow");this.timeline.to(r,.8,{opacity:0,scaleX:0,ease:s.f.easeInOut},0)}this.timeline.set(this.element,{clearProps:"visibility"})}},{key:"trapTabKey",value:function(e){e.shiftKey?document.activeElement===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}},{key:"focusItem",value:function(e){if(this.focusedItem||e!==this.currentItem){var t=e.querySelector(".nav__item__label"),n=e.querySelector(".nav__item__arrow"),i=this.focusedItem||this.currentItem;s.k.killTweensOf([t,n]),i&&this.blurItem(i),s.k.to(t,.6,{opacity:1,ease:s.d.easeOut,delay:i?.2:0}),s.k.to(n,.6,{scaleX:1,opacity:1,ease:s.f.easeOut,delay:i?.1:0}),this.focusedItem=e===this.currentItem?null:e}}},{key:"blurItem",value:function(e){var t=e.querySelector(".nav__item__label"),n=e.querySelector(".nav__item__arrow");s.k.killTweensOf([t,n]),s.k.to(t,.4,{opacity:.5,ease:s.d.easeInOut}),s.k.to(n,.4,{scaleX:0,opacity:0,ease:s.e.easeIn})}},{key:"onAnimateInComplete",value:function(){this.timeline=null}},{key:"onAnimateOutComplete",value:function(){this.timeline=null}},{key:"onKeyUp",value:function(e){"Escape"===e.key&&this.hide()}},{key:"onKeyDown",value:function(e){"Tab"===e.key&&this.trapTabKey(e)}},{key:"onItemRollOver",value:function(e){clearTimeout(this.hoveredItemTimeout),this.focusItem(e.currentTarget)}},{key:"onItemClick",value:function(e){this.clickedItem=e.currentTarget}},{key:"onItemRollOut",value:function(e){var t=this;this.clickedItem&&e.currentTarget===this.clickedItem||(this.hoveredItemTimeout=setTimeout(function(){t.currentItem?t.focusItem(t.currentItem):t.focusedItem&&(t.blurItem(t.focusedItem),t.focusedItem=null)},200))}},{key:"onBackgroundClick",value:function(){this.hide()}}])&&he(n.prototype,i),r&&he(n,r),t}());function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _e(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e,t,n){return(we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}J.a;var Oe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_e(this,ke(t).call(this))).id=e.id,n.uid=e.uid?n.id+"-"+e.uid:e.id,n.owner=e.owner,n.element=e.element,n.url=e.url||window.location.href,n.isAjax=!!e.url,n.isVisible=!1,n.container=document.querySelector(".page-container"),n.isLoadingAssets=!1,n.assetPromises=[],n.loadAssetsTimeOut=-1,n.numLoadedAssets=0,n.skipIn=!1,n.animInPromises=[],n.animOutPromises=[],n.showHeaderDelay=0,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,i["a"]),n=t,(r=[{key:"initPage",value:function(){this.isAjax&&this.initAjaxPage(),app.windowWidth>=app.breakpoints.small&&!app.isMobile&&this.initScroll(),this.initColorObservers(),this.initLazyVideos(),this.initAnchorLinks(),window.objectFitPolyfill&&objectFitPolyfill()}},{key:"initAjaxPage",value:function(){document.body.classList.add("page-id-"+this.id),this.element.style.position="",this.element.style.left="",this.element.style.width="",this.updateHeaderColor(),this.updateTitle()}},{key:"initScroll",value:function(){var e=this;if(setTimeout(function(){window.location.hash&&e.scrollToAnchor(window.location.hash)},100),!app.isMobile){var t=window.ResizeObserver||Z.a;this.scroll=new D(this.element,{smooth:!app.isSafari}),this.populateScrollItems(),this.scrollResizeObserver=new t(this.onScrollResizeObserverChange.bind(this)),this.scrollResizeObserver.observe(this.element),this.scroll.resize()}}},{key:"initColorObservers",value:function(){var e=this.element.querySelectorAll("[data-color]");if(e){var t=document.querySelector(".logo");this.logoColorObserver=new G({element:t,targets:e}),this.logoColorObserver.on("change",this.onLogoColorChange.bind(this))}}},{key:"initLazyVideos",value:function(){var e=this,t=this.element.querySelectorAll(".video[data-src]");this.lazyVideos=[],be(t).forEach(function(t){var n=new $({element:t});e.lazyVideos.push(n)})}},{key:"initAnchorLinks",value:function(){var e=this;be(this.element.querySelectorAll('[href^="#"]')).forEach(function(t){t.addEventListener("click",e.onAnchorLinkClick.bind(e))})}},{key:"dispose",value:function(){we(ke(t.prototype),"dispose",this).call(this),this.disposePage(),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"disposePage",value:function(){this.owner.currentScreen.id!==this.id&&document.body.classList.remove("page-id-"+this.id),this.disposeScroll(),this.disposeColorObservers(),this.disposeLazyVideos()}},{key:"disposeScroll",value:function(){this.scroll&&(this.scrollResizeObserver&&this.scrollResizeObserver.disconnect(),this.scroll.dispose(),this.scroll=null)}},{key:"disposeColorObservers",value:function(){this.logoColorObserver&&(this.logoColorObserver.off("change"),this.logoColorObserver.dispose())}},{key:"disposeLazyVideos",value:function(){if(this.lazyVideos)for(;this.lazyVideos.length;)this.lazyVideos.shift().dispose()}},{key:"loadAssets",value:function(){var e=this;return this.isLoadingAssets=!0,this.loadAssetsTimeOut=setTimeout(function(){e.onLoadAssetsComplete()},4e3),this.isAjax&&(this.element.style.position="absolute",this.element.style.left="-9999px",this.element.style.width=app.windowWidth+"px",this.container.appendChild(this.element)),this.populateAssetPromises(),Promise.all(this.assetPromises).then(this.onLoadAssetsComplete.bind(this)).catch(this.onLoadAssetsError.bind(this))}},{key:"addAssetToLoad",value:function(e){this.assetPromises.push(e),e.then(this.onAssetLoaded.bind(this))}},{key:"loadImage",value:function(e){if(e){var t=e.currentSrc||e.src,n=j(t);this.addAssetToLoad(n)}}},{key:"abortLoadAssets",value:function(){}},{key:"populateAssetPromises",value:function(){}},{key:"resize",value:function(e){app.windowWidth<app.breakpoints.small?this.scroll&&this.disposeScroll():app.isMobile||(this.scroll?this.scrollResizeObserver||this.scroll.resize():this.initScroll())}},{key:"updateTitle",value:function(){var e=this.element.getAttribute("data-title");e&&e.length&&(document.title=e)}},{key:"updateHeaderColor",value:function(){var e=null;this.element.dataset.color&&(e="dark"===this.element.dataset.color?"light":"dark"),this.dispatchHeaderColor(e)}},{key:"dispatchHeaderColor",value:function(e){this.emit("changeHeaderColor",{color:e})}},{key:"createAnimIn",value:function(e){var t=this;this.initPage(),this.isVisible=!0,this.timeline=new o.a({delay:this.isAjax?.1:0});var n=new Promise(function(e){t.timeline.eventCallback("onComplete",e)});this.animInPromises.push(n),this.timeline.set(this.element,{visibility:"inherit"},0),this.populateAnimIn(),this.timeline.add(function(){t.emit("showHeader")},this.showHeaderDelay),Promise.all(this.animInPromises).then(e),(!this.isAjax&&app.skipIn||this.skipIn)&&(this.timeline.pause(),setTimeout(function(){return t.timeline.progress(1)})),this.emit("animInStart")}},{key:"populateAnimIn",value:function(){}},{key:"createAnimOut",value:function(e){var t=this;this.isVisible=!1,this.timeline&&this.timeline.kill(),this.timeline=new o.a;var n=new Promise(function(e){t.timeline.eventCallback("onComplete",e)});this.animOutPromises.push(n),this.populateAnimOut(),Promise.all(this.animOutPromises).then(e)}},{key:"populateAnimOut",value:function(){}},{key:"populateScrollItems",value:function(){}},{key:"scrollToAnchor",value:function(e){var t=e.split("#").join("").replace(/\_/g,"-"),n=this.element.querySelector('a[name="'.concat(t,'"]'));if(n){var i=window.pageYOffset+n.getBoundingClientRect().top-200;s.k.to(window,1,{scrollTo:{y:i,autoKill:!app.isMobile}})}}},{key:"onAnimateInComplete",value:function(e){var n,i;we(ke(t.prototype),"onAnimateInComplete",this).call(this,e),this.isAjax&&(n=app.googleAnalyticsId,i={page_path:window.location.pathname},window.gtag&&window.gtag("config",n,i)),window.location.hash&&this.scrollToAnchor(window.location.hash),this.onHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",this.onHashChange,!1)}},{key:"onHashChange",value:function(){ae.setState(0),me.hide(),window.location.hash&&this.scrollToAnchor(window.location.hash)}},{key:"onAssetLoaded",value:function(){this.numLoadedAssets++;var e=this.numLoadedAssets/this.assetPromises.length;this.emit("assetLoaded",{progress:e})}},{key:"onLoadAssetsComplete",value:function(){this.isLoadingAssets&&(this.isLoadingAssets=!1,clearTimeout(this.loadAssetsTimeOut),this.emit("loadAssetsComplete"))}},{key:"onLoadAssetsError",value:function(){this.onLoadAssetsComplete()}},{key:"onPopState",value:function(e){}},{key:"onLogoColorChange",value:function(e){var t="dark"===e.color?"light":"dark";this.dispatchHeaderColor(t)}},{key:"onScrollResizeObserverChange",value:function(){this.scroll.resize()}},{key:"onAnchorLinkClick",value:function(e){var t=e.currentTarget.getAttribute("href");this.scrollToAnchor(t)}}])&&ge(n.prototype,r),a&&ge(n,a),t}();function xe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.isRunning=!1,this.paused=!1,this.needsReset=!1,this.tickCallback=this.onTick.bind(this),this.words=this.element.querySelectorAll(".vert-text__word"),this.updateWords()}var t,n,i;return t=e,(n=[{key:"dispose",value:function(){this.stop()}},{key:"updateWords",value:function(){var e=this;this.wordX=[],this.wordY=[],this.wordOffset=0,this.wordHeight=0,this.wordsOrder=[],xe(this.words).forEach(function(t,n){t.style.transform="";var i=t.getBoundingClientRect();e.wordsOrder[n]=n,e.wordX[n]=0,e.wordY[n]=i.bottom,0===n||e.wordOffset||(e.wordOffset=e.wordY[n-1]-e.wordY[n]-e.wordHeight),e.wordHeight||(e.wordHeight=i.height)})}},{key:"resize",value:function(){this.pause(),this.updateWords(),this.resume()}},{key:"start",value:function(){this.isRunning||(this.isRunning=!0,s.k.ticker.addEventListener("tick",this.tickCallback))}},{key:"pause",value:function(){this.isRunning&&(this.isRunning=!1,this.paused=!0,s.k.ticker.removeEventListener("tick",this.tickCallback))}},{key:"resume",value:function(){this.paused&&(this.paused=!1,this.start())}},{key:"stop",value:function(){this.pause(),this.paused=!1,this.reset()}},{key:"reset",value:function(){var e=this;this.needsReset&&(this.wordX=[],this.wordsOrder=[],xe(this.words).forEach(function(t,n){t.style.transform="",e.wordsOrder[n]=n,e.wordX[n]=0}),this.needsReset=!1)}},{key:"render",value:function(){for(var e=0,t=this.words.length;e<t;e++){if(this.wordX[e]=this.wordX[e]+.7,this.wordY[e]-this.wordX[e]<0){var n=this.wordsOrder.indexOf(e);this.wordX[e]=-(this.wordY[this.wordsOrder[0]]-this.wordY[e])+this.wordX[this.wordsOrder[0]]-this.wordHeight-this.wordOffset,this.wordsOrder.unshift(this.wordsOrder.splice(n,1)[0])}this.words[e].style.transform="translate3d(".concat(this.wordX[e],"px, 0px, 0px)")}this.needsReset=!0}},{key:"onTick",value:function(){this.render()}}])&&Ce(t.prototype,n),i&&Ce(t,i),e}();function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ae(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e,t,n){return(Ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ae(this,Le(t).call(this))).element=e.element,n.owner=e.owner,n.index=e.index,n.navigationEnabled=!0,n.previousIndex=-1,n.splitDescription=null,app.windowWidth>=app.breakpoints.small&&n.initVertText(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,i["a"]),n=t,(r=[{key:"initVertText",value:function(){var e=this.element.querySelector(".home__screen__vert-text");this.vertText=new Te({element:e})}},{key:"dispose",value:function(){Ee(Le(t.prototype),"dispose",this).call(this),this.vertText&&this.vertText.dispose()}},{key:"resize",value:function(){this.revertSplitDescription(),this.vertText&&this.vertText.resize()}},{key:"getSplitDescription",value:function(){if(!this.splitDescription){var e=this.element.querySelector(".home__screen__description");this.splitDescription=new SplitText(e,{type:"lines"})}return this.splitDescription}},{key:"revertSplitDescription",value:function(){this.splitDescription&&(this.splitDescription.revert(),this.splitDescription=null)}},{key:"createAnimIn",value:function(e){var t=this;this.timeline&&this.timeline.kill(),this.navigationEnabled=!1,this.vertText&&this.vertText.reset(),this.timeline=new o.a({onComplete:e}).add(function(){t.element.classList.add("is-current")},0).add(function(){t.vertText&&t.vertText.start()},1),-1!==this.previousIndex&&this.populateAnimIn(),this.timeline.add(function(){t.navigationEnabled=!0},"-=1")}},{key:"populateAnimIn",value:function(){var e=this.index>this.previousIndex?1:-1,t=this.element.querySelectorAll(".home__screen__title > .home__screen__title__inner > .home__screen__title__word"),n=this.getSplitDescription().lines.slice(),i=this.element.querySelector(".home__screen__more"),r=this.element.querySelector(".vert-text__inner"),o=(this.element.querySelector(".home__index"),this.element.querySelector(".home__index__value:not(.home__index__value--next)")),a=this.element.querySelector(".home__index__separator"),l=this.element.querySelector(".home__index__total");n.push(i),this.timeline.fromTo(o,1.5,{yPercent:100*e},{yPercent:0,ease:le.a.easeOut},1).set([a,l],{opacity:0},0).set([a,l],{opacity:1},.8).staggerFromTo(t,1.6,{cycle:{yPercent:[100,-100]}},{yPercent:0,ease:le.a.easeOut},.1,2).staggerFromTo(n,1.6,{y:80,opacity:0,rotation:15,transformOrigin:"left top"},{y:0,rotation:0,opacity:1,ease:s.f.easeInOut},.15,2).fromTo(r,3,{x:.7*-app.windowHeight,opacity:0},{x:0,opacity:1,ease:s.e.easeInOut},2)}},{key:"createAnimOut",value:function(e){var t=this;this.timeline&&this.timeline.kill(),this.timeline=new o.a({onComplete:e}).add(function(){t.element.classList.remove("is-current"),t.vertText&&t.vertText.pause()},0).set(this.element,{visibility:"inherit"},0),this.populateAnimOut(),this.timeline.set(this.element,{clearProps:"visibility"})}},{key:"populateAnimOut",value:function(){var e=this.index<this.owner.currentScreen.index?1:-1,t=this.element.querySelectorAll(".home__screen__title > .home__screen__title__inner > .home__screen__title__word"),n=this.getSplitDescription().lines.slice(),i=this.element.querySelector(".home__screen__more"),r=this.element.querySelector(".vert-text__inner"),o=this.element.querySelector(".home__index__value:not(.home__index__value--next)"),a=this.element.querySelector(".home__index__separator"),l=this.element.querySelector(".home__index__total"),c=this.owner.currentScreen.element.querySelector(".home__index"),u=this.element.querySelector(".home__index"),h=c.getBoundingClientRect(),f=u.getBoundingClientRect(),p=h.top-f.top;n.push(i),this.timeline.to(u,.8,{y:p,ease:s.f.easeInOut},0).to(o,1.5,{yPercent:-100*e,ease:le.a.easeIn,onComplete:function(){s.k.set(u,{clearProps:"y"})}},0).set([a,l],{opacity:0},.8).staggerTo(t,.9,{yPercent:-100,ease:s.f.easeInOut},.1,0).staggerTo(n,1.6,{y:-80,opacity:0,ease:s.f.easeInOut},.15,0).to(r,2,{x:.5*app.windowHeight,opacity:0,ease:s.e.easeInOut},0)}},{key:"onAnimateInComplete",value:function(e){Ee(Le(t.prototype),"onAnimateInComplete",this).call(this,e),e&&this.timeline.kill(),this.timeline=null}},{key:"onAnimateOutComplete",value:function(e){Ee(Le(t.prototype),"onAnimateOutComplete",this).call(this,e),this.vertText&&this.vertText.stop(),this.revertSplitDescription()}},{key:"onComplete",value:function(){this.emit("complete")}}])&&Pe(n.prototype,r),a&&Pe(n,a),t}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,r=Be(t).call(this),(n=!r||"object"!==Re(r)&&"function"!=typeof r?ze(i):r).element=e.element,n.screens=n.element.querySelectorAll(".home__nav__screen"),n.element.querySelector(".home__nav__prev").addEventListener("click",n.onPrevClick.bind(ze(n))),n.element.querySelector(".home__nav__next").addEventListener("click",n.onNextClick.bind(ze(n))),n.screens.forEach(function(e){e.addEventListener("click",n.onScreenClick.bind(ze(n)))}),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,C.a),n=t,(i=[{key:"dispose",value:function(){}},{key:"setCurrentItem",value:function(e,t){var n=this.screens[t].querySelector(".home__nav__screen__button__label--fill"),i=n.querySelector(".home__nav__screen__button__label__inner"),r=this.screens[e].querySelector(".home__nav__screen__button__label--fill"),o=r.querySelector(".home__nav__screen__button__label__inner"),a=e<t?-1:1,l=v("inOut");this.screens[t].classList.remove("is-current"),this.screens[e].classList.add("is-current"),s.k.fromTo(n,1.2,{visibility:"inherit"},{xPercent:100*a,ease:l,onComplete:function(){s.k.set(n,{clearProps:"visibility"})}}),s.k.fromTo(i,1.2,{visibility:"inherit"},{xPercent:-100*a,ease:l,onComplete:function(){s.k.set(i,{clearProps:"visibility"})}}),s.k.fromTo(r,1.5,{xPercent:-100*a},{xPercent:0,ease:l,delay:.8}),s.k.fromTo(o,1.5,{xPercent:100*a},{xPercent:0,ease:l,delay:.8})}},{key:"onPrevClick",value:function(){this.emit("click",{screen:"prev"})}},{key:"onNextClick",value:function(){this.emit("click",{screen:"next"})}},{key:"onScreenClick",value:function(e){var t=Ve(this.screens).indexOf(e.currentTarget);this.emit("click",{screen:t})}}])&&Ne(n.prototype,i),r&&Ne(n,r),t}();function De(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.prevVideoIndex=-1,this.currentVideoIndex=-1,this.videos=this.element.querySelectorAll(".home__background__video"),this.numVideos=.5*(this.videos.length-1)}var t,n,i;return t=e,(n=[{key:"getVideo",value:function(e){return this.element.querySelector('.home__background__video[data-id="'.concat(e,'"]'))}},{key:"preload",value:function(e){var t=e+1+"-"+(e===this.numVideos-1?1:e+2),n=e+1+"-"+(0===e?this.numVideos:e);this.load(t),this.load(n)}},{key:"load",value:function(e){var t=this.getVideo(e);return t.src||(t.src=t.dataset.src),t.load(),function(e,t){var n=[],i=new Promise(function(t,n){function i(){e.removeEventListener("canplaythrough",r),e.removeEventListener("error",o)}function r(){i(),t(e)}function o(){i(),n(e)}4===e.readyState?t(e):(e.addEventListener("canplaythrough",r),e.addEventListener("error",o))});if(n.push(i),void 0!==t){var r=new Promise(function(n,i){setTimeout(function(){i(e)},t)});n.push(r)}return Promise.race(n)}(t).catch(function(e){console.log(e)})}},{key:"play",value:function(e){var t=this.getVideo(e),n=De(this.videos).indexOf(t);if(n!==this.currentVideoIndex){this.prevVideoIndex=this.currentVideoIndex,this.currentVideoIndex=n,t.classList.add("is-current");var i=t.play();if(i&&i.catch(function(e){t.dataset.poster&&(t.poster=t.dataset.poster)}),-1!==this.prevVideoIndex){var r=this.videos[this.prevVideoIndex];r.pause(),setTimeout(function(){r.classList.remove("is-current")})}}}}])&&Fe(t.prototype,n),i&&Fe(t,i),e}();function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ke(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e,t,n){return(Ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ke(this,Qe(t).call(this,e))).loadingVideos=[],n.navigationEnabled=!0,n.introCanAutoplay=!0,n.initBackground(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,Oe),n=t,(r=[{key:"initPage",value:function(){Ge(Qe(t.prototype),"initPage",this).call(this),this.screens=this.element.querySelectorAll(".home__screen"),this.showHeaderDelay=this.introCanAutoplay?3:1,this.initScreenNavigator(),this.initCurrentScreen(),this.initNav(),this.initNavListeners()}},{key:"initBackground",value:function(){var e=this.element.querySelector(".home__background");this.background=new Ye({element:e})}},{key:"initColorObservers",value:function(){}},{key:"initScroll",value:function(){}},{key:"initLazyVideos",value:function(){}},{key:"initScreenNavigator",value:function(){this.screenNavigator=new i.d,this.screenNavigator.transitionType=i.c.OutAndIn,this.screenNavigator.on("transitionStart",this.onScreenNavigatorTransitionStart.bind(this))}},{key:"initCurrentScreen",value:function(){var e=this.element.querySelector(".home__screen.is-current");this.previousScreenIndex=-1,this.currentScreenIndex=Xe(this.screens).indexOf(e),this.showScreen(this.currentScreenIndex)}},{key:"initNav",value:function(){var e=this.element.querySelector(".home__nav");this.nav=new He({element:e}),this.nav.on("click",this.onNavClick.bind(this))}},{key:"initNavListeners",value:function(){this.onKeyUpCallback=this.onKeyUp.bind(this),this.onWheelCallback=this.onWheel.bind(this),window.addEventListener("keyup",this.onKeyUpCallback),window.addEventListener("wheel",this.onWheelCallback,{passive:!1}),app.hasTouch&&(this.touchStartCallback=this.onTouchStart.bind(this),this.touchEndCallback=this.onTouchEnd.bind(this),window.addEventListener("touchstart",this.touchStartCallback),window.addEventListener("touchend",this.touchEndCallback))}},{key:"dispose",value:function(){Ge(Qe(t.prototype),"dispose",this).call(this),this.disposeScreenNavigator(),this.disposeNav(),this.disposeNavListeners()}},{key:"disposeScreenNavigator",value:function(){this.screenNavigator&&(this.screenNavigator.off("transitionStart"),this.screenNavigator.dispose())}},{key:"disposeNav",value:function(){this.nav&&this.nav.off("click")}},{key:"disposeNavListeners",value:function(){window.removeEventListener("keyup",this.onKeyUpCallback),window.removeEventListener("wheel",this.onWheelCallback,{passive:!1}),app.hasTouch&&(window.removeEventListener("touchstart",this.touchStartCallback),window.removeEventListener("touchend",this.touchEndCallback))}},{key:"populateAssetPromises",value:function(){var e=this,t=this.background.load("intro").then(function(t){var n=t.play();if(n)return n.then(function(){t.pause()}).catch(function(){e.introCanAutoplay=!1})});this.addAssetToLoad(t)}},{key:"populateAnimIn",value:function(){var e=this,t=this.showHeaderDelay,n=this.screenNavigator.currentScreen.getSplitDescription(),i=this.screenNavigator.currentScreen.element.querySelector(".home__screen__more"),r=this.element.querySelector(".home__nav__screens"),o=this.element.querySelector(".home__login__line"),a=this.element.querySelector(".home__login__label"),l=n.lines.slice();l.push(i),l.push(r);var c=this.screenNavigator.currentScreen.element.querySelector(".vert-text__inner"),u=c.getBoundingClientRect(),h=this.createTitleTimeline(),f=this.createButtonsTimeline(),p=this.createIndexTimeline();this.navigationEnabled=!1,this.timeline.add(h,t).add(f,t).add(p,t).staggerFrom(l,1.8,{y:80,opacity:0,rotation:15,transformOrigin:"left top",ease:s.f.easeInOut},.15,t-.2).from(c,4,{x:-app.windowHeight+u.top,opacity:0,ease:v("inOut")},t-1.5).from(a,1.2,{opacity:0,xPercent:-100,ease:s.f.easeOut},t).from(o,1.2,{scaleX:0,ease:s.f.easeOut},t+.1).add(function(){e.navigationEnabled=!0},"-=1"),this.background.play("intro")}},{key:"populateAnimOut",value:function(){var e=this.screenNavigator.currentScreen.element,t=e.querySelectorAll(".home__index__current .home__index__value:not(.home__index__value--next)"),n=e.querySelectorAll(".home__index__total .home__index__value:not(.home__index__value--next)"),i=e.querySelector(".home__index__separator"),r=e.querySelectorAll(".home__screen__title > .home__screen__title__inner .home__screen__title__word"),o=this.screenNavigator.currentScreen.getSplitDescription(),a=e.querySelector(".home__screen__more"),l=this.element.querySelector(".home__nav__buttons"),c=this.element.querySelector(".home__nav__screens"),u=this.element.querySelector(".home__login__line"),h=this.element.querySelector(".home__login__label"),f=o.lines.slice();f.push(a);var p=e.querySelector(".vert-text__inner"),y=p.getBoundingClientRect();this.timeline.staggerTo(r,.9,{y:-80,opacity:0,ease:s.f.easeInOut},.1,0).staggerTo(f,.9,{y:-80,opacity:0,rotation:5,transformOrigin:"left top",ease:s.f.easeInOut},.07,.1).to(p,1.6,{x:app.windowHeight+y.top,opacity:0,ease:v("inOut")},0).to(h,.8,{opacity:0,xPercent:-100,ease:s.f.easeIn},0).to(u,.8,{scaleX:0,ease:s.f.easeIn},0).to(l,.8,{opacity:0},0).to(c,.8,{opacity:0,y:80,ease:s.f.easeIn},0).to(t,.8,{yPercent:-100,ease:s.f.easeIn},0).to(n,.8,{yPercent:100,ease:s.f.easeIn},0).to(i,.8,{opacity:0},0)}},{key:"createTitleTimeline",value:function(){var e=this.element.querySelectorAll(".home__screen__title"),t=Xe(e).slice(1),n=e[0].querySelector(".home__screen__title__word").getBoundingClientRect(),i=new o.a;t.forEach(function(t){var i=document.createElement("div");i.className="js-home__screen__title__next",i.innerHTML=t.innerHTML,i.querySelector(".home__screen__title__word").style.width=n.width+"px",e[0].insertBefore(i,e[0].childNodes[0])});var r=e[0].querySelectorAll(".home__screen__title__inner");return r.forEach(function(e,t){var n=e.querySelectorAll(".home__screen__title__word"),o=t===r.length-1;i.staggerFromTo(n,.9,{cycle:{yPercent:[-100,100]}},{cycle:{yPercent:o?[0,0]:[100,-100],ease:le.a.easeInOut}},0,.3*t)}),i}},{key:"createButtonsTimeline",value:function(){var e=new o.a;return Xe(this.element.querySelectorAll(".home__nav__button")).forEach(function(t,n){var i=t.querySelectorAll(".home__nav__button__border__line"),r=t.querySelectorAll(".home__nav__button__border__circ__outer"),a=t.querySelectorAll(".home__nav__button__border__circ__inner"),l=t.querySelectorAll(".circ-button__picto__line");t.classList.add("js-in"),s.k.set(r,{opacity:0});var c=new o.a({paused:!0}).staggerFromTo(i,.1,{cycle:{yPercent:[200,-200]},scaleY:0},{cycle:{yPercent:[50,-50]},scaleY:1,ease:s.c.easeNone},0).to(i,.1,{yPercent:0,ease:s.c.easeNone}).to(i,.1,{scaleY:0,ease:s.c.easeNone}).set(i,{opacity:0}).set(r,{opacity:1},.2).to(r,.8,{rotation:180,ease:s.c.easeNone},.4).from(a,1.2,{rotation:-180,ease:s.c.easeNone},.2).add(function(){t.classList.remove("js-in")}),u=(new o.a).to(c,1.7,{progress:1,ease:s.f.easeInOut}).staggerFrom(l,1,{cycle:{x:[-10,10]},y:10-20*n,transition:"none",scaleX:0,ease:le.a.easeOut,onComplete:function(){s.k.set(l,{clearProps:"transform,transition"})}},.1,.6);e.add(u,.3*n)}),e}},{key:"createIndexTimeline",value:function(){var e=new o.a,t=this.screenNavigator.currentScreen.element,n=t.querySelectorAll(".home__index__current .home__index__value"),i=t.querySelectorAll(".home__index__total .home__index__value"),r=t.querySelector(".home__index__separator");return e.from(r,1.2,{opacity:0,yPercent:100,ease:s.f.easeOut}).staggerFromTo(n,1.2,{yPercent:-100,visibility:"inherit"},{cycle:{yPercent:function(e){return e===n.length-1?0:100}},ease:s.f.easeOut},.3,0).staggerFromTo(i,1.2,{yPercent:100,visibility:"inherit"},{cycle:{yPercent:function(e){return e===i.length-1?0:-100}},ease:s.f.easeOut},.3,0),e}},{key:"resize",value:function(e){Ge(Qe(t.prototype),"resize",this).call(this,e),this.screenNavigator.currentScreen&&this.screenNavigator.currentScreen.resize()}},{key:"showScreen",value:function(e){if(!this.screenNavigator.currentScreen||this.screenNavigator.currentScreen.index!==e){var t=e.toString();if(!this.screenNavigator.getScreen(t)){var n=new i.b(qe,{canDispose:!1,arguments:[{element:this.screens[e],index:e,owner:this.screenNavigator}],events:{complete:this.onScreenComplete.bind(this)}});this.screenNavigator.addScreen(t,n)}this.screenNavigator.showScreen(t,null,{properties:{previousIndex:this.previousScreenIndex}})}}},{key:"gotoScreen",value:function(e){var t=this;if(e!==this.currentScreenIndex&&this.navigationEnabled&&this.screenNavigator.currentScreen.navigationEnabled){var n=this.currentScreenIndex+1+"-"+(e+1);-1===this.loadingVideos.indexOf(n)&&(this.loadingVideos.push(n),this.background.load(n).then(function(){if(t.screenNavigator.currentScreen.navigationEnabled){var i=t.loadingVideos.indexOf(n);-1!==i&&t.loadingVideos.splice(i,1),t.previousScreenIndex=t.currentScreenIndex,t.currentScreenIndex=e,t.background.play(n),t.showScreen(e)}}))}}},{key:"gotoNextScreen",value:function(){var e=this.currentScreenIndex+1;e>this.screens.length-1&&(e=0),this.gotoScreen(e)}},{key:"gotoPrevScreen",value:function(){var e=this.currentScreenIndex-1;e<0&&(e=this.screens.length-1),this.gotoScreen(e)}},{key:"swipe",value:function(e){e<0?this.gotoNextScreen():this.gotoPrevScreen()}},{key:"onAnimateInComplete",value:function(e){Ge(Qe(t.prototype),"onAnimateInComplete",this).call(this,e)}},{key:"onKeyUp",value:function(e){switch(e.key){case"ArrowUp":this.gotoPrevScreen();break;case"ArrowDown":this.gotoNextScreen()}}},{key:"onWheel",value:function(e){e.preventDefault(),e.deltaY>0?this.gotoNextScreen():this.gotoPrevScreen()}},{key:"onScreenNavigatorTransitionStart",value:function(){this.screenNavigator.previousScreen&&this.nav.setCurrentItem(this.currentScreenIndex,this.previousScreenIndex),this.background.preload(this.currentScreenIndex)}},{key:"onScreenComplete",value:function(){this.gotoNextScreen()}},{key:"onNavClick",value:function(e){"number"==typeof e.screen?this.gotoScreen(e.screen):"next"===e.screen?this.gotoNextScreen():"prev"===e.screen&&this.gotoPrevScreen()}},{key:"onTouchStart",value:function(e){var t=e.changedTouches[0];this.touchStartY=t.pageY,this.touchStartTime=e.timeStamp}},{key:"onTouchEnd",value:function(e){var t=e.changedTouches[0],n=e.timeStamp-this.touchStartTime,i=(t.pageY-this.touchStartY)/n;Math.abs(i)>.4&&this.swipe(i)}}])&&Ue(n.prototype,r),a&&Ue(n,a),t}();n(165);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function tt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ot=0,st=1,at=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=nt(t).call(this))||"object"!==Ze(r)&&"function"!=typeof r?it(i):r).element=e.element,n.isEnabled=!0,n.element.addEventListener("submit",n.onSubmit.bind(it(n))),n.initInputs(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,C.a),n=t,(i=[{key:"initInputs",value:function(){var e=this;et(this.element.querySelectorAll(".form__input")).forEach(function(t){t.addEventListener("focus",e.onInputFocus.bind(e)),t.addEventListener("blur",e.onInputBlur.bind(e)),t.addEventListener("input",e.onInputChange.bind(e))})}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.isEnabled!==e){var t=this.element.querySelector(".form__submit");this.isEnabled=e,t.disabled=!e}}},{key:"showResult",value:function(e,t){var n=this.element.querySelector(".form__result");this.showMessage(n,e,t)}},{key:"resetErrors",value:function(){et(this.element.querySelectorAll(".form__item .form__message")).forEach(function(e){return e.textContent=""})}},{key:"showErrors",value:function(e){var t=this;Object.keys(e).forEach(function(n){var i=t.element.querySelector(".form__item--".concat(n," .form__message")),r=e[n],o=Object.keys(r).map(function(e){return r[e]}).join("<br>");i&&t.showMessage(i,o,st)})}},{key:"showMessage",value:function(e,t,n){e.innerHTML=t,e.classList.toggle("form__message--success",n===ot),e.classList.toggle("form__message--error",n===st)}},{key:"onSubmit",value:function(e){var t=this;if(this.isEnabled){var n=new FormData(this.element);e.preventDefault(),this.enable(!1),this.resetErrors(),window.fetch(window.location.href,{method:"POST",body:n,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){e.json().then(function(e){return t.onSubmitted(e)})})}}},{key:"onSubmitted",value:function(e){var t=this;this.showResult(e.message,e.success?ot:st),setTimeout(function(){t.enable()},3e3),e.errors&&this.showErrors(e.errors)}},{key:"onInputFocus",value:function(e){e.currentTarget.parentNode.classList.add("form__item--focus")}},{key:"onInputBlur",value:function(e){e.currentTarget.parentNode.classList.remove("form__item--focus")}},{key:"onInputChange",value:function(e){var t=e.currentTarget;t.value.length?t.parentNode.classList.add("form__item--filled"):t.parentNode.classList.remove("form__item--filled")}}])&&tt(n.prototype,i),r&&tt(n,r),t}();
/*!
 * VERSION: 0.7.0
 * DATE: 2019-02-07
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * SplitText is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
!function(e){var t=e.GreenSockGlobals||e,n=function(e){var n,i=e.split("."),r=t;for(n=0;n<i.length;n++)r[i[n]]=r=r[i[n]]||{};return r}("com.greensock.utils"),i=s.j.document||{},r=void 0!==e?e:i.defaultView||{getComputedStyle:function(){}},o=function(e){return r.getComputedStyle(e)},a=/([A-Z])/g,l=function(e,t,n,i){var r;return(n=n||o(e))?r=(e=n.getPropertyValue(t.replace(a,"-$1").toLowerCase()))||n.length?e:n[t]:e.currentStyle&&(r=(n=e.currentStyle)[t]),i?r:parseInt(r,10)||0},c=function(e){return!!(e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))},u=function(e,t){for(var n,i=t.length;--i>-1;)if(n=t[i],e.substr(0,n.length)===n)return n.length},h=/(?:\r|\n|\t\t)/g,f=/(?:\s\s+)/g,p=function(e){return(e.charCodeAt(0)-55296<<10)+(e.charCodeAt(1)-56320)+65536},y=" style='position:relative;display:inline-block;"+(i.all&&!i.addEventListener?"*display:inline;*zoom:1;'":"'"),d=function(e,t){var n=-1!==(e=e||"").indexOf("++"),i=1;return n&&(e=e.split("++").join("")),function(){return"<"+t+y+(e?" class='"+e+(n?i++:"")+"'>":">")}},m=n.SplitText=t.SplitText=function(e,t){if("string"==typeof e&&(e=m.selector(e)),!e)throw"cannot split a null element.";this.elements=c(e)?function(e){var t,n,i,r=[],o=e.length;for(t=0;t<o;t++)if(n=e[t],c(n))for(i=n.length,i=0;i<n.length;i++)r.push(n[i]);else r.push(n);return r}(e):[e],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)},v=function e(t,n,i){var r=t.nodeType;if(1===r||9===r||11===r)for(t=t.firstChild;t;t=t.nextSibling)e(t,n,i);else 3!==r&&4!==r||(t.nodeValue=t.nodeValue.split(n).join(i))},b=function(e,t){for(var n=t.length;--n>-1;)e.push(t[n])},g=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},_=function(e,t,n){for(var i;e&&e!==t;){if(i=e._next||e.nextSibling)return i.textContent.charAt(0)===n;e=e.parentNode||e._parent}return!1},w=function e(t){var n,i,r=g(t.childNodes),o=r.length;for(n=0;n<o;n++)(i=r[n])._isSplit?e(i):(n&&3===i.previousSibling.nodeType?i.previousSibling.nodeValue+=3===i.nodeType?i.nodeValue:i.firstChild.nodeValue:3!==i.nodeType&&t.insertBefore(i.firstChild,i),t.removeChild(i))},k=function(e,t,n,r,s,a,c){var u,h,f,p,y,d,m,g,k,S,O,x,C=o(e),T=l(e,"paddingLeft",C),I=-999,P=l(e,"borderBottomWidth",C)+l(e,"borderTopWidth",C),A=l(e,"borderLeftWidth",C)+l(e,"borderRightWidth",C),E=l(e,"paddingTop",C)+l(e,"paddingBottom",C),L=l(e,"paddingLeft",C)+l(e,"paddingRight",C),j=.2*l(e,"fontSize"),q=l(e,"textAlign",C,!0),R=[],V=[],N=[],B=t.wordDelimiter||" ",z=t.tag?t.tag:t.span?"span":"div",M=t.type||t.split||"chars,words,lines",H=s&&-1!==M.indexOf("lines")?[]:null,D=-1!==M.indexOf("words"),F=-1!==M.indexOf("chars"),Y="absolute"===t.position||!0===t.absolute,W=t.linesClass,X=-1!==(W||"").indexOf("++"),U=[];for(X&&(W=W.split("++").join("")),f=(h=e.getElementsByTagName("*")).length,y=[],u=0;u<f;u++)y[u]=h[u];if(H||Y)for(u=0;u<f;u++)((d=(p=y[u]).parentNode===e)||Y||F&&!D)&&(x=p.offsetTop,H&&d&&Math.abs(x-I)>j&&("BR"!==p.nodeName||0===u)&&(m=[],H.push(m),I=x),Y&&(p._x=p.offsetLeft,p._y=x,p._w=p.offsetWidth,p._h=p.offsetHeight),H&&((p._isSplit&&d||!F&&d||D&&d||!D&&p.parentNode.parentNode===e&&!p.parentNode._isSplit)&&(m.push(p),p._x-=T,_(p,e,B)&&(p._wordEnd=!0)),"BR"===p.nodeName&&(p.nextSibling&&"BR"===p.nextSibling.nodeName||0===u)&&H.push([])));for(u=0;u<f;u++)d=(p=y[u]).parentNode===e,"BR"!==p.nodeName?(Y&&(k=p.style,D||d||(p._x+=p.parentNode._x,p._y+=p.parentNode._y),k.left=p._x+"px",k.top=p._y+"px",k.position="absolute",k.display="block",k.width=p._w+1+"px",k.height=p._h+"px"),!D&&F?p._isSplit?(p._next=p.nextSibling,p.parentNode.appendChild(p)):p.parentNode._isSplit?(p._parent=p.parentNode,!p.previousSibling&&p.firstChild&&(p.firstChild._isFirst=!0),p.nextSibling&&" "===p.nextSibling.textContent&&!p.nextSibling.nextSibling&&U.push(p.nextSibling),p._next=p.nextSibling&&p.nextSibling._isFirst?null:p.nextSibling,p.parentNode.removeChild(p),y.splice(u--,1),f--):d||(x=!p.nextSibling&&_(p.parentNode,e,B),p.parentNode._parent&&p.parentNode._parent.appendChild(p),x&&p.parentNode.appendChild(i.createTextNode(" ")),"span"===z&&(p.style.display="inline"),R.push(p)):p.parentNode._isSplit&&!p._isSplit&&""!==p.innerHTML?V.push(p):F&&!p._isSplit&&("span"===z&&(p.style.display="inline"),R.push(p))):H||Y?(p.parentNode&&p.parentNode.removeChild(p),y.splice(u--,1),f--):D||e.appendChild(p);for(u=U.length;--u>-1;)U[u].parentNode.removeChild(U[u]);if(H){for(Y&&(S=i.createElement(z),e.appendChild(S),O=S.offsetWidth+"px",x=S.offsetParent===e?0:e.offsetLeft,e.removeChild(S)),k=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(g=" "===B&&(!Y||!D&&!F),u=0;u<H.length;u++){for(m=H[u],(S=i.createElement(z)).style.cssText="display:block;text-align:"+q+";position:"+(Y?"absolute;":"relative;"),W&&(S.className=W+(X?u+1:"")),N.push(S),f=m.length,h=0;h<f;h++)"BR"!==m[h].nodeName&&(p=m[h],S.appendChild(p),g&&p._wordEnd&&S.appendChild(i.createTextNode(" ")),Y&&(0===h&&(S.style.top=p._y+"px",S.style.left=T+x+"px"),p.style.top="0px",x&&(p.style.left=p._x-x+"px")));0===f?S.innerHTML="&nbsp;":D||F||(w(S),v(S,String.fromCharCode(160)," ")),Y&&(S.style.width=O,S.style.height=p._h+"px"),e.appendChild(S)}e.style.cssText=k}Y&&(c>e.clientHeight&&(e.style.height=c-E+"px",e.clientHeight<c&&(e.style.height=c+P+"px")),a>e.clientWidth&&(e.style.width=a-L+"px",e.clientWidth<a&&(e.style.width=a+A+"px"))),b(n,R),D&&b(r,V),b(s,N)},S=function e(t,n,r,o){var s,a,c=g(t.childNodes),y=c.length,d="absolute"===n.position||!0===n.absolute;if(3!==t.nodeType||y>1){for(n.absolute=!1,s=0;s<y;s++)(3!==(a=c[s]).nodeType||/\S+/.test(a.nodeValue))&&(d&&3!==a.nodeType&&"inline"===l(a,"display",null,!0)&&(a.style.display="inline-block",a.style.position="relative"),a._isSplit=!0,e(a,n,r,o));return n.absolute=d,void(t._isSplit=!0)}!function(e,t,n,r){var o,s,a,l,c,y,d,m,b,g,_=t.tag?t.tag:t.span?"span":"div",w=-1!==(t.type||t.split||"chars,words,lines").indexOf("chars"),k="absolute"===t.position||!0===t.absolute,S=t.wordDelimiter||" ",O=" "!==S?"":k?"&#173; ":" ",x="</"+_+">",C=!0,T=t.specialChars?"function"==typeof t.specialChars?t.specialChars:u:null,I=i.createElement("div"),P=e.parentNode;for(P.insertBefore(I,e),I.textContent=e.nodeValue,P.removeChild(e),d=-1!==(o=function e(t){var n=t.nodeType,i="";if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=e(t)}else if(3===n||4===n)return t.nodeValue;return i}(e=I)).indexOf("<"),!1!==t.reduceWhiteSpace&&(o=o.replace(f," ").replace(h,"")),d&&(o=o.split("<").join("{{LT}}")),c=o.length,s=(" "===o.charAt(0)?O:"")+n(),a=0;a<c;a++)if(y=o.charAt(a),T&&(g=T(o.substr(a),t.specialChars)))y=o.substr(a,g||1),s+=w&&" "!==y?r()+y+"</"+_+">":y,a+=g-1;else if(y===S&&o.charAt(a-1)!==S&&a){for(s+=C?x:"",C=!1;o.charAt(a+1)===S;)s+=O,a++;a===c-1?s+=O:")"!==o.charAt(a+1)&&(s+=O+n(),C=!0)}else"{"===y&&"{{LT}}"===o.substr(a,6)?(s+=w?r()+"{{LT}}</"+_+">":"{{LT}}",a+=5):y.charCodeAt(0)>=55296&&y.charCodeAt(0)<=56319||o.charCodeAt(a+1)>=65024&&o.charCodeAt(a+1)<=65039?(m=p(o.substr(a,2)),b=p(o.substr(a+2,2)),l=m>=127462&&m<=127487&&b>=127462&&b<=127487||b>=127995&&b<=127999?4:2,s+=w&&" "!==y?r()+o.substr(a,l)+"</"+_+">":o.substr(a,l),a+=l-1):s+=w&&" "!==y?r()+y+"</"+_+">":y;e.outerHTML=s+(C?x:""),d&&v(P,"{{LT}}","<")}(t,n,r,o)},O=m.prototype;O.split=function(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t,n,i,r=this.elements.length,o=e.tag?e.tag:e.span?"span":"div",s=d(e.wordsClass,o),a=d(e.charsClass,o);--r>-1;)i=this.elements[r],this._originals[r]=i.innerHTML,t=i.clientHeight,n=i.clientWidth,S(i,e,s,a),k(i,e,this.chars,this.words,this.lines,n,t);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},O.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var e=this._originals.length;--e>-1;)this.elements[e].innerHTML=this._originals[e];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},m.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(m.selector=n,n(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)},m.version="0.7.0"}(s.j);var lt=s.l.SplitText;n(166);function ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ut=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"resize",value:function(e){}},{key:"reset",value:function(){}},{key:"clear",value:function(){}},{key:"render",value:function(e){}}])&&ct(t.prototype,n),i&&ct(t,i),e}();function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=pt(this,yt(t).call(this))).isVisible=!1,e.mediaMatched=!0,e.sticky=!1,e.smoothScroll=!1,e.inView=!1,e.trigger=null,e.calcTrigger=null,e.data={},e.element=null,e.target=null,e.offset=0,e.offsetProgressMax=1.5,e.y=0,e.oldY=0,e.inertia=.068,e.duration=Number.MAX_VALUE,e.autoRemove=!0,e.reverse=!0,e.triggered=!1,e.media=null,e.calcMaxY=null,e.calcOffset=null,e.calcDuration=null,e.maxY=0,e.onResize=null,e.onUpdate=null,e.onEnter=null,e.onExit=null,e.toggleClass=null,e.startOffset=0,e.endOffset=0,e.autoResize=!0,n)void 0!==e[i]&&(e[i]=n[i]);return e.isActive=!1,e.needsRemove=!1,e.hasTrigger=e.trigger||e.calcTrigger,e.element||(e.element=e.target),e.isNode=e.target&&e.target.nodeType>0,e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,ut),n=t,(i=[{key:"resize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.autoResize||!t)if(this.mediaMatched=!this.media||("function"==typeof this.media?this.media():window.innerWidth>this.media),this.mediaMatched){var n=this.element.style.transform;this.element.style.transform="",this.height=this.element.clientHeight,this.top=e.scrollTop+this.element.getBoundingClientRect().top,this.bottom=this.top+this.height,this.startOffset=this.top-e.rootHeight,this.startOffset<0&&(this.startOffset=0),this.endOffset=this.bottom,this.element.style.transform=n,this.calcMaxY&&(this.maxY=this.calcMaxY()),this.calcOffset&&(this.offset=this.calcOffset()),this.calcTrigger&&(this.trigger=this.calcTrigger()),this.calcDuration&&(this.duration=this.calcDuration(this)),this.onResize&&this.onResize()}else this.reset()}},{key:"clear",value:function(){item.isNode&&(item.target.style.transform="")}},{key:"reset",value:function(){(this.smoothScroll||this.sticky)&&(this.target.style.transform=""),this.toggleClass&&this.target.classList.remove(this.toggleClass)}},{key:"render",value:function(e){if(this.mediaMatched){var t,n,i;if(this.smoothScroll&&(n=(this.startOffset+e.scrollTop)/this.endOffset,this.y+=(n*this.offset-this.y)*this.inertia,(t=Math.abs(n)<this.offsetProgressMax)&&!e.hasActiveItem&&(i=Math.abs(this.y-this.oldY),this.isActive=i>.001,this.isActive||(this.y=Math.round(this.y))),this.oldY=this.y,t&&(this.isNode?this.target.style.transform="translate3d(0,"+-this.y+"px,0)":this.target.y=-this.y,this.onUpdate&&this.onUpdate())),this.sticky&&e.smooth&&(this.y=e.containerY,this.maxY&&this.y>this.maxY&&(this.y=this.maxY),this.target.style.transform="translate3d(0,"+this.y+"px,0)"),this.inView){var r=this.isVisible;this.isVisible=!(this.top+this.offset>e.containerY+e.rootHeight||this.bottom<e.containerY),!r&&this.isVisible?(this.onEnter&&this.onEnter(),this.toggleClass&&this.target.classList.add(this.toggleClass),this.autoRemove&&(this.needsRemove=!0)):r&&!this.isVisible&&this.reverse&&(this.onExit&&this.onExit(),this.toggleClass&&this.target.classList.remove(this.toggleClass))}if(this.hasTrigger&&!e.isInertialScroll){var o=this.triggered;this.triggered=e.scrollTop>=this.trigger&&e.scrollTop<=this.trigger+this.duration,!o&&this.triggered?(this.onEnter&&this.onEnter(),this.toggleClass&&this.target.classList.add(this.toggleClass),this.autoRemove&&(this.needsRemove=!0)):o&&!this.triggered&&(this.onExit&&this.onExit(),this.toggleClass&&this.target.classList.remove(this.toggleClass))}}}}])&&ft(n.prototype,i),r&&ft(n,r),t}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e,t,n){return(_t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wt(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St,Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,wt(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,Oe),n=t,(i=[{key:"initPage",value:function(){_t(wt(t.prototype),"initPage",this).call(this),this.showHeaderDelay=this.isAjax?1.5:1,this.initForm()}},{key:"initForm",value:function(){var e=this.element.querySelector(".contact__form");this.form=new at({element:e})}},{key:"resize",value:function(){this.splitIntro&&(this.splitIntro.revert(),this.splitIntro=null)}},{key:"populateAssetPromises",value:function(){var e=this.element.querySelector(".contact__map"),t=j(e);this.addAssetToLoad(t)}},{key:"populateAnimIn",value:function(){var e=this.element.querySelector(".contact__header__background"),t=this.element.querySelector(".contact__title"),n=this.element.querySelector(".contact__intro"),i=this.element.querySelector(".contact__map-wrapper");this.splitIntro=new lt(n,{type:"lines"});var r=e.getBoundingClientRect(),o=v("inOut");this.timeline.from(e,2.5,{scaleY:app.windowHeight/r.height,ease:o},.1).from(t,2.5,{y:100,opacity:0,ease:o},.2).staggerFrom(this.splitIntro.lines,2.5,{y:100,opacity:0,rotation:5,transformOrigin:"left top",ease:o},.1,.2+.1).from(i,2.5,{y:-200,ease:o},.2)}},{key:"populateScrollItems",value:function(){var e=this.element.querySelector(".contact__map-wrapper"),t=e.querySelector(".contact__map");this.scroll.addItem(new mt({target:t,element:e,smoothScroll:!0,offset:-100}))}}])&&bt(n.prototype,i),r&&bt(n,r),t}(),xt=(n(131),s.j.document),Ct="undefined"!=typeof window?window:xt.defaultView||{getComputedStyle:function(){}},Tt=function(e){return Ct.getComputedStyle(e)},It=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,Pt=-1!==((s.j.navigator||{}).userAgent||"").indexOf("Edge"),At={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]};function Et(e,t,n,i,r,o){return n=(parseFloat(n||0)-parseFloat(e||0))*r,i=(parseFloat(i||0)-parseFloat(t||0))*o,Math.sqrt(n*n+i*i)}function Lt(e){return"string"!=typeof e&&e.nodeType||(e=s.j.TweenLite.selector(e)).length&&(e=e[0]),e}function jt(e){if(!e)return 0;var t,n,i,r,o,s,a,l=(e=Lt(e)).tagName.toLowerCase(),c=1,u=1;"non-scaling-stroke"===e.getAttribute("vector-effect")&&(u=e.getScreenCTM(),c=Math.sqrt(u.a*u.a+u.b*u.b),u=Math.sqrt(u.d*u.d+u.c*u.c));try{n=e.getBBox()}catch(e){console.log("Error: Some browsers like Firefox won't report measurements of invisible elements (like display:none or masks inside defs).")}if(n&&(n.width||n.height)||!At[l]||(n={width:parseFloat(e.getAttribute(At[l][0])),height:parseFloat(e.getAttribute(At[l][1]))},"rect"!==l&&"line"!==l&&(n.width*=2,n.height*=2),"line"===l&&(n.x=parseFloat(e.getAttribute("x1")),n.y=parseFloat(e.getAttribute("y1")),n.width=Math.abs(n.width-n.x),n.height=Math.abs(n.height-n.y))),"path"===l)r=e.style.strokeDasharray,e.style.strokeDasharray="none",t=e.getTotalLength()||0,c!==u&&console.log("Warning: <path> length cannot be measured accurately when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(c+u)/2,e.style.strokeDasharray=r;else if("rect"===l)t=2*n.width*c+2*n.height*u;else if("line"===l)t=Et(n.x,n.y,n.x+n.width,n.y+n.height,c,u);else if("polyline"===l||"polygon"===l)for(i=e.getAttribute("points").match(It)||[],"polygon"===l&&i.push(i[0],i[1]),t=0,o=2;o<i.length;o+=2)t+=Et(i[o-2],i[o-1],i[o],i[o+1],c,u)||0;else"circle"!==l&&"ellipse"!==l||(s=n.width/2*c,a=n.height/2*u,t=Math.PI*(3*(s+a)-Math.sqrt((3*s+a)*(s+3*a))));return t||0}function qt(e,t){if(!e)return[0,0];e=Lt(e),t=t||jt(e)+1;var n=Tt(e),i=n.strokeDasharray||"",r=parseFloat(n.strokeDashoffset),o=i.indexOf(",");return o<0&&(o=i.indexOf(" ")),(i=o<0?t:parseFloat(i.substr(0,o))||1e-5)>t&&(i=t),[Math.max(0,-r),Math.max(0,i-r)]}function Rt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Vt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(St=s.j._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.2.1",global:!0,overwriteProps:["drawSVG"],init:function(e,t,n,i){if(!e.getBBox)return!1;var r,o,s,a,l=jt(e)+1;return this._style=e.style,this._target=e,"function"==typeof t&&(t=t(i,e)),!0===t||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",o=function(e,t,n){var i,r,o=e.indexOf(" ");return-1===o?(i=void 0!==n?n+"":e,r=e):(i=e.substr(0,o),r=e.substr(o+1)),(i=-1!==i.indexOf("%")?parseFloat(i)/100*t:parseFloat(i))>(r=-1!==r.indexOf("%")?parseFloat(r)/100*t:parseFloat(r))?[r,i]:[i,r]}(t,l,(r=qt(e,l))[0]),this._length=l+10,0===r[0]&&0===o[0]?(s=Math.max(1e-5,o[1]-l),this._dash=l+s,this._offset=l-r[1]+s,this._offsetPT=this._addTween(this,"_offset",this._offset,l-o[1]+s,"drawSVG")):(this._dash=r[1]-r[0]||1e-6,this._offset=-r[0],this._dashPT=this._addTween(this,"_dash",this._dash,o[1]-o[0]||1e-5,"drawSVG"),this._offsetPT=this._addTween(this,"_offset",this._offset,-o[0],"drawSVG")),Pt&&(a=Tt(e)).strokeLinecap!==a.strokeLinejoin&&(o=parseFloat(a.strokeMiterlimit),this._addTween(e.style,"strokeMiterlimit",o,o+1e-4,"strokeMiterlimit")),this._live="non-scaling-stroke"===e.getAttribute("vector-effect")||-1!==(t+"").indexOf("live"),!0},set:function(e){if(this._firstPT){if(this._live){var t,n=jt(this._target)+11;n!==this._length&&(t=n/this._length,this._length=n,this._offsetPT.s*=t,this._offsetPT.c*=t,this._dashPT?(this._dashPT.s*=t,this._dashPT.c*=t):this._dash*=t)}this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,this._style.strokeDasharray=1===e||0===e?this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._dash+"px,"+this._length+"px"}}})).getLength=jt,St.getPosition=qt;var Nt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.chartWrapper=this.element.querySelector(".about__loan-portfolio__chart-wrapper"),this.chart=this.element.querySelector(".about__loan-portfolio__chart"),this.sectors=this.chart.querySelectorAll("path"),this.captions=this.element.querySelectorAll(".about__loan-portfolio__caption"),this.initInView(),this.placeCaptions(),void 0===this.chart.style.vectorEffect&&this.scaleStroke()}var t,n,i;return t=e,(n=[{key:"initInView",value:function(){this.inViewObserver=new IntersectionObserver(this.onInViewObserverChange.bind(this),{threshold:.8}),this.chartWrapper.style.visibility="hidden",this.inViewObserver.observe(this.chartWrapper)}},{key:"dispose",value:function(){this.disposeInViewObserver()}},{key:"disposeInViewObserver",value:function(){this.inViewObserver&&(this.inViewObserver.disconnect(),this.inViewObserver=null)}},{key:"resize",value:function(){this.placeCaptions()}},{key:"scaleStroke",value:function(){var e=1/this.chart.getBoundingClientRect().width;Rt(this.sectors).forEach(function(t){t.style.strokeWidth=e+"px"})}},{key:"placeCaptions",value:function(){var e=this,t=this.chartWrapper.getBoundingClientRect(),n=this.chart.getBoundingClientRect(),i=.5*n.width,r=n.left-t.left+i,o=n.top-t.top+i,a=app.windowWidth<app.breakpoints.small?20:40;Rt(this.captions).forEach(function(t,n){var l=e.sectors[n],c=t.querySelector(".about__loan-portfolio__caption__line"),u=c.getBoundingClientRect(),h=t.getBoundingClientRect(),f=parseFloat(l.getAttribute("data-start")),p=parseFloat(l.getAttribute("data-end")),y=f+.5*(p-f);if(app.windowWidth<app.breakpoints.small){var d=y;e.isValidAngle(y)||(y=f+Math.PI/180*10,e.isValidAngle(y)||(y=p-Math.PI/180*10,e.isValidAngle(y)||(y=d)))}var m=r+i*Math.cos(y),v=o+i*Math.sin(y),b=m<r?-1:1,g=v<o?-1:1,_=0,w=0;-1===b&&(m-=h.width,_=h.width),m+=y>4&&y<5?20*b:a*b,-1===g?(v-=h.height,w=h.height):app.windowWidth<app.breakpoints.small?-1===b&&(m+=.5*h.width,_=.5*h.width):(v-=1.1*h.height,w=h.height-14),v+=a*g;var k=r+(i+10)*Math.cos(y)-(m+_),S=o+(i+10)*Math.sin(y)-(v+w),O=Math.sqrt(k*k+S*S),x=180*Math.acos(k/O)/Math.PI,C=O/u.width;s.k.set(t,{x:m,y:v}),s.k.set(c,{x:_,y:w,rotation:x*g*-1,scaleX:C})})}},{key:"isValidAngle",value:function(e){return(e=180*Math.abs(e)/Math.PI)>45&&e<135||e>225&&e<315}},{key:"animateIn",value:function(){var e=this.element.querySelector(".about__loan-portfolio__chart"),t=e.querySelectorAll("path"),n=this.element.querySelector(".about__loan-portfolio__total__label"),i=this.element.querySelector(".about__loan-portfolio__total__value"),r=(new o.a).set(this.chartWrapper,{visibility:""}).from(e,1.7,{rotation:-180,ease:le.a.easeInOut},0).from(t,2,{drawSVG:0,ease:le.a.easeInOut},0);Rt(this.captions).forEach(function(e,t){var n=e.querySelectorAll(".about__loan-portfolio__caption__digits"),i=e.querySelector(".about__loan-portfolio__caption__unit"),o=e.querySelector(".about__loan-portfolio__caption__label"),a=e.querySelector(".about__loan-portfolio__caption__line");r.from(i,1,{opacity:0},.1).from(o,1,{yPercent:100,opacity:0,ease:s.f.easeOut},.6).from(a,1,{opacity:0},.8),Rt(n).forEach(function(e,t){var n=e.querySelectorAll(".about__loan-portfolio__caption__digit");r.staggerFromTo(n,1,{visibility:"inherit",cycle:{yPercent:function(){return 100-t%2*200}}},{cycle:{yPercent:function(e){return e===n.length-1?0:t%2*200-100}}},.4,.1*t)})}),r.staggerFrom([i,n],1.6,{cycle:{y:[-20,20]},opacity:0,ease:s.f.easeOut},0,1)}},{key:"onInViewObserverChange",value:function(e){e[0].isIntersecting&&(this.disposeInViewObserver(),this.animateIn())}}])&&Vt(t.prototype,n),i&&Vt(t,i),e}();function Bt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.input=this.element.querySelector(".select__input"),this.input.addEventListener("change",this.onInputChange.bind(this))}var t,n,i;return t=e,(n=[{key:"setValue",value:function(e){var t=this.element.querySelector('option[value="'.concat(e,'"]'));t&&(t.selected=!0,this.element.querySelector(".select__label__inner").textContent=t.textContent)}},{key:"onInputChange",value:function(e){this.setValue(this.input.value)}}])&&Bt(t.prototype,n),i&&Bt(t,i),e}();function Mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ht=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.submitBtn=this.element.querySelector(".about__downloads__form__submit"),this.year=-1,this.initYearSelect(),this.initQuarterSelect()}var t,n,i;return t=e,(n=[{key:"initYearSelect",value:function(){var e=this.element.querySelector(".about__downloads__year");this.yearSelect=new zt({element:e}),this.yearSelect.input.addEventListener("change",this.onYearChange.bind(this))}},{key:"initQuarterSelect",value:function(){var e=this.element.querySelector(".about__downloads__quarter");this.quarterSelect=new zt({element:e}),this.quarterSelect.input.addEventListener("change",this.onQuarterChange.bind(this))}},{key:"getQuarters",value:function(e){var t=this.yearSelect.input.querySelector('option[value="'.concat(e,'"]'));if(t&&t.dataset.quarters)return JSON.parse(t.dataset.quarters)}},{key:"setYear",value:function(e){var t=this.getQuarters(e);if(t){var n=this.quarterSelect.input.querySelectorAll("option"),i=!1;this.year=e,t.forEach(function(e,t){var r=n[t+1],o=!1!==e.file;r.disabled=!o,o&&!i&&(i=!0)}),this.quarterSelect.setValue(0),this.quarterSelect.input.disabled=!i,this.submitBtn.removeAttribute("href")}}},{key:"setQuarter",value:function(e){this.submitBtn.href=e.file.url}},{key:"dispose",value:function(){}},{key:"onYearChange",value:function(){var e=this.yearSelect.input.value;e!==this.year&&this.setYear(e)}},{key:"onQuarterChange",value:function(e){var t=this.getQuarters(this.year);if(t){var n=t[this.quarterSelect.input.value-1];n&&this.setQuarter(n)}}}])&&Mt(t.prototype,n),i&&Mt(t,i),e}();function Dt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ft(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Yt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.bars=this.element.querySelectorAll(".bar-chart__item__bar"),this.currentBar=null,Dt(this.bars).forEach(function(e){e.addEventListener("mouseenter",n.onBarRollOver.bind(n)),e.addEventListener("mouseleave",n.onBarRollOut.bind(n)),app.hasTouch&&e.addEventListener("click",n.onBarClick.bind(n))}),app.hasTouch&&this.element.addEventListener("click",this.onClick.bind(this)),this.initInView()}var t,n,i;return t=e,(n=[{key:"initInView",value:function(){this.inViewObserver=new IntersectionObserver(this.onInViewObserverChange.bind(this),{threshold:.9}),Dt(this.bars).forEach(function(e){return e.style.visibility="hidden"}),this.inViewObserver.observe(this.element)}},{key:"dispose",value:function(){this.disposeInViewObserver()}},{key:"disposeInViewObserver",value:function(){this.inViewObserver&&(this.inViewObserver.disconnect(),this.inViewObserver=null)}},{key:"showTooltip",value:function(e){if(e!==this.currentBar){var t=e.querySelector(".bar-chart__tooltip"),n=t.getBoundingClientRect();this.currentBar&&this.hideTooltip(this.currentBar),this.currentBar=e,n.right>app.windowWidth-20?t.classList.add("bar-chart__tooltip--left"):n.left<20&&t.classList.add("bar-chart__tooltip--right"),s.k.set(e,{zIndex:2}),s.k.fromTo(t,.9,{autoAlpha:0,y:20},{autoAlpha:1,y:0,ease:s.f.easeOut}),t.setAttribute("aria-hidden",!1)}}},{key:"hideTooltip",value:function(e){var t=e.querySelector(".bar-chart__tooltip");this.currentBar===e&&(this.currentBar=null),s.k.set(e,{clearProps:"zIndex"}),s.k.to(t,.9,{autoAlpha:0,y:20,ease:s.f.easeOut}),t.setAttribute("aria-hidden",!0)}},{key:"animateIn",value:function(){var e=this.element.querySelectorAll(".bar-chart__item__bars"),t=(new TimelineLite).set(this.element,{visibility:""});Dt(e).forEach(function(e){var n=e.querySelectorAll(".bar-chart__item__bar");t.set(n,{visibility:""},0).staggerFrom(n,1.6,{scaleY:0,ease:le.a.easeInOut},.1,0)})}},{key:"onInViewObserverChange",value:function(e){e[0].isIntersecting&&(this.disposeInViewObserver(),this.animateIn())}},{key:"onBarRollOver",value:function(e){this.showTooltip(e.currentTarget)}},{key:"onBarRollOut",value:function(e){this.hideTooltip(e.currentTarget)}},{key:"onBarClick",value:function(e){e.preventDefault(),this.showTooltip(e.currentTarget)}},{key:"onClick",value:function(){event.defaultPrevented||this.currentBar&&this.hideTooltip(this.currentBar)}}])&&Ft(t.prototype,n),i&&Ft(t,i),e}();function Wt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ut=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.chartItems=this.element.querySelectorAll(".bar-chart__item"),this.roaeValues=this.element.querySelectorAll(".about__pre-tax-income__roae__value"),Wt(this.chartItems).forEach(function(e){e.addEventListener("mouseenter",n.onChartItemRollOver.bind(n)),e.addEventListener("mouseleave",n.onChartItemRollOut.bind(n))})}var t,n,i;return t=e,(n=[{key:"onChartItemRollOver",value:function(e){var t=Wt(this.chartItems).indexOf(e.currentTarget);this.roaeValues[t].classList.add("js-about__pre-tax-income__roae__value--hovered")}},{key:"onChartItemRollOut",value:function(e){var t=Wt(this.chartItems).indexOf(e.currentTarget);this.roaeValues[t].classList.remove("js-about__pre-tax-income__roae__value--hovered")}}])&&Xt(t.prototype,n),i&&Xt(t,i),e}();function Kt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.initLoanPortfolio(),this.initBarCharts(),this.initPrextaxIncome(),this.initDownloadsForms()}var t,n,i;return t=e,(n=[{key:"initLoanPortfolio",value:function(){var e=this.element.querySelector(".about__loan-portfolio");this.loanPortfolio=new Nt({element:e})}},{key:"initPrextaxIncome",value:function(){var e=this.element.querySelector(".about__pre-tax-income");new Ut({element:e})}},{key:"initDownloadsForms",value:function(){var e=this,t=this.element.querySelectorAll(".about__downloads__form");this.downloadsForms=[],Kt(t).forEach(function(t){var n=new Ht({element:t});e.downloadsForms.push(n)})}},{key:"initBarCharts",value:function(){Kt(this.element.querySelectorAll(".bar-chart")).forEach(function(e){new Yt({element:e})})}},{key:"dispose",value:function(){this.disposeLoanPortfolio(),this.disposeDownloadsForms()}},{key:"disposeLoanPortfolio",value:function(){this.loanPortfolio.dispose()}},{key:"disposeDownloadsForms",value:function(){for(;this.downloadsForms.length;)this.downloadsForms.shift().dispose()}},{key:"resize",value:function(){this.loanPortfolio.resize()}}])&&Gt(t.prototype,n),i&&Gt(t,i),e}();function $t(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.currentItemIndex=0,this.isRunning=!1,this.paused=!1,this.initialized=!1,this.initInView()}var t,n,i;return t=e,(n=[{key:"initInView",value:function(){this.inViewObserver=new IntersectionObserver(this.onInViewObserverChange.bind(this),{threshold:.3}),this.inViewObserver.observe(this.element)}},{key:"init",value:function(){var e=this;this.initialized=!0,this.navItems=this.element.querySelectorAll(".about__awards__nav__item"),$t(this.navItems).forEach(function(t){t.addEventListener("click",e.onNavItemClick.bind(e))}),this.element.querySelector(".about__awards__nav__button--prev").addEventListener("click",this.onPrevButtonClick.bind(this)),this.element.querySelector(".about__awards__nav__button--next").addEventListener("click",this.onNextButtonClick.bind(this))}},{key:"dispose",value:function(){this.disposeInViewObserver()}},{key:"disposeInViewObserver",value:function(){this.inViewObserver&&(this.inViewObserver.disconnect(),this.inViewObserver=null)}},{key:"start",value:function(){if(!this.isRunning){var e=this.paused;this.isRunning=!0,this.paused=!1,e?this.resumeTimer():this.startTimer()}}},{key:"pause",value:function(){this.isRunning&&(this.isRunning=!1,this.paused=!0,this.pauseTimer())}},{key:"createTimer",value:function(){var e=this.element.querySelector(".about__awards__nav__progress__bar");this.timer=s.k.fromTo(e,6,{paused:!0,opacity:1,scaleX:0},{scaleX:1,onComplete:this.onTimerComplete.bind(this),ease:s.c.easeNone})}},{key:"startTimer",value:function(){this.timer?this.timer.progress(0).invalidate():this.createTimer(),this.timer.play()}},{key:"resumeTimer",value:function(){this.timer&&this.timer.play()}},{key:"pauseTimer",value:function(){this.timer&&this.timer.isActive()&&this.timer.pause()}},{key:"gotoItem",value:function(e){var t=this;if(e!==this.currentItemIndex){var n=this.element.querySelectorAll(".about__awards__item"),i=this.navItems[this.currentItemIndex],r=n[this.currentItemIndex],a=r.querySelector(".about__awards__item__title__inner"),l=r.querySelector(".about__awards__item__inner"),c=i.getBoundingClientRect(),u=this.navItems[e],h=n[e],f=h.querySelector(".about__awards__item__title__inner"),p=h.querySelector(".about__awards__item__inner"),y=u.getBoundingClientRect(),d=this.element.querySelector(".about__awards__nav__progress__bar");this.currentItemIndex=e,s.k.killTweensOf([a,l,i,f,p,u]),r.classList.remove("is-current"),i.classList.remove("is-current"),h.classList.add("is-current"),u.classList.add("is-current"),r.style.visibility="inherit",this.pauseTimer(),(new o.a).set(h,{xPercent:-100*e},0).to(d,.5,{opacity:0},0).fromTo(i,.4,{x:y.left-c.left},{x:0,ease:s.f.easeInOut},0).from(u,.4,{x:c.left-y.left},{x:0,ease:s.f.easeInOut},0).to(a,.6,{yPercent:-100,ease:s.f.easeIn,onComplete:function(){r.style.visibility=""}},0).to(l,.5,{opacity:0},0).addLabel("current","-=.1").fromTo(f,.9,{yPercent:100},{yPercent:0,ease:s.f.easeOut,onComplete:function(){t.startTimer()}},"current").fromTo(p,.9,{opacity:0},{opacity:1},"current")}}},{key:"gotoNextItem",value:function(){var e=this.currentItemIndex===this.navItems.length-1?0:this.currentItemIndex+1;this.gotoItem(e)}},{key:"gotoPrevItem",value:function(){var e=0===this.currentItemIndex?this.navItems.length-1:this.currentItemIndex-1;this.gotoItem(e)}},{key:"onPrevButtonClick",value:function(){this.gotoPrevItem()}},{key:"onNextButtonClick",value:function(){this.gotoNextItem()}},{key:"onInViewObserverChange",value:function(e){e[0].isIntersecting?(this.initialized||this.init(),this.start()):this.pause()}},{key:"onNavItemClick",value:function(e){var t=$t(this.navItems).indexOf(e.currentTarget);this.gotoItem(t)}},{key:"onTimerComplete",value:function(){this.gotoNextItem()}}])&&Jt(t.prototype,n),i&&Jt(t,i),e}();function en(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.initialized=!1,this.isExpanded=!1,this.isActive=!1,this.inner=this.element.querySelector(".text-collapse__inner"),this.resize()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initialized=!0,this.moreBtn=this.element.querySelector(".text-collapse__more"),this.moreBtn.addEventListener("click",this.onMoreBtnClick.bind(this)),this.activate()}},{key:"activate",value:function(){this.isActive||(this.isActive=!0,this.collapse(),this.element.classList.add("is-active"))}},{key:"deactivate",value:function(){this.isActive&&(this.isActive=!1,this.inner.style.height="",this.element.classList.remove("is-active"))}},{key:"setHeight",value:function(e){this.inner.style.height=e+"px"}},{key:"resize",value:function(){var e=window.getComputedStyle(this.element);this.deactivate(),this.lineHeight=parseInt(e.getPropertyValue("line-height")),this.height=this.inner.clientHeight,this.collapsedHeight=2*this.lineHeight,this.height>3*this.lineHeight&&(this.initialized?this.isActive||this.activate():this.init())}},{key:"collapse",value:function(){this.isExpanded=!1,this.setHeight(this.collapsedHeight),this.element.classList.remove("is-expanded")}},{key:"expand",value:function(){this.isExpanded=!0,this.setHeight(this.height),this.element.classList.add("is-expanded")}},{key:"toggle",value:function(){this.isExpanded?this.collapse():this.expand()}},{key:"onMoreBtnClick",value:function(){this.toggle()}}])&&en(t.prototype,n),i&&en(t,i),e}();function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function on(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sn(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=sn(this,an(t).call(this))).element=e.element,n.initExecutiveManagementItemBody(),n.initDirectorsBoardLinks(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,C.a),n=t,(i=[{key:"initExecutiveManagementItemBody",value:function(){var e=this,t=this.element.querySelectorAll(".about__executive-management__item__body .text-collapse");t.length&&(this.textCollapses=[],rn(t).forEach(function(t){var n=new tn({element:t});e.textCollapses.push(n)}))}},{key:"initDirectorsBoardLinks",value:function(){var e=this;this.links=this.element.querySelectorAll(".about__directors__board__link"),this.linkObservers=[],rn(this.links).forEach(function(t){var n=new IntersectionObserver(e.onLinkObserverChange.bind(e));t.addEventListener("mouseenter",e.onDirectorsBoardLinkRollOver.bind(e)),t.addEventListener("click",e.onDirectorsBoardLinkClick.bind(e)),n.observe(t),e.linkObservers.push(n)})}},{key:"dispose",value:function(){this.disposeDirectorsBoardLinks()}},{key:"disposeDirectorsBoardLinks",value:function(){if(this.linkObservers)for(;this.linkObservers.length;)this.linkObservers.pop().disconnect()}},{key:"resize",value:function(){this.resizeTextCollapses()}},{key:"resizeTextCollapses",value:function(){this.textCollapses&&this.textCollapses.forEach(function(e){return e.resize()})}},{key:"prefetchLink",value:function(e){this.emit("prefetch",{href:e.href})}},{key:"onDirectorsBoardLinkRollOver",value:function(e){this.prefetchLink(e.currentTarget)}},{key:"onDirectorsBoardLinkClick",value:function(e){this.emit("linkClick")}},{key:"onLinkObserverChange",value:function(e){var t=this;e.forEach(function(e){if(e.isIntersecting){var n=rn(t.links).indexOf(e.target);-1!==n&&t.linkObservers.splice(n,1)[0].disconnect(),t.prefetchLink(e.target)}})}}])&&on(n.prototype,i),r&&on(n,r),t}();function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=.4,vn=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=pn(t).call(this))||"object"!==un(r)&&"function"!=typeof r?yn(i):r).element=e.element,n.isVisible=!1,n.tickCallback=n.onTick.bind(yn(n)),n.offset=mn,n.items=n.element.querySelectorAll(".about__awards-banner__item"),n.element.addEventListener("mouseenter",n.onRollOver.bind(yn(n))),n.element.addEventListener("mouseleave",n.onRollOut.bind(yn(n))),n.element.addEventListener("click",n.onClick.bind(yn(n))),n.updateItems(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,C.a),n=t,(i=[{key:"dispose",value:function(){this.pause()}},{key:"resize",value:function(){this.pause(),this.updateItems(),this.resume()}},{key:"updateItems",value:function(){var e=this;this.baseX=[],this.itemX=[],this.itemWidth=[],this.itemsOrder=[],hn(this.items).forEach(function(t,n){t.style.transform="";var i=t.getBoundingClientRect();e.itemsOrder[n]=n,e.baseX[n]=i.left,e.itemX[n]=0,e.itemWidth[n]=i.width})}},{key:"show",value:function(){this.isVisible||(this.isVisible=!0,this.dispatchVisibilityChange(),this.start(),s.k.killTweensOf(this.element),s.k.fromTo(this.element,.6,{autoAlpha:0},{autoAlpha:1,delay:.8}))}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1,this.dispatchVisibilityChange(),this.pause(),s.k.killTweensOf(this.element),s.k.to(this.element,1,{autoAlpha:0}))}},{key:"dispatchVisibilityChange",value:function(){this.emit("visibilityChange",{isVisible:this.isVisible})}},{key:"start",value:function(){this.isRunning||(this.isRunning=!0,s.k.ticker.addEventListener("tick",this.tickCallback))}},{key:"pause",value:function(){this.isRunning&&(this.isRunning=!1,this.paused=!0,s.k.killTweensOf(this,!1,{offset:!0}),s.k.ticker.removeEventListener("tick",this.tickCallback))}},{key:"resume",value:function(){this.paused&&(this.paused=!1,this.start())}},{key:"render",value:function(){for(var e=0,t=this.items.length;e<t;e++){if(this.itemX[e]=this.itemX[e]-this.offset,this.baseX[e]+this.itemWidth[e]+this.itemX[e]<0){var n=this.itemsOrder.indexOf(e),i=this.itemsOrder[this.items.length-1];this.itemX[e]=this.baseX[i]-this.baseX[e]+this.itemWidth[i]+this.itemX[i],this.itemsOrder.push(this.itemsOrder.splice(n,1)[0])}this.items[e].style.transform="translate3d(".concat(this.itemX[e],"px, 0px, 0px)")}}},{key:"onRollOver",value:function(){this.pause(),s.k.to(this,.8,{offset:0,onUpdate:this.render.bind(this),ease:s.d.easeOut})}},{key:"onRollOut",value:function(){s.k.to(this,.8,{offset:mn,onUpdate:this.render.bind(this),onComplete:this.resume.bind(this),ease:s.d.easeOut})}},{key:"onClick",value:function(e){e.preventDefault(),this.emit("click")}},{key:"onTick",value:function(){this.render()}}])&&fn(n.prototype,i),r&&fn(n,r),t}();function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On="is-current",xn=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,r=wn(t).call(this),(n=!r||"object"!==bn(r)&&"function"!=typeof r?kn(i):r).element=e.element,n.links=n.element.querySelectorAll(".about__nav__link"),n.currentItem=n.element.querySelector(".about__nav__item."+On),gn(n.links).forEach(function(e){e.addEventListener("click",n.onLinkClick.bind(kn(n)))}),app.windowWidth>=app.breakpoints.small?n.initAwardsBanner():n.initToggle(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,C.a),n=t,(i=[{key:"initAwardsBanner",value:function(){var e=this.element.querySelector(".about__awards-banner");this.awardsBanner=new vn({element:e}),this.awardsBanner.on("visibilityChange",this.onAwardsBannerVisibilityChange.bind(this)),this.awardsBannerObserver=new IntersectionObserver(this.onAwardsBannerObserverChange.bind(this),{rootMargin:"10% 0% -110% 0%"}),this.awardsBannerObserver.observe(this.element.parentNode)}},{key:"initToggle",value:function(){var e=this.element.parentNode.parentNode,t=e.querySelector(".about__navbar__close"),n=e.querySelector(".footer");this.toggleInitialized=!0,this.isVisible=!1,this.openButton=e.querySelector(".about__navbar-open"),this.toggleObserver=new IntersectionObserver(this.onToggleObserverChange.bind(this)),this.toggleObserver.observe(n),this.openButton.addEventListener("click",this.onOpenButtonClick.bind(this)),t.addEventListener("click",this.onCloseButtonClick.bind(this))}},{key:"dispose",value:function(){this.disposeAwardsBanner()}},{key:"disposeAwardsBanner",value:function(){this.awardsBanner&&(this.awardsBannerObserver.disconnect(),this.awardsBanner.off("visibilityChange"),this.awardsBanner.off("click"),this.awardsBanner.dispose())}},{key:"resize",value:function(){app.windowWidth<app.breakpoints.small?this.toggleInitialized||this.initToggle():this.awardsBanner?this.awardsBanner.resize():this.initAwardsBanner()}},{key:"setCurrentItem",value:function(e){if(this.currentItem){if(this.currentItem.dataset.id===e)return;this.currentItem.classList.remove(On)}var t=this.element.querySelector('.about__nav__item[data-id="'.concat(e,'"]'));t&&(this.currentItem=t,t.classList.add(On))}},{key:"show",value:function(){this.isVisible||(this.isVisible=!0,this.element.parentNode.classList.add("js-navbar-opened"))}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1,this.element.parentNode.classList.remove("js-navbar-opened"))}},{key:"onLinkClick",value:function(e){e.currentTarget.parentNode.dataset.id;e.preventDefault(),this.toggleInitialized&&this.hide()}},{key:"onAwardsBannerVisibilityChange",value:function(e){var t=this.element.querySelector(".about__scroll-cta");s.k.killTweensOf(t),s.k.to(t,.6,{autoAlpha:e.isVisible?0:1,delay:e.isVisible?0:.8})}},{key:"onAwardsBannerObserverChange",value:function(e){e[0].isIntersecting?this.awardsBanner.show():this.awardsBanner.hide()}},{key:"onOpenButtonClick",value:function(){this.show()}},{key:"onCloseButtonClick",value:function(){this.hide()}},{key:"onToggleObserverChange",value:function(e){this.openButton.classList.toggle("js-pin",e[0].isIntersecting),this.element.classList.toggle("js-pin",e[0].isIntersecting)}}])&&_n(n.prototype,i),r&&_n(n,r),t}();function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function In(e,t){return!t||"object"!==Cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var En=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=In(this,Pn(t).call(this))).target=e.target,n.calcMaxY=e.calcMaxY,n.maxY=0,n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,ut),n=t,(i=[{key:"resize",value:function(){this.maxY=this.calcMaxY()}},{key:"render",value:function(e){var t=e.containerY/this.maxY;t>1&&(t=1),this.target.style.transform="translate3d(0,0,0) scaleY(".concat(t,")")}}])&&Tn(n.prototype,i),r&&Tn(n,r),t}();function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Rn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e,t,n){return(Vn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nn(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}J.a;var zn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rn(this,Nn(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,Oe),n=t,(i=[{key:"initPage",value:function(){Vn(Nn(t.prototype),"initPage",this).call(this),this.showHeaderDelay=1,this.owner.previousScreen&&"bio"===this.owner.previousScreen.id&&this.scrollToBioLink(),this.initNavbar(),this.initSectionObservers(),this.initHighlights(),this.initAwards(),this.initLeadership()}},{key:"initNavbar",value:function(){var e=this.element.querySelector(".about__navbar");this.navbar=new xn({element:e})}},{key:"initSectionObservers",value:function(){var e=this.element.querySelectorAll(".about__section"),t=this.onSectionObserverChange.bind(this),n={rootMargin:"-69% 0% -30% 0%"};this.sectionObservers=[],jn(e).forEach(function(e){new IntersectionObserver(t,n).observe(e)})}},{key:"initHighlights",value:function(){var e=this.element.querySelector(".about__highlights");this.highlights=new Qt({element:e})}},{key:"initAwards",value:function(){var e=this.element.querySelector(".about__awards");this.awards=new Zt({element:e})}},{key:"initLeadership",value:function(){var e=this.element.querySelector(".about__leadership");this.leadership=new cn({element:e}),this.leadership.on("prefetch",this.onSectionPrefetch.bind(this)),this.leadership.on("linkClick",this.onLeadershipLinkClick.bind(this))}},{key:"dispose",value:function(){Vn(Nn(t.prototype),"dispose",this).call(this),this.disposeNavbar(),this.disposeHighlights(),this.disposeAwards(),this.disposeLeadership()}},{key:"disposeNavbar",value:function(){this.navbar&&this.navbar.dispose()}},{key:"disposeHighlights",value:function(){this.highlights&&this.highlights.dispose()}},{key:"disposeAwards",value:function(){this.awards&&this.awards.dispose()}},{key:"disposeLeadership",value:function(){this.leadership&&(this.leadership.off("prefetch"),this.leadership.dispose())}},{key:"resize",value:function(){Vn(Nn(t.prototype),"resize",this).call(this),this.highlights&&this.highlights.resize(),this.navbar&&this.navbar.resize(),this.leadership&&this.leadership.resize(),this.splitIntro&&this.splitIntro.split()}},{key:"populateAssetPromises",value:function(){var e=this.element.querySelector(".about__background"),t=getComputedStyle(e).getPropertyValue("background-image").split('url("').join("").split('")').join(""),n=j(t);this.addAssetToLoad(n)}},{key:"populateAnimIn",value:function(){var e=this.element.querySelectorAll(".about__overview .about__section__title span"),t=this.element.querySelector(".about__overview .about__section__intro"),n=this.element.querySelector(".about__overview .about__section__lead"),i=this.element.querySelector(".about__scrollbar"),r=this.element.querySelector(".about__background"),o=v("inOut"),a=this.isAjax?1:.2;if(this.splitIntro=new lt(t,{type:"lines"}),this.timeline.staggerFrom(e,2,{opacity:0,ease:le.a.easeOut,cycle:{yPercent:app.windowWidth<app.breakpoints.small?[100]:[100,-100]}},.1,a+.1).staggerFrom(this.splitIntro.lines,2,{y:80,opacity:0,rotation:5,transformOrigin:"left top",ease:le.a.easeOut},.1,a+.2).from(n,1,{opacity:0},a+1).from(i,2,{scaleY:0,ease:o},a).from(r,3,{yPercent:-1,scale:1.1,ease:o},a),app.windowWidth>=app.breakpoints.small){var l=this.element.querySelector(".about__scroll-cta"),c=this.element.querySelectorAll(".about__nav__link__inner"),u=l.getBoundingClientRect();this.timeline.from(l,1.3,{y:app.windowHeight-u.top,opacity:0,ease:s.g.easeOut},a+1).from(c,1.3,{xPercent:-100,x:-20,ease:o},a+1)}}},{key:"populateScrollItems",value:function(){var e=this,t=this.element.querySelector(".about__navbar"),n=this.element.querySelector(".about__scrollbar__progress"),i=this.element.querySelector(".about__overview");this.scroll.addItem(new mt({target:t,sticky:!0,calcMaxY:function(){return e.element.querySelector(".about__content").clientHeight-app.windowHeight}})),this.scroll.addItem(new mt({target:i,smoothScroll:!0,autoRemove:!1,trigger:50,offset:100,onEnter:function(){var t=e.element.querySelectorAll(".about__overview .about__section__title"),n=e.splitIntro.lines.slice();n.unshift(t),(new o.a).staggerTo(n,.6,{opacity:0,y:-50,ease:s.e.easeIn},.1)},onExit:function(){var t=e.element.querySelectorAll(".about__overview .about__section__title"),n=e.splitIntro.lines.slice();n.unshift(t),(new o.a).staggerTo(n,.9,{opacity:1,y:0,ease:s.f.easeOut},-.1)}})),this.scroll.addItem(new En({target:n,calcMaxY:function(){return e.element.querySelector(".about__content").clientHeight-app.windowHeight}}))}},{key:"scrollToBioLink",value:function(){var e=new URL(this.owner.previousScreen.url),t=jn(this.element.querySelectorAll(".about__directors__board__link")).find(function(t){return t.pathname===e.pathname});if(t){var n=t.getBoundingClientRect().top-200;this.skipIn=!0,this.scroll?this.scroll.to(n):scrollTo(0,n)}}},{key:"onSectionObserverChange",value:function(e){var t=this;e.forEach(function(e){if(e.isIntersecting){var n=e.target.dataset.id;t.navbar.setCurrentItem(n)}})}},{key:"onSectionPrefetch",value:function(e){this.emit("prefetch",e)}},{key:"onLeadershipLinkClick",value:function(){this.skipAjaxLoading=!0}}])&&qn(n.prototype,i),r&&qn(n,r),t}();function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Dn(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e,t,n){return(Fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yn(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}J.a;var Xn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dn(this,Yn(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(t,Oe),n=t,(i=[{key:"initPage",value:function(){Fn(Yn(t.prototype),"initPage",this).call(this),this.close=this.element.querySelector(".bio__close"),this.close.addEventListener("mouseenter",this.onCloseRollOver.bind(this)),this.close.addEventListener("click",this.onCloseClick.bind(this))}},{key:"initScroll",value:function(){var e=this.element.querySelector(".bio__text"),t=this.element.querySelector(".bio__text__scroll-container"),n=this.element.querySelector(".bio__text__scroll-content");this.scroll=new D(n,{root:e,container:t}),this.scroll.resize()}},{key:"initColorObservers",value:function(){}},{key:"initLazyVideos",value:function(){}},{key:"populateAssetPromises",value:function(){var e=this.element.querySelector(".bio__portrait__img"),t=e.currentSrc||e.src,n=j(t);this.addAssetToLoad(n)}},{key:"populateAnimIn",value:function(){var e=this,t=this.element.querySelector(".bio__portrait"),n=t.querySelector(".bio__portrait__inner"),i=this.element.querySelector(".bio__title"),r=this.element.querySelector(".bio__subtitle"),o=this.element.querySelectorAll(".bio__body p"),a=this.element.querySelectorAll(".bio__close__background"),l=this.element.querySelectorAll(".bio__close__picto");if(this.timeline.from(t,1.8,{yPercent:-100,ease:le.a.easeInOut},0).from(n,1.8,{yPercent:100,ease:le.a.easeInOut},0).staggerFrom([i,r,o],1.6,{y:80,opacity:0,ease:le.a.easeOut,onComplete:function(){s.k.set(r,{clearProps:"y"})}},.1,1.1).from(a,.8,{scaleY:0,ease:s.e.easeInOut},.9).from(l,1.6,{scale:2,opacity:0,ease:le.a.easeOut},1.4).add(function(){e.isAjax&&e.emit("changeToggleNavColor",{color:"dark"})},1),app.windowWidth<app.breakpoints.small){var c=this.element.querySelector(".bio__text__inner-background");this.timeline.from(c,1.8,{yPercent:100,ease:le.a.easeInOut},0)}else{var u=this.element.querySelector(".bio__text-background");this.timeline.from(u,1.8,{yPercent:100,ease:le.a.easeInOut},0)}}},{key:"populateAnimOut",value:function(){var e=this;if("about"===this.owner.currentScreen.id){var t=this.element.querySelector(".bio__portrait"),n=t.querySelector(".bio__portrait__inner"),i=this.element.querySelector(".bio__title"),r=this.element.querySelector(".bio__subtitle"),o=this.element.querySelectorAll(".bio__body p"),a=this.element.querySelectorAll(".bio__close__background"),l=this.element.querySelectorAll(".bio__close__picto");if(this.timeline.to(t,1.8,{yPercent:-100,ease:le.a.easeInOut},0).to(n,1.8,{yPercent:100,ease:le.a.easeInOut},0).to([i,r,o],.5,{opacity:0},0).to(a,.8,{scaleY:0,yPercent:100,ease:s.e.easeInOut},.3).to(l,.5,{opacity:0},0).add(function(){e.isAjax&&e.emit("changeToggleNavColor",{color:"light"})},1),app.windowWidth<app.breakpoints.small){var c=this.element.querySelector(".bio__text__inner-background");this.timeline.to(c,1.8,{yPercent:100,ease:le.a.easeInOut},0),this.element.scrollTop>50&&(this.timeline.shiftChildren(.6),this.timeline.to(this.element,1,{scrollTo:0},0))}else{var u=this.element.querySelector(".bio__text-background");this.timeline.to(u,1.8,{yPercent:100,ease:le.a.easeInOut},0)}}}},{key:"onCloseRollOver",value:function(e){this.emit("prefetch",{href:e.currentTarget.href})}},{key:"onCloseClick",value:function(e){this.skipAjaxLoading=!0}}])&&Hn(n.prototype,i),r&&Hn(n,r),t}();function Un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Kn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.observer=new IntersectionObserver(this.onObserverChange.bind(this)),this.observer.observe(this.element),this.initialized=!1}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initialized=!0}},{key:"initVertText",value:function(){var e=this.element.querySelector(".service__interstitial__text");e&&(this.vertText=new Te({element:e}))}},{key:"dispose",value:function(){this.observer.disconnect()}},{key:"resize",value:function(){this.vertText&&this.vertText.resize()}},{key:"enter",value:function(){this.initialized||this.init(),this.vertText&&this.vertText.start()}},{key:"exit",value:function(){this.initialized&&this.vertText&&this.vertText.pause()}},{key:"onObserverChange",value:function(e){e[0].isIntersecting?this.enter():this.exit()}}])&&Un(t.prototype,n),i&&Un(t,i),e}();function Gn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.observer=new IntersectionObserver(this.onObserverChange.bind(this)),this.observer.observe(this.element),this.initialized=!1}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initialized=!0,this.initVertText()}},{key:"initVertText",value:function(){var e=this.element.querySelector(".service__next__vert-text");e&&(this.vertText=new Te({element:e}))}},{key:"dispose",value:function(){this.observer.disconnect(),this.vertText&&this.vertText.dispose()}},{key:"resize",value:function(){this.vertText&&this.vertText.resize()}},{key:"enter",value:function(){this.initialized||this.init(),this.vertText&&this.vertText.start()}},{key:"exit",value:function(){this.initialized&&this.vertText&&this.vertText.pause()}},{key:"onObserverChange",value:function(e){e[0].isIntersecting?this.enter():this.exit()}}])&&Gn(t.prototype,n),i&&Gn(t,i),e}();function $n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.currentItemIndex=0,this.isRunning=!1,this.paused=!1,this.initialized=!1,this.observer=new IntersectionObserver(this.onObserverChange.bind(this),{threshold:.3}),this.observer.observe(this.element)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initialized=!0,this.items=this.element.querySelectorAll(".service__money-market__item"),this.element.querySelector(".service__money-market__prev").addEventListener("click",this.onPrevButtonClick.bind(this)),this.element.querySelector(".service__money-market__next").addEventListener("click",this.onNextButtonClick.bind(this))}},{key:"dispose",value:function(){this.observer.disconnect()}},{key:"resize",value:function(){this.initialized&&this.createSplitTexts()}},{key:"start",value:function(){if(!this.isRunning){var e=this.paused;this.isRunning=!0,this.paused=!1,e?this.resumeTimer():this.startTimer()}}},{key:"pause",value:function(){this.isRunning&&(this.isRunning=!1,this.paused=!0,this.pauseTimer())}},{key:"createTimer",value:function(){var e=this.element.querySelector(".service__money-market__progress__bar");this.timer=s.k.fromTo(e,6,{paused:!0,opacity:1,scaleX:0},{scaleX:1,onComplete:this.onTimerComplete.bind(this),ease:Linear.easeNone})}},{key:"startTimer",value:function(){this.timer?this.timer.progress(0).invalidate():this.createTimer(),this.timer.play()}},{key:"resumeTimer",value:function(){this.timer&&this.timer.play()}},{key:"pauseTimer",value:function(){this.timer&&this.timer.isActive()&&this.timer.pause()}},{key:"createSplitTexts",value:function(){var e=this;this.splitTexts&&this.splitTexts.forEach(function(t,n){e.items[n].innerHTML=e.itemsHtml[n]}),this.splitTexts=[],this.itemsHtml=[],$n(this.items).forEach(function(t,n){e.itemsHtml=t.innerHTML,e.splitTexts[n]=new lt(t,{type:"lines"}),e.splitTexts[n].lines.forEach(function(e){var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e)})})}},{key:"gotoItem",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e!==this.currentItemIndex){var i=this.element.querySelectorAll(".service__money-market__index__number"),r=this.currentItemIndex,a=r+1;a<0?a=this.items.length-1:a>this.items.length-1&&(a=0);var l=e+1;l<0?l=this.items.length-1:l>this.items.length-1&&(l=0),this.currentItemIndex=e,this.splitTexts||this.createSplitTexts();var c=this.splitTexts[r].lines.slice(),u=this.splitTexts[a].lines.slice(),h=c.concat(u),f=this.splitTexts[e].lines.slice(),p=this.splitTexts[l].lines.slice(),y=f.concat(p);this.pauseTimer(),s.k.killTweensOf(i[e]),s.k.killTweensOf(i[r]),this.itemsTimeline&&this.itemsTimeline.kill(),this.itemsTimeline=new o.a({onComplete:function(){t.startTimer()}}).staggerTo(h,.5,{yPercent:-100,ease:s.f.easeIn},.1).add(function(){$n(t.items).forEach(function(e,n){e.classList.toggle("is-current",n===t.currentItemIndex),s.k.set(y,{yPercent:100}),s.k.set(e,{xPercent:n-t.currentItemIndex<0?100*(t.items.length-t.currentItemIndex):-100*t.currentItemIndex})})}).staggerTo(y,1.2,{yPercent:0,ease:s.f.easeOut},.1).to(this.timer.target,.5,{opacity:0},0),(new o.a).add(function(){i[r].style.visibility="inherit",i[r].classList.remove("is-current"),i[e].classList.add("is-current")},0).to(i[r],.5,{yPercent:-100*n,ease:s.f.easeIn,onComplete:function(){i[r].style.visibility=""}},0).fromTo(i[e],.9,{yPercent:100*n},{yPercent:0,ease:s.f.easeOut},.2)}}},{key:"gotoNextItem",value:function(){var e=this.currentItemIndex===this.items.length-1?0:this.currentItemIndex+1;this.gotoItem(e)}},{key:"gotoPrevItem",value:function(){var e=0===this.currentItemIndex?this.items.length-1:this.currentItemIndex-1;this.gotoItem(e,-1)}},{key:"enter",value:function(){this.initialized||this.init(),this.splitTexts||this.createSplitTexts(),this.start()}},{key:"exit",value:function(){this.pause()}},{key:"onPrevButtonClick",value:function(){this.gotoPrevItem()}},{key:"onNextButtonClick",value:function(){this.gotoNextItem()}},{key:"onTimerComplete",value:function(){this.gotoNextItem()}},{key:"onObserverChange",value:function(e){e[0].isIntersecting?this.enter():this.exit()}}])&&Jn(t.prototype,n),i&&Jn(t,i),e}(),ei=n(111);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ii(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ri(e,t,n){return(ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oi(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}J.a;function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ci(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e,t,n){return(ui="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hi(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fi(e,t){return(fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pi={default:Oe,home:Je,contact:Ot,about:zn,bio:Xn,service:function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ii(this,oi(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,Oe),n=t,(i=[{key:"initPage",value:function(){ri(oi(t.prototype),"initPage",this).call(this),this.showHeaderDelay=this.isAjax?1.5:1,this.initHeader(),this.initInterstitial(),this.initNext(),this.initCarousel(),this.initForm()}},{key:"initHeader",value:function(){this.element.querySelector(".service__scroll-cta").addEventListener("click",this.onScrollCtaClick.bind(this))}},{key:"initInterstitial",value:function(){var e=this.element.querySelector(".service__interstitial");e&&(this.interstitial=new Kn({element:e}))}},{key:"initNext",value:function(){var e=this.element.querySelector(".service__next");e&&(this.next=new Qn({element:e}))}},{key:"initCarousel",value:function(){var e=this.element.querySelector(".service__money-market__carousel");e&&(this.carousel=new Zn({element:e}))}},{key:"initForm",value:function(){var e=this.element.querySelector(".form");e&&(this.form=new at({element:e}))}},{key:"dispose",value:function(){ri(oi(t.prototype),"dispose",this).call(this),this.interstitial&&this.interstitial.dispose(),this.next&&this.next.dispose()}},{key:"resize",value:function(){this.interstitial&&this.interstitial.resize(),this.next&&this.next.resize()}},{key:"populateAssetPromises",value:function(){var e=this.element.querySelector(".service__background"),t=getComputedStyle(e).getPropertyValue("background-image").split('url("').join("").split('")').join(""),n=j(t);this.addAssetToLoad(n)}},{key:"populateAnimIn",value:function(){var e=this.element.querySelector(".service__index__current"),t=this.element.querySelector(".service__index__separator"),n=this.element.querySelector(".service__index__total"),i=this.element.querySelector(".service__title"),r=i.getBoundingClientRect(),o=i.querySelectorAll(".service__title__word"),s=this.element.querySelector(".service__intro"),a=this.element.querySelector(".service__scroll-cta"),l=this.element.querySelector(".service__header__sections"),c=v("inOut"),u=this.element.querySelector(".service__background"),h=this.isAjax?.4:.1;this.splitIntro=new lt(s,{type:"lines"}),this.timeline.from(u,3,{scale:1.1,ease:c},h).staggerFrom([e,t],2,{yPercent:100,ease:c},.1,h+.6).from(n,2,{yPercent:-100,ease:c},h+.6).staggerFrom(o,2,{cycle:{y:function(e,t){var n=t.getBoundingClientRect();return app.windowWidth<app.breakpoints.small?r.bottom-n.top:(n.bottom-r.top)*(1+e%2*-2)}},ease:c},.2,h+.1).staggerFrom(this.splitIntro.lines,2,{y:80,opacity:0,transformOrigin:"left top",rotation:5,ease:c},.1,h+.3).from(a,2,{y:80,opacity:0,ease:c},h+.3*(this.splitIntro.lines.length-1)).from(l,2,{y:80,opacity:0,ease:c},h+.3*this.splitIntro.lines.length)}},{key:"populateScrollItems",value:function(){var e=this,t=this.element.querySelector(".service__background"),n=this.element.querySelector(".service__header"),i=this.element.querySelector(".service__scroll-text");this.scroll.addItem(new mt({target:t,smoothScroll:!0,offsetProgressMax:10,calcOffset:function(){return-.5*app.windowHeight}})),this.scroll.addItem(new mt({target:i,sticky:!0,autoRemove:!1,toggleClass:"js-visible",media:parseInt(ei.breakpoints.medium),calcTrigger:function(){var t=e.element.querySelector(".service__section__header__text").getBoundingClientRect();return window.pageYOffset+t.top-window.innerHeight+t.height},calcDuration:function(t){var n=e.element.querySelector(".footer").getBoundingClientRect();return window.pageYOffset+n.top-window.innerHeight-t.trigger}})),this.scroll.addItem(new mt({target:n,smoothScroll:!0,autoRemove:!1,trigger:50,offset:100,onEnter:function(){var t=e.element.querySelectorAll(".service__title"),n=e.splitIntro.lines.slice(),i=e.element.querySelector(".service__index"),r=e.element.querySelector(".service__scroll-cta"),o=e.element.querySelector(".service__header__sections");n.unshift(t),n.push(r),n.push(o),(new TimelineLite).staggerTo(n,.6,{opacity:0,y:-50,ease:s.e.easeIn},.1).to(i,.6,{opacity:0,y:-50,ease:s.e.easeIn},0)},onExit:function(){var t=e.element.querySelectorAll(".service__title"),n=e.splitIntro.lines.slice(),i=e.element.querySelector(".service__index"),r=e.element.querySelector(".service__scroll-cta"),o=e.element.querySelector(".service__header__sections");n.unshift(t),n.push(r),n.push(o),(new TimelineLite).staggerTo(n,.9,{opacity:1,y:0,ease:Power3.easeOut},-.1).to(i,.6,{opacity:1,y:0,ease:Power3.easeOut},.2)}}))}},{key:"onScrollCtaClick",value:function(){var e=this.element.querySelector(".service__content").getBoundingClientRect().top;TweenLite.to(window,.6,{scrollTo:e})}}])&&ni(n.prototype,i),r&&ni(n,r),t}(),onlinebanking:function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ci(this,hi(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fi(e,t)}(t,Oe),n=t,(i=[{key:"initPage",value:function(){ui(hi(t.prototype),"initPage",this).call(this),this.initHeader()}},{key:"initHeader",value:function(){this.element.querySelector(".onlinebanking__scroll-cta").addEventListener("click",this.onScrollCtaClick.bind(this))}},{key:"onScrollCtaClick",value:function(){var e=this.element.querySelector(".onlinebanking__infos").getBoundingClientRect().top;TweenLite.to(window,.6,{scrollTo:e})}}])&&li(n.prototype,i),r&&li(n,r),t}()},yi=n(183);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _i=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vi(this,bi(t).call(this))).isVisible=!1,e.element=document.querySelector(".logo"),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(t,C.a),n=t,(i=[{key:"setColor",value:function(e){e?e!==this.color&&(this.color=e,"light"===e?this.element.classList.add("logo--light"):this.element.classList.remove("logo--light"),"dark"===e?this.element.classList.add("logo--dark"):this.element.classList.remove("logo--dark")):this.clearColor()}},{key:"clearColor",value:function(){this.color=null,this.element.classList.remove("logo--light"),this.element.classList.remove("logo--dark")}},{key:"show",value:function(){this.isVisible||(this.isVisible=!0,this.animateIn())}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1,this.animateOut())}},{key:"animateIn",value:function(){s.k.killTweensOf(this.element),s.k.set(this.element,{clearProps:"all"});var e=this.element.getBoundingClientRect();s.k.fromTo(this.element,1.3,{y:-1*(e.top+e.height),autoAlpha:0},{y:0,autoAlpha:1,ease:s.g.easeOut})}},{key:"animateOut",value:function(){var e=this,t=this.element.getBoundingClientRect();s.k.to(this.element,1.3,{y:-1*(t.top+t.height),autoAlpha:0,onComplete:function(){s.k.set(e.element,{clearProps:"transform"})},ease:s.g.easeInOut})}}])&&mi(n.prototype,i),r&&mi(n,r),t}()),wi=n(182),ki=n.n(wi);n(195);function Si(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Oi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clickEvent=document.ontouchstart?"touchstart":"click",this.url=null,this.isVisible=!1,this.element=document.body.querySelector(".redirect-modal"),this.keyUpCallback=this.onKeyUp.bind(this),this.keyDownCallback=this.onKeyDown.bind(this),this.backgroundClickCallback=this.onBackgroundClick.bind(this),this.continueBtnClickCallback=this.onContinueBtnClick.bind(this),this.cancelBtnClickCallback=this.onCancelBtnClick.bind(this),document.addEventListener(this.clickEvent,this.onClick.bind(this))}var t,n,i;return t=e,(n=[{key:"initTabKeyTrap",value:function(){var e=Si(this.element.querySelectorAll('a[href], button:not([disabled]), [tabindex="0"]'));this.tabKeyTrapInititalized=!0,this.firstFocusableElement=e[0],this.lastFocusableElement=e[e.length-1]}},{key:"setVisibility",value:function(e){this.isVisible=e,this.element.setAttribute("aria-hidden",!e)}},{key:"show",value:function(e){this.isVisible||(this.element.style.visibility="inherit","two"===e?this.element.classList.add("has-v2-content"):"main"===e&&this.element.classList.remove("has-v2-content"),this.setVisibility(!0),this.addNavListeners(),this.animateIn())}},{key:"hide",value:function(){this.isVisible&&(this.setVisibility(!1),this.removeNavListeners(),this.animateOut())}},{key:"animateIn",value:function(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__dialog");s.k.fromTo(e,.7,{opacity:0},{opacity:1}),s.k.fromTo(t,.7,{opacity:0,y:80},{opacity:1,y:0,ease:s.f.easeOut})}},{key:"animateOut",value:function(){var e=this,t=this.element.querySelector(".redirect-modal__background"),n=this.element.querySelector(".redirect-modal__dialog");s.k.to(t,.7,{opacity:0,onComplete:function(){e.element.style.visibility=""}}),s.k.to(n,.5,{opacity:0,y:80,ease:s.f.easeOut})}},{key:"addNavListeners",value:function(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__cancel"),n=this.element.querySelector(".redirect-modal__continue");this.tabKeyTrapInititalized||this.initTabKeyTrap(),window.addEventListener("keyup",this.keyUpCallback),window.addEventListener("keydown",this.keyDownCallback),e.addEventListener("click",this.backgroundClickCallback),t.addEventListener("click",this.cancelBtnClickCallback),n.addEventListener("click",this.continueBtnClickCallback)}},{key:"removeNavListeners",value:function(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__cancel"),n=this.element.querySelector(".redirect-modal__continue");window.removeEventListener("keyup",this.keyUpCallback),window.removeEventListener("keydown",this.keyDownCallback),e.removeEventListener("click",this.backgroundClickCallback),t.removeEventListener("click",this.cancelBtnClickCallback),n.removeEventListener("click",this.continueBtnClickCallback)}},{key:"trapTabKey",value:function(e){e.shiftKey?document.activeElement===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}},{key:"continue",value:function(){this.hide(),window.open(this.url,"_blank")}},{key:"isSameOrigin",value:function(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),e&&0===e.indexOf(t)}},{key:"onClick",value:function(e){if(!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var i=0;i<n.length;i++)if(n[i].nodeName&&"A"===n[i].nodeName.toUpperCase()&&n[i].href){t=n[i];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;t&&"A"===t.nodeName.toUpperCase()&&this.onLinkClick(e,t)}}},{key:"onLinkClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.defaultPrevented){var n=t||e.currentTarget;if(n&&!n.download&&n.href&&!(n.href.indexOf("mailto:")>-1||this.isSameOrigin(n.href)||n.dataset&&"noDisclaimer"in n.dataset&&"false"!==n.dataset.noDisclaimer)){e.preventDefault(),this.url=n.href;var i="main";n.hasAttribute("data-disclaimer-version-two")&&(i="two"),this.show(i)}}}},{key:"onBackgroundClick",value:function(){this.hide()}},{key:"onKeyUp",value:function(e){"Escape"===e.key?this.hide():"Enter"===e.key&&this.continue()}},{key:"onKeyDown",value:function(e){"Tab"===e.key&&this.trapTabKey(e)}},{key:"onContinueBtnClick",value:function(){this.continue()}},{key:"onCancelBtnClick",value:function(){this.hide()}}])&&Oi(t.prototype,n),i&&Oi(t,i),e}();function Ci(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ti,Ii,Pi,Ai,Ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.closeBtn=this.element.querySelector(".banner__close"),this.closeBtn.addEventListener("click",this.onCloseBtnClick.bind(this)),this.show()}var t,n,i;return t=e,(n=[{key:"show",value:function(){this.element.style.display="block"}},{key:"hide",value:function(){this.element.style.display=""}},{key:"onCloseBtnClick",value:function(){this.hide()}}])&&Ci(t.prototype,n),i&&Ci(t,i),e}();yi.a;function Li(){ji({element:document.querySelector(".page")})}function ji(e){var t=e.url,n=e.element;if(n){Ai=null;var r=n.getAttribute("data-page"),o=n.getAttribute("data-page-id"),s=function(e,t){var n=t?e+"-"+t:e,r=Ti.getScreen(n);if(!r){var o=pi[e]||pi.default;r=new i.b(o),Ti.addScreen(n,r)}return r}(r,o),a={canDispose:!1,arguments:[{id:r,uid:o,element:n,url:t,owner:Ti}],events:{showHeader:Ki,pushState:Gi,prefetch:Qi,changeHeaderColor:Xi,changeToggleNavColor:Ui}};s.setOptions(a),Pi&&(Pi.abortLoadAssets(),qi()),(Pi=s.getScreen()).on("assetLoaded",Yi),Pi.once("loadAssetsComplete",Wi),Pi.loadAssets()}}function qi(){Pi.off("assetLoaded",Yi),Pi.off("loadAssetsComplete",Wi),Ti.getScreen(Pi.uid).canDispose=!0,Pi=null}function Ri(){var e;Pi&&(e=Pi.uid,Ti.showScreen(e),qi())}function Vi(){var e=Ti.currentScreen;"ajax-loading"===e.id?Ti.previousScreen&&"home"===Ti.previousScreen.id&&(_i.hide(),ae.hide()):e.isAjax&&(me.setCurrentItem(e.uid),me.hide())}function Ni(){"ajax-loading"===Ti.currentScreen.id&&(_i.hide(),ae.hide(),Ai&&ji(Ai))}function Bi(){Ti.currentScreen&&Ti.currentScreen.skipAjaxLoading||function(){var e="ajax-loading";if(!Ti.currentScreen||Ti.currentScreen.id!==e){var t=Ti.getScreen(e);if(!t){var n=document.querySelector(".ajax-loading");t=new i.b(O,{canDispose:!1,arguments:[{id:e,element:n}],events:{animateInComplete:Zi}}),Ti.addScreen(e,t)}Ti.showScreen(e)}}()}function zi(e){var t={element:r(e.text),url:e.url},n=Ti.currentScreen;n&&"ajax-loading"===n.id&&Ti.transition?Ai=t:ji(t)}function Mi(e){var t=Ti.currentScreen;t&&t.onPopState&&t.onPopState(e)}function Hi(e){var t=Ti&&Ti.currentScreen;app.windowWidth=window.innerWidth,app.windowHeight=window.innerHeight,t&&t.resize(e)}function Di(){Li()}function Fi(){Ri()}function Yi(e){var t=Ti.currentScreen;t&&"main-loading"===t.id&&t.setProgress(e.progress)}function Wi(){var e=Ti.currentScreen;if(e){if("main-loading"===e.id)return void e.setProgress(1);if(Ti.transition&&"ajax-loading"===e.id)return}setTimeout(function(){return Ri()},100)}function Xi(e){var t=e.color;ae.setColor(t),_i.setColor(t)}function Ui(e){ae.setColor(e.color)}function Ki(e){_i.show(),ae.show()}function Gi(e){Ii.pushState(e.state,e.url)}function Qi(e){Ii.loadPage(e.href)}function $i(){me.toggleVisibility()}function Ji(e){ae.updateWithNavVisibility(e.isVisible)}function Zi(){Pi&&!Pi.isLoadingAssets&&setTimeout(function(){return Ri()},100)}function er(e){"Tab"===e.key&&document.documentElement.classList.remove("no-focus")}!function(){!function(){window.app=window.app||{},app.breakpoints=ei.breakpoints,app.windowWidth=0,app.windowHeight=0,app.hasTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,app.hasTouch?document.documentElement.classList.add("touch"):document.documentElement.classList.add("no-touch");app.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),app.debug&&window.location.search&&(app.skip=-1!==window.location.search.indexOf("skip"),app.skipIn=-1!==window.location.search.indexOf("skipIn"))}(),(Ti=new i.d).transitionType=i.c.OutAndIn,Ti.on("transitionStart",Vi),Ti.on("transitionComplete",Ni),(Ii=new L({prefetchLinks:!1})).on("pageLoading",Bi),Ii.on("pageLoaded",zi),Ii.on("popState",Mi),me.on("visibilityChange",Ji),ae.on("click",$i),function(){var e=document.querySelector(".banner");if(!e)return;new Ei(e)}(),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),app.reportJsErrors&&window.Sentry&&Sentry.init({dsn:"https://b0927847a88148e697e44c24923e6564@sentry.io/1528141"}),window.addEventListener("keyup",er),window.addEventListener("resize",ki()(Hi,100)),Hi(),new xi;var e=document.querySelector(".page").dataset.page;app.skip||"home"!==e?Li():function(){var e="main-loading",t=document.querySelector(".main-loading"),n=new i.b(p,{arguments:[{id:e,element:t}],events:{animInComplete:Di,complete:Fi}});Ti.addScreen(e,n),Ti.showScreen(e)}()}()}});