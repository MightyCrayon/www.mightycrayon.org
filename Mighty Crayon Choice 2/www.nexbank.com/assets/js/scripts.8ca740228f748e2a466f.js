!function(e){function t(t){for(var s,o,a=t[0],l=t[1],h=t[2],d=0,u=[];d<a.length;d++)o=a[d],r[o]&&u.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(c&&c(t);u.length;)u.shift()();return n.push.apply(n,h||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},r={0:0},n=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var c=l;n.push([158,1]),i()}({158:function(e,t,i){i(372),e.exports=i(371)},371:function(e,t,i){},372:function(e,t,i){"use strict";i.r(t);i(91);var s=i(18),r=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},n=(i(103),i(49),i(3)),o=i(0);class a extends s.a{constructor(e){super(),this.element=e.element,this.id=e.id,this.progress=0,this.digits=this.element.querySelectorAll(".main-loading__digit"),this.visibleProgress=0,this.progressTimeline=null}setProgress(e){this.progress>=e||(this.progress=e,this.progressTimeline||this.animateProgress())}animateProgress(){this.updateProgressNumber(0,this.visibleProgress),this.updateProgressNumber(1,this.progress),this.visibleProgress=this.progress,this.progressTimeline=new n.a({onComplete:this.onProgressTimelineComplete.bind(this)}).staggerFromTo(this.digits,1.7,{cycle:{yPercent:[0,0,0,-100,-100,100]}},{cycle:{yPercent:[100,100,-100,0,0,0]},ease:o.g.easeInOut},.1,0)}updateProgressNumber(e,t){var i=parseInt(100*t).toString().split("");i.unshift(""),i=i.slice(-3);for(var s=0;s<3;s++)this.digits[3*e+s].textContent=i[s]}createAnimIn(e){var t=o.g.easeInOut;this.progress=this.visibleProgress=.18+.12*Math.random(),this.updateProgressNumber(1,this.progress),new n.a({onComplete:()=>{e()}}).set(this.element,{visibility:"inherit"},0).fromTo(this.digits[1],1.7,{yPercent:-100},{yPercent:100,ease:t},0).fromTo(this.digits[2],1.7,{yPercent:100},{yPercent:-100,ease:t},.1).fromTo(this.digits[4],1.7,{yPercent:-100},{yPercent:0,ease:t},.2).fromTo(this.digits[5],1.7,{yPercent:100},{yPercent:0,ease:t},.3)}createAnimOut(e){new n.a({onComplete:()=>{e()}}).to(this.element,.8,{opacity:0}).set(this.element,{clearProps:"visibility"})}resize(){}onAnimateInComplete(e){super.onAnimateInComplete(e);var t=.66+.22*Math.random();this.setProgress(t),this.emit("animInComplete")}onProgressTimelineComplete(){this.progressTimeline=null,this.visibleProgress!==this.progress?this.animateProgress():1===this.progress&&this.emit("complete")}}i(105),i(83);
/*!
 * VERSION: 0.2.2
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/
o.j._gsDefine("easing.CustomEase",["easing.Ease"],function(){var e=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,t=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,i=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,s=/[cLlsS]/g,r="CustomEase only accepts Cubic Bezier data.",n=function e(t,i,s,r,n,o,a,l,h,c,d){var u,m=(t+s)/2,p=(i+r)/2,g=(s+n)/2,v=(r+o)/2,_=(n+a)/2,y=(o+l)/2,f=(m+g)/2,b=(p+v)/2,w=(g+_)/2,S=(v+y)/2,x=(f+w)/2,k=(b+S)/2,C=a-t,I=l-i,T=Math.abs((s-a)*I-(r-l)*C),O=Math.abs((n-a)*I-(o-l)*C);return c||(c=[{x:t,y:i},{x:a,y:l}],d=1),c.splice(d||c.length-1,0,{x:x,y:k}),(T+O)*(T+O)>h*(C*C+I*I)&&(u=c.length,e(t,i,m,p,f,b,x,k,h,c,d),e(x,k,w,S,_,y,a,l,h,c,d+1+(c.length-u))),c},a=function(e){var t=this.lookup[e*this.l|0]||this.lookup[this.l-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},l=function(e,t,i){this._calcEnd=!0,this.id=e,e&&(o.b.map[e]=this),this.getRatio=a,this.setData(t,i)},h=l.prototype=new o.b;return h.constructor=l,h.setData=function(o,a){var l,h,c,d,u,m,p,g,v,_,y=(o=o||"0,0,1,1").match(e),f=1,b=[];if(_=(a=a||{}).precision||1,this.data=o,this.lookup=[],this.points=b,this.fast=_<=1,(s.test(o)||-1!==o.indexOf("M")&&-1===o.indexOf("C"))&&(y=function(e){var s,n,o,a,l,h,c,d,u,m,p,g=(e+"").replace(i,function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t}).match(t)||[],v=[],_=0,y=0,f=g.length,b=2;for(s=0;s<f;s++)if(u=a,isNaN(g[s])?l=(a=g[s].toUpperCase())!==g[s]:s--,n=+g[s+1],o=+g[s+2],l&&(n+=_,o+=y),s||(c=n,d=o),"M"===a)h&&h.length<8&&(v.length-=1,b=0),_=c=n,y=d=o,h=[n,o],b=2,v.push(h),s+=2,a="L";else if("C"===a)h||(h=[0,0]),h[b++]=n,h[b++]=o,l||(_=y=0),h[b++]=_+1*g[s+3],h[b++]=y+1*g[s+4],h[b++]=_+=1*g[s+5],h[b++]=y+=1*g[s+6],s+=6;else if("S"===a)"C"===u||"S"===u?(m=_-h[b-4],p=y-h[b-3],h[b++]=_+m,h[b++]=y+p):(h[b++]=_,h[b++]=y),h[b++]=n,h[b++]=o,l||(_=y=0),h[b++]=_+=1*g[s+3],h[b++]=y+=1*g[s+4],s+=4;else{if("L"!==a&&"Z"!==a)throw r;"Z"===a&&(n=c,o=d,h.closed=!0),("L"===a||Math.abs(_-n)>.5||Math.abs(y-o)>.5)&&(h[b++]=_+(n-_)/3,h[b++]=y+(o-y)/3,h[b++]=_+2*(n-_)/3,h[b++]=y+2*(o-y)/3,h[b++]=n,h[b++]=o,"L"===a&&(s+=2)),_=n,y=o}return v[0]}(o)),4===(l=y.length))y.unshift(0,0),y.push(1,1),l=8;else if((l-2)%6)throw r;for(0==+y[0]&&1==+y[l-2]||function(e,t,i){i||0===i||(i=Math.max(+e[e.length-1],+e[1]));var s,r=-1*+e[0],n=-i,o=e.length,a=1/(+e[o-2]+r),l=-t||(Math.abs(+e[o-1]-+e[1])<.01*(+e[o-2]-+e[0])?function(e){var t,i=e.length,s=999999999999;for(t=1;t<i;t+=6)+e[t]<s&&(s=+e[t]);return s}(e)+n:+e[o-1]+n);for(l=l?1/l:-a,s=0;s<o;s+=2)e[s]=(+e[s]+r)*a,e[s+1]=(+e[s+1]+n)*l}(y,a.height,a.originY),this.rawBezier=y,d=2;d<l;d+=6)h={x:+y[d-2],y:+y[d-1]},c={x:+y[d+4],y:+y[d+5]},b.push(h,c),n(h.x,h.y,+y[d],+y[d+1],+y[d+2],+y[d+3],c.x,c.y,1/(2e5*_),b,b.length-1);for(l=b.length,d=0;d<l;d++)p=b[d],g=b[d-1]||p,p.x>g.x||g.y!==p.y&&g.x===p.x||p===g?(g.cx=p.x-g.x,g.cy=p.y-g.y,g.n=p,g.nx=p.x,this.fast&&d>1&&Math.abs(g.cy/g.cx-b[d-2].cy/b[d-2].cx)>2&&(this.fast=!1),g.cx<f&&(g.cx?f=g.cx:(g.cx=.001,d===l-1&&(g.x-=.001,f=Math.min(f,.001),this.fast=!1)))):(b.splice(d--,1),l--);if(l=1/f+1|0,this.l=l,u=1/l,m=0,p=b[0],this.fast){for(d=0;d<l;d++)v=d*u,p.nx<v&&(p=b[++m]),h=p.y+(v-p.x)/p.cx*p.cy,this.lookup[d]={x:v,cx:u,y:h,cy:0,nx:9},d&&(this.lookup[d-1].cy=h-this.lookup[d-1].y);this.lookup[l-1].cy=b[b.length-1].y-h}else{for(d=0;d<l;d++)p.nx<d*u&&(p=b[++m]),this.lookup[d]=p;m<b.length-1&&(this.lookup[d-1]=b[b.length-2])}return this._calcEnd=1!==b[b.length-1].y||0!==b[0].y,this},h.getRatio=a,h.getSVGData=function(e){return l.getSVGData(this,e)},l.create=function(e,t,i){return new l(e,t,i)},l.version="0.2.2",l.bezierToPoints=n,l.get=function(e){return o.b.map[e]},l.getSVGData=function(e,t){var i,s,r,n,a,l,h,c,d,u,m=(t=t||{}).width||100,p=t.height||100,g=t.x||0,v=(t.y||0)+p,_=t.path;if(t.invert&&(p=-p,v=0),(e=e.getRatio?e:o.b.map[e]||console.log("No ease found: ",e)).rawBezier){for(i=[],h=e.rawBezier.length,r=0;r<h;r+=2)i.push((1e3*(g+e.rawBezier[r]*m)|0)/1e3+","+(1e3*(v+e.rawBezier[r+1]*-p)|0)/1e3);i[0]="M"+i[0],i[1]="C"+i[1]}else for(i=["M"+g+","+v],n=1/(h=Math.max(5,200*(t.precision||1))),c=5/(h+=2),d=(1e3*(g+n*m)|0)/1e3,s=((u=(1e3*(v+e.getRatio(n)*-p)|0)/1e3)-v)/(d-g),r=2;r<h;r++)a=(1e3*(g+r*n*m)|0)/1e3,l=(1e3*(v+e.getRatio(r*n)*-p)|0)/1e3,(Math.abs((l-u)/(a-d)-s)>c||r===h-1)&&(i.push(d+","+u),s=(l-u)/(a-d)),d=a,u=l;return _&&("string"==typeof _?document.querySelector(_):_).setAttribute("d",i.join(" ")),i.join(" ")},l},!0);var l=o.l.CustomEase,h={inOut:"M0,0 C0.376,-0.034 0.454,0.528 0.472,0.6 0.542,0.89 0.578,1 1,1"},c={},d=function(e){return c[e]?c[e]:c[e]=l.create(e,h[e])};class u extends s.a{constructor(e){super(),this.element=e.element,this.id=e.id,this.text=this.element.querySelector(".ajax-loading__text"),this.isVisible=!1}setText(){var e=window.location.pathname,t=app.pages.find(t=>t.url===e),i=(t?t.title:"Loading").split(" "),s="<span>".concat(i.join("</span> <span>"),"</span>");this.text.innerHTML=s}createWordsTimeline(){var e=this.text.querySelectorAll("span");return(new n.a).staggerFrom(e,1,{cycle:{yPercent:[100,-100]},ease:o.f.easeOut},.1)}createAnimIn(e){this.timeline&&this.timeline.kill();var t=this.element.querySelector(".ajax-loading__background");this.isVisible=!0,this.setText(),this.wordsTimeline=this.createWordsTimeline(),this.timeline=new n.a({onComplete:()=>{e()}}).set(this.element,{visibility:"inherit"},0).fromTo(t,1.6,{y:app.windowHeight},{y:0,ease:d("inOut")},0).add(this.wordsTimeline,.7)}createAnimOut(e){var t=this.element.querySelector(".ajax-loading__background"),i=this.text.querySelectorAll("span");this.isVisible=!1,this.timeline&&this.timeline.kill(),this.timeline=new n.a({onComplete:()=>{this.timeline=null,e()},delay:.1}).staggerTo(i,1.3,{cycle:{yPercent:[-100,100]},ease:o.f.easeInOut},.1,0).to(t,1.6,{y:-app.windowHeight,ease:d("inOut")},.1).set(this.element,{clearProps:"visibility"})}resize(){}onAnimateInComplete(e){super.onAnimateInComplete(e),window.scrollTo(0,0)}onPopState(e){this.wordsTimeline&&this.wordsTimeline.kill(),this.setText(),this.wordsTimeline=this.createWordsTimeline(),this.timeline&&this.timeline.add(this.wordsTimeline,1)}}i(12),i(24),i(15),i(106);var m=i(13),p=i.n(m);class g extends p.a{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),this.initialized=!1,window.history){for(var t in this.listenLinks=!0,this.clickEvent=document.ontouchstart?"touchstart":"click",this.keepSearch=!0,this.prefetchLinks=!0,this.cacheEnabled=!0,e)void 0!==this[t]&&(this[t]=e[t]);this.cache={},this.init()}}init(){this.initialized=!0,this.loadingUrls=[],this.currentPageUrl=null,this.isLoading=!1,window.history.replaceState({href:window.location.href,isFirstState:!0},"",window.location.href),window.addEventListener("popstate",this.onPopState.bind(this)),this.listenLinks&&document.addEventListener(this.clickEvent,this.onClick.bind(this)),this.prefetchLinks&&document.addEventListener("mouseover",this.onLinkRollOver.bind(this))}loadCurrentPage(e){if(this.initialized){var t=new URL(e);return this.isLoading=!0,this.currentPageUrl=t,this.emit("pageLoading",e),this.loadPage(t)}}loadPage(e){if(this.initialized&&(e="string"==typeof e?new URL(e):e).pathname)if(this.cache[e.pathname])this.onPageLoaded(this.cache[e.pathname]);else if(-1===this.loadingUrls.indexOf(e.pathname)){this.loadingUrls.push(e.pathname);return window.fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",credentials:"same-origin"}}).then(function(t){return t.text().then(function(i){return{url:e,text:i,status:t.status}})}).then(this.onPageLoaded.bind(this))}}pushState(e,t){window.history.pushState(e,"",t)}replaceState(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&window.history.state)for(var i in e)void 0!==window.history.state[i]&&(window.history.state[i]=e[i]);window.history.replaceState(e,"",t)}gotoHref(e){var t=new URL(e);if(t.pathname!==window.location.pathname){this.keepSearch&&window.location.search&&(t.search=window.location.search,e=t.href);var i={href:e};this.pushState(i,e),this.loadCurrentPage(e)}else t.hash!==window.location.hash&&(window.location.hash=t.hash)}isSameOrigin(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),e&&0===e.indexOf(t)}onPageLoaded(e){this.loadingUrls.splice(this.loadingUrls.indexOf(e.url.pathname),1),this.cache[e.url.pathname]=e,this.isLoading&&e.url.pathname===this.currentPageUrl.pathname&&(this.isLoading=!1,this.emit("pageLoaded",{text:e.text,url:e.url.href}))}onClick(e){if(!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,i=e.path||(e.composedPath?e.composedPath():null);if(i)for(var s=0;s<i.length;s++)if(i[s].nodeName&&"A"===i[s].nodeName.toUpperCase()&&i[s].href){t=i[s];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;t&&"A"===t.nodeName.toUpperCase()&&this.onLinkClick(e,t)}}onLinkClick(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.initialized&&!e.defaultPrevented){var i=t||e.currentTarget;if(!i.hasAttribute("download")){var s=i.getAttribute("href"),r=i.href;s&&s.length&&(s.indexOf("mailto:")>-1||this.isSameOrigin(r)&&(i.target||(e.preventDefault(),this.gotoHref(r))))}}}onPopState(e){if(e.state){var t={originalEvent:e,state:e.state,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.emit("popState",t),t.defaultPrevented||e.state.href&&this.loadCurrentPage(e.state.href)}}onLinkRollOver(e){if("A"===e.target.nodeName.toUpperCase()&&e.target.hasAttribute("data-prefetch")){var t=e.target.href;t&&this.loadPage(t)}}}var v=function(e){if("string"==typeof e){var t=e;(e=new Image).src=t}return new Promise(function(t,i){function s(){e.naturalWidth?t(e):i(e),e.removeEventListener("load",s),e.removeEventListener("error",s)}e.naturalWidth||e.complete?t(e):(e.addEventListener("load",s),e.addEventListener("error",s))})};var _=.001,y=.08,f="js-scroll-root",b="js-scroll-container",w="js-scroll-content";class S extends p.a{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.content=e,this.smooth=void 0===t.smooth||t.smooth,this.container=t.container||document.body,this.root=t.root||window,this.isSleeping=!0,this.oldScrollTop=-1,this.scrollTop=0,this.contentHeight=0,this.rootHeight=this.getRootHeight(),this.isTicking=!1,this.onFrameCb=this.onFrame.bind(this),this.onFrameCbId=0,this.isInertialScroll=!1,this.items=[],this.itemsToRemove=[],this.direction=1,this.locked=!1,this.lockedScrollTop=0,this.isFirstFrameAfterUnlock=!1,this.containerY=0,this.containerOldY=0,this.hasActiveItem=!1,this.diffProgress=0,this.smooth&&(this.root!==window&&this.root.classList.add(f),this.container.classList.add(b),this.content.classList.add(w)),this.onScrollCb=this.onScroll.bind(this),this.root.addEventListener("scroll",this.onScrollCb)}dispose(){this.stopTicker(),this.clear(),this.root.removeEventListener("scroll",this.onScrollCb),this.smooth&&(this.content.style.transform="",this.root!==window&&this.root.classList.remove(f),this.container.classList.remove(b),this.content.classList.remove(w),this.container.style.height=""),this.onScrollExternalCb=null}resize(e){if(!this.locked){var t=this.contentHeight,i=this.rootHeight;if(this.isInertialScroll=!1,this.contentHeight=this.content.clientHeight,this.rootHeight=this.getRootHeight(),t!==this.contentHeight||i!==this.rootHeight){this.smooth&&this.resizeContainer();for(var s=0,r=this.items.length;s<r;s++){this.items[s].resize(this)}this.render()}}}resizeContainer(){this.container.style.height=this.contentHeight+"px"}getRootHeight(){return this.root===window?window.innerHeight:this.root.clientHeight}clear(){this.items.length=0,this.itemsToRemove.length=0}clearTransforms(){for(var e=0,t=this.items.length;e<t;e++){this.items[e].clear()}}to(e){this.containerY=e,window.scrollTo(0,e)}addItem(e){return this.items.push(e),e}addItems(e){for(var t=0,i=e.length;t<i;t++)this.addItem(e[t])}startTicker(){this.isTicking||(this.isTicking=!0,this.onFrameCbId=requestAnimationFrame(this.onFrameCb))}stopTicker(){this.isTicking&&(this.isTicking=!1,this.isSleeping=!0,cancelAnimationFrame(this.onFrameCbId))}removeItem(e){-1!==this.items.indexOf(e)&&(e.needsRemove=!1,this.itemsToRemove.push(e))}render(){if(!this.isInertialScroll)for(var e,t;this.itemsToRemove.length;)e=this.itemsToRemove.pop(),t=this.items.indexOf(e),this.items.splice(t,1);this.smooth?(this.containerY+=(this.scrollTop-this.containerY)*y,this.diffProgress=Math.abs(this.containerY-this.containerOldY),this.hasActiveItem=this.diffProgress>_,this.hasActiveItem||(this.containerY=Math.round(this.containerY)),this.content.style.transform="translate3d(0,"+-1*this.containerY+"px,0)",this.containerOldY=this.containerY):this.containerY=this.scrollTop;for(var i=0,s=this.items.length;i<s;i++){var r=this.items[i];r.render(this),this.hasActiveItem||(this.hasActiveItem=r.isActive),r.needsRemove&&this.removeItem(r)}!this.isInertialScroll&&this.onScrollExternalCb&&this.onScrollExternalCb(),this.hasActiveItem||(this.isSleeping=!0),this.isInertialScroll=!0}onFrame(){this.isSleeping?this.isTicking=!1:(this.render(),this.onFrameCbId=requestAnimationFrame(this.onFrameCb))}onScroll(){this.scrollTop=this.root===window?window.pageYOffset:this.root.scrollTop,this.direction=this.scrollTop>this.oldScrollTop?1:-1,this.oldScrollTop=this.scrollTop,this.isInertialScroll=!1,this.isSleeping&&(this.isSleeping=!1,this.startTicker())}}class x extends p.a{constructor(e){super(),this.element=e.element,this.targets=[...e.targets],this.color="light",this.intersections=new Array(this.targets.length),this.initObserver()}initObserver(){this.observer=new IntersectionObserver(this.onObserverChange.bind(this),{rootMargin:this.getObserverMargin()}),this.targets.forEach(e=>{this.observer.observe(e)})}dispose(){this.disposeObserver()}disposeObserver(){this.observer.disconnect()}resize(){this.disposeObserver(),this.initObserver()}getObserverMargin(){var e=this.element.getBoundingClientRect(),t=e.top+Math.floor(e.height/2),i=app.windowWidth-e.right,s=app.windowHeight-(e.top+Math.floor(e.height/2)+1),r=e.left;return"-".concat(t,"px -").concat(i,"px -").concat(s,"px -").concat(r,"px")}setColor(e){e!==this.color&&(this.color=e,this.emit("change",{color:e}))}onObserverChange(e){for(var t=0,i=e.length;t<i;t++){var s=e[t],r=this.targets.indexOf(s.target);this.intersections[r]=!!s.isIntersecting&&s.target.dataset.color}for(var n=this.intersections.length-1;n>-1;n--)if(this.intersections[n]){this.setColor(this.intersections[n]);break}}}class k{constructor(e){this.element=e.element,this.canAutoplay=!0,this.hasPlayEventListener=!1,this.playCallback=this.onPlay.bind(this),this.observer=new IntersectionObserver(this.onObserverChange.bind(this),{rootMargin:"500px 0px 500px 0px"}),this.observer.observe(this.element)}dispose(){this.observer.disconnect(),this.observer=null}onObserverChange(e){if(e[0].isIntersecting){if(!this.canAutoplay)return;this.element.src||(this.element.src=this.element.dataset.src);var t=this.element.play();t?t.then(this.playCallback).catch(this.onPlayError.bind(this)):this.hasPlayEventListener||this.isLoaded||(this.hasPlayEventListener=!0,this.element.addEventListener("play",this.playCallback))}else this.element.pause()}onPlay(){this.isLoaded||(this.hasPlayEventListener&&(this.hasPlayEventListener=!1,this.element.removeEventListener("play",this.playCallback)),this.isLoaded=!0,this.onLoaded())}onPlayError(){this.canAutoplay=!1,this.element.dataset.poster&&!this.element.poster&&(this.element.poster=this.element.dataset.poster,this.onLoaded())}onLoaded(){this.element.classList.add("is-loaded")}}var C=i(46),I=i(155),T={OPEN:0,CLOSE:1},O="js-nav-toggle--close",L="nav-toggle--light",A="nav-toggle--dark";var q=new class extends p.a{constructor(){super(),this.element=document.querySelector(".nav-toggle"),this.element.addEventListener("mouseenter",this.onRollOver.bind(this)),this.element.addEventListener("mouseleave",this.onRollOut.bind(this)),this.element.addEventListener("mousedown",this.onMouseDown.bind(this)),this.element.addEventListener("click",this.onClick.bind(this)),this.openHovered=!1,this.closeHovered=!1,this.state=this.element.classList.contains(O)?T.CLOSE:T.OPEN}setState(e){if(e!==this.state){var t=this.element.querySelector(".nav-toggle__close-label"),i=this.element.querySelector(".nav-toggle__picto--open"),s=this.element.querySelector(".nav-toggle__picto--close"),r=s.querySelectorAll(".nav-toggle__line"),a=45*Math.PI/180,l=32.4*Math.cos(a),h=32.4*Math.sin(a),c=new n.a;if(this.element.classList.toggle(O,e===T.CLOSE),this.state=e,o.k.killTweensOf([t,i,s,r]),e===T.CLOSE)c.set(i,{visibility:"inherit"},0).fromTo(i,.3,{opacity:1},{opacity:0},0).set(i,{clearProps:"visibility"}).addLabel("close","+=.5").fromTo(t,.8,{x:-50,opacity:0},{x:0,opacity:1,ease:o.g.easeOut},"close").staggerFromTo(r,1,{cycle:{x:[-l,l],y:[-h,-h,h,h]}},{x:0,y:0,ease:o.f.easeInOut},0,"close").staggerFromTo(r,1,{scaleX:0},{scaleX:1.8,ease:o.f.easeInOut},0,"close").to(r,1.5,{scaleX:1,ease:o.f.easeOut},"-=.4");else{var d=[s];app.windowWidth>=app.breakpoints.small&&d.push(t),c.set(d,{visibility:"inherit"},0).to(t,1,{x:-30,opacity:0,ease:o.f.easeInOut},0).staggerTo(r,1,{cycle:{x:[-l,l],y:[-h,-h,h,h]},ease:o.f.easeInOut},0,0).staggerTo(r,1,{scaleX:0,ease:o.f.easeInOut},0,0).set([t,s],{clearProps:"visibility"}).fromTo(i,.5,{opacity:0},{opacity:1},.3)}}}setColor(e){e?e!==this.color&&(this.color=e,"light"===e?this.element.classList.add(L):this.element.classList.remove(L),"dark"===e?this.element.classList.add(A):this.element.classList.remove(A)):this.clearColor()}clearColor(){this.color=null,this.element.classList.remove(L),this.element.classList.remove(A)}show(){this.isVisible||(this.isVisible=!0,this.animateIn())}hide(){this.isVisible&&(this.isVisible=!1,this.animateOut())}animateIn(){var e=this.element.getBoundingClientRect(),t=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");this.element.style.visibility="inherit",(new n.a).staggerFromTo([t[2],t[0]],1.3,{y:-1*(e.top+e.height),opacity:0},{y:0,opacity:1,onComplete:()=>{o.k.set(t,{clearProps:"transform"})},ease:o.g.easeOut},.1)}animateOut(){var e=this.element.getBoundingClientRect(),t=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");(new n.a).staggerTo([t[0],t[2]],1.3,{y:-1*(e.top+e.height),opacity:0,ease:o.g.easeInOut},.1,()=>{this.element.style.visibility="",o.k.set(t,{clearProps:"transform"})})}updateWithNavVisibility(e){this.element.setAttribute("aria-expanded",e),this.setState(e?T.CLOSE:T.OPEN)}rollOverOpen(){var e=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");this.openHovered=!0,this.rollTimeline&&this.rollTimeline.kill(),this.rollTimeline=(new n.a).staggerTo([e[2],e[0]],.7,{scaleX:0,x:25,ease:o.e.easeInOut},.1,0).to([e[2],e[0]],.2,{opacity:0},"-=.2").staggerFromTo([e[3],e[1]],.7,{x:-50,scaleX:0,visibility:"inherit"},{x:0,scaleX:1,ease:o.e.easeInOut},.1,.1).fromTo([e[3],e[1]],.2,{opacity:0},{opacity:1},.1)}rollOutOpen(){var e=this.element.querySelectorAll(".nav-toggle__picto--open .nav-toggle__line");this.openHovered=!1,this.rollTimeline&&this.rollTimeline.kill(),this.rollTimeline=(new n.a).staggerTo([e[3],e[1]],.5,{scaleX:0,x:-50,ease:o.e.easeInOut},.1,0).to([e[3],e[1]],.2,{opacity:0},"-=.2").staggerTo([e[2],e[0]],.5,{x:0,scaleX:1,ease:o.e.easeInOut,onComplete:()=>{o.k.set([e[1],e[0]],{clearProps:"visibility"})}},.1,.1).to([e[2],e[0]],.2,{opacity:1},.1)}rollOverClose(){var e=this.element.querySelector(".nav-toggle__picto--close"),t=e.querySelectorAll(".nav-toggle__line"),i=45*Math.PI/180,s=32.4*Math.cos(i),r=32.4*Math.sin(i);this.closeHovered=!0,o.k.killTweensOf(t),(new n.a).to(e,.2,{opacity:0}).add("in").set(e,{opacity:1}).staggerFromTo(t,.6,{cycle:{x:[-s,s],y:[-r,-r,r,r]},immediateRender:!1},{x:0,y:0,ease:Cubic.easeInOut},0,"in").staggerFromTo(t,.6,{scaleX:0,immediateRender:!1},{scaleX:1.8,ease:Cubic.easeInOut},0,"in").to(t,.7,{scaleX:1,ease:Cubic.easeOut},"-=.4")}rollOutClose(){this.closeHovered=!1}onRollOver(){this.state===T.CLOSE?this.rollOverClose():this.rollOverOpen()}onRollOut(){this.closeHovered&&this.rollOutClose(),this.openHovered&&this.rollOutOpen()}onMouseDown(e){e.preventDefault()}onClick(){this.emit("click")}},P=i(5),E="is-current";var V=new class extends p.a{constructor(){super(),this.isVisible=!1,this.element=document.querySelector(".nav"),this.currentItem=this.element.querySelector(".nav__item."+E),this.items=this.element.querySelectorAll(".nav__item"),this.background=this.element.querySelector(".nav__background"),this.keyUpCallback=this.onKeyUp.bind(this),this.keyDownCallback=this.onKeyDown.bind(this),this.focusedItem=null,this.hoveredItemTimeout=-1,this.clickedItem=null,this.background.addEventListener("click",this.onBackgroundClick.bind(this)),app.isMobile||([...this.items].forEach(e=>{e.addEventListener("click",this.onItemClick.bind(this)),e.addEventListener("mouseenter",this.onItemRollOver.bind(this)),e.addEventListener("mouseleave",this.onItemRollOut.bind(this))}),this.$anchors=this.element.querySelectorAll(".js-anchor-link"),this.currentAnchorIndex=-1,this.onAnchorEnter=this.onAnchorEnter.bind(this),this.onAnchorLeave=this.onAnchorLeave.bind(this),this.$anchors.forEach(e=>{e.addEventListener("mouseenter",this.onAnchorEnter),e.addEventListener("mouseleave",this.onAnchorLeave)}),this.initTabKeyTrap())}focusAnchor(e){this.$anchors.forEach(t=>{var i=t.getAttribute("data-index")>>0==e;t.classList.remove("is-faded"),t.classList[i?"add":"remove"]("is-active"),i||-1==e||t.classList.add("is-faded")})}onAnchorEnter(e){this.focusAnchor(e.currentTarget.getAttribute("data-index")>>0)}onAnchorLeave(e){this.focusAnchor(-1)}initTabKeyTrap(){var e=[...this.element.querySelectorAll('a[href], button:not([disabled]), [tabindex="0"]')];this.firstFocusableElement=e[0],this.lastFocusableElement=e[e.length-1]}setVisibility(e){this.isVisible=e,this.element.setAttribute("aria-hidden",!e),this.emit("visibilityChange",{isVisible:this.isVisible})}setCurrentItem(e){this.currentItem&&e===this.currentItem.dataset.page||(this.currentItem?(this.previousItem=this.currentItem,this.previousItem.classList.remove(E),app.windowWidth>=app.breakpoints.small&&this.blurItem(this.previousItem)):this.previousItem=null,this.currentItem=this.element.querySelector('.nav__item[data-page="'.concat(e,'"]')),this.currentItem&&this.currentItem.classList.add(E))}show(){this.isVisible||(this.clickedItem=null,document.body.classList.add("js-nav-visible"),this.setVisibility(!0),this.animateIn(),window.addEventListener("keyup",this.keyUpCallback),window.addEventListener("keydown",this.keyDownCallback))}hide(){this.isVisible&&(document.body.classList.remove("js-nav-visible"),this.setVisibility(!1),this.animateOut(),window.removeEventListener("keyup",this.keyUpCallback),window.removeEventListener("keydown",this.keyDownCallback),this.$anchors&&this.$anchors.forEach(e=>{e.removeEventListener("mouseenter",this.onAnchorEnter),e.removeEventListener("mouseleave",this.onAnchorLeave)}))}toggleVisibility(){this.isVisible?this.hide():this.show()}animateIn(){var e=this.element.querySelector(".nav__inner__background"),t=this.element.querySelector(".nav__logo"),i=this.element.querySelectorAll(".nav__item"),s=this.element.querySelectorAll(".nav__login");if(this.timeline&&this.timeline.kill(),this.timeline=new n.a({onComplete:this.onAnimateInComplete.bind(this)}).set(this.element,{visibility:"inherit"},0).fromTo(this.background,1,{opacity:0},{opacity:1},0).fromTo(e,1.5,{yPercent:-100,opacity:0},{yPercent:0,opacity:1,ease:P.a.easeInOut},0).fromTo(t,1.3,{yPercent:-100,opacity:0},{yPercent:0,opacity:1,ease:P.a.easeOut},.8).staggerFromTo(i,1.2,{y:80,rotation:30,opacity:0},{y:0,rotation:0,opacity:1,ease:P.a.easeOut},.1,1).fromTo(s,.8,{opacity:0},{opacity:1},1),this.currentItem&&app.windowWidth>=app.breakpoints.small){var r=this.currentItem.querySelector(".nav__item__arrow"),a=this.currentItem.querySelector(".nav__item__label");this.timeline.fromTo(r,1.3,{opacity:0,scaleX:0},{opacity:1,scaleX:1,ease:o.f.easeInOut},1).to(a,.8,{opacity:1},1)}}animateOut(){var e=this.element.querySelector(".nav__inner__background"),t=this.element.querySelector(".nav__logo"),i=this.element.querySelectorAll(".nav__item"),s=this.element.querySelectorAll(".nav__login");if(this.timeline&&this.timeline.kill(),this.timeline=new n.a({onComplete:this.onAnimateOutComplete.bind(this)}).to(this.background,1,{opacity:0},.3).to(e,1.6,{yPercent:-100,opacity:0,ease:P.a.easeInOut},.1).to(t,.6,{yPercent:-100,opacity:0,ease:P.a.easeIn},0).staggerTo(i,.8,{y:40,rotation:15,opacity:0,ease:o.f.easeInOut},-.05,0).to(s,.6,{opacity:0},0),this.currentItem&&app.windowWidth>=app.breakpoints.small){var r=this.currentItem.querySelector(".nav__item__arrow");this.timeline.to(r,.8,{opacity:0,scaleX:0,ease:o.f.easeInOut},0)}this.timeline.set(this.element,{clearProps:"visibility"})}trapTabKey(e){e.shiftKey?document.activeElement===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}focusItem(e){if(this.focusedItem||e!==this.currentItem){var t=e.querySelector(".nav__item__label"),i=e.querySelector(".nav__item__arrow"),s=this.focusedItem||this.currentItem;o.k.killTweensOf([t,i]),s&&this.blurItem(s),o.k.to(t,.6,{opacity:1,ease:o.d.easeOut,delay:s?.2:0}),o.k.to(i,.6,{scaleX:1,opacity:1,ease:o.f.easeOut,delay:s?.1:0}),this.focusedItem=e===this.currentItem?null:e}}blurItem(e){var t=e.querySelector(".nav__item__label"),i=e.querySelector(".nav__item__arrow");o.k.killTweensOf([t,i]),o.k.to(t,.4,{opacity:.5,ease:o.d.easeInOut}),o.k.to(i,.4,{scaleX:0,opacity:0,ease:o.e.easeIn})}onAnimateInComplete(){this.timeline=null}onAnimateOutComplete(){this.timeline=null}onKeyUp(e){"Escape"===e.key&&this.hide()}onKeyDown(e){"Tab"===e.key&&this.trapTabKey(e)}onItemRollOver(e){clearTimeout(this.hoveredItemTimeout),this.focusItem(e.currentTarget)}onItemClick(e){this.clickedItem=e.currentTarget}onItemRollOut(e){this.clickedItem&&e.currentTarget===this.clickedItem||(this.hoveredItemTimeout=setTimeout(()=>{this.currentItem?this.focusItem(this.currentItem):this.focusedItem&&(this.blurItem(this.focusedItem),this.focusedItem=null)},200))}onBackgroundClick(){this.hide()}};C.a;class N extends s.a{constructor(e){super(),this.id=e.id,this.uid=e.uid?this.id+"-"+e.uid:e.id,this.owner=e.owner,this.element=e.element,this.url=e.url||window.location.href,this.isAjax=!!e.url,this.isVisible=!1,this.container=document.querySelector(".page-container"),this.isLoadingAssets=!1,this.assetPromises=[],this.loadAssetsTimeOut=-1,this.numLoadedAssets=0,this.skipIn=!1,this.animInPromises=[],this.animOutPromises=[],this.showHeaderDelay=0}initPage(){this.isAjax&&this.initAjaxPage(),app.windowWidth>=app.breakpoints.small&&!app.isMobile&&this.initScroll(),this.initColorObservers(),this.initLazyVideos(),this.initAnchorLinks(),window.objectFitPolyfill&&objectFitPolyfill()}initAjaxPage(){document.body.classList.add("page-id-"+this.id),this.element.style.position="",this.element.style.left="",this.element.style.width="",this.updateHeaderColor(),this.updateTitle()}initScroll(){if(setTimeout(()=>{window.location.hash&&this.scrollToAnchor(window.location.hash)},100),!app.isMobile){var e=window.ResizeObserver||I.a;this.scroll=new S(this.element,{smooth:!app.isSafari}),this.populateScrollItems(),this.scrollResizeObserver=new e(this.onScrollResizeObserverChange.bind(this)),this.scrollResizeObserver.observe(this.element),this.scroll.resize()}}initColorObservers(){var e=this.element.querySelectorAll("[data-color]");if(e){var t=document.querySelector(".logo");this.logoColorObserver=new x({element:t,targets:e}),this.logoColorObserver.on("change",this.onLogoColorChange.bind(this))}}initLazyVideos(){var e=this.element.querySelectorAll(".video[data-src]");this.lazyVideos=[],[...e].forEach(e=>{var t=new k({element:e});this.lazyVideos.push(t)})}initAnchorLinks(){[...this.element.querySelectorAll('[href^="#"]')].forEach(e=>{e.addEventListener("click",this.onAnchorLinkClick.bind(this))})}dispose(){super.dispose(),this.disposePage(),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}disposePage(){this.owner.currentScreen.id!==this.id&&document.body.classList.remove("page-id-"+this.id),this.disposeScroll(),this.disposeColorObservers(),this.disposeLazyVideos()}disposeScroll(){this.scroll&&(this.scrollResizeObserver&&this.scrollResizeObserver.disconnect(),this.scroll.dispose(),this.scroll=null)}disposeColorObservers(){this.logoColorObserver&&(this.logoColorObserver.off("change"),this.logoColorObserver.dispose())}disposeLazyVideos(){if(this.lazyVideos)for(;this.lazyVideos.length;)this.lazyVideos.shift().dispose()}loadAssets(){return this.isLoadingAssets=!0,this.loadAssetsTimeOut=setTimeout(()=>{this.onLoadAssetsComplete()},4e3),this.isAjax&&(this.element.style.position="absolute",this.element.style.left="-9999px",this.element.style.width=app.windowWidth+"px",this.container.appendChild(this.element)),this.populateAssetPromises(),Promise.all(this.assetPromises).then(this.onLoadAssetsComplete.bind(this)).catch(this.onLoadAssetsError.bind(this))}addAssetToLoad(e){this.assetPromises.push(e),e.then(this.onAssetLoaded.bind(this))}loadImage(e){if(e){var t=e.currentSrc||e.src,i=v(t);this.addAssetToLoad(i)}}abortLoadAssets(){}populateAssetPromises(){}resize(e){app.windowWidth<app.breakpoints.small?this.scroll&&this.disposeScroll():app.isMobile||(this.scroll?this.scrollResizeObserver||this.scroll.resize():this.initScroll())}updateTitle(){var e=this.element.getAttribute("data-title");e&&e.length&&(document.title=e)}updateHeaderColor(){var e=null;this.element.dataset.color&&(e="dark"===this.element.dataset.color?"light":"dark"),this.dispatchHeaderColor(e)}dispatchHeaderColor(e){this.emit("changeHeaderColor",{color:e})}createAnimIn(e){this.initPage(),this.isVisible=!0,this.timeline=new n.a({delay:this.isAjax?.1:0});var t=new Promise(e=>{this.timeline.eventCallback("onComplete",e)});this.animInPromises.push(t),this.timeline.set(this.element,{visibility:"inherit"},0),this.populateAnimIn(),this.timeline.add(()=>{this.emit("showHeader")},this.showHeaderDelay),Promise.all(this.animInPromises).then(e),(!this.isAjax&&app.skipIn||this.skipIn)&&(this.timeline.pause(),setTimeout(()=>this.timeline.progress(1))),this.emit("animInStart")}populateAnimIn(){}createAnimOut(e){this.isVisible=!1,this.timeline&&this.timeline.kill(),this.timeline=new n.a;var t=new Promise(e=>{this.timeline.eventCallback("onComplete",e)});this.animOutPromises.push(t),this.populateAnimOut(),Promise.all(this.animOutPromises).then(e)}populateAnimOut(){}populateScrollItems(){}scrollToAnchor(e){var t=e.split("#").join("").replace(/\_/g,"-"),i=this.element.querySelector('a[name="'.concat(t,'"]'));if(i){var s=window.pageYOffset+i.getBoundingClientRect().top-200;o.k.to(window,1,{scrollTo:{y:s,autoKill:!app.isMobile}})}}onAnimateInComplete(e){var t,i;super.onAnimateInComplete(e),this.isAjax&&(t=app.googleAnalyticsId,i={page_path:window.location.pathname},window.gtag&&window.gtag("config",t,i)),window.location.hash&&this.scrollToAnchor(window.location.hash),this.onHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",this.onHashChange,!1)}onHashChange(){q.setState(0),V.hide(),window.location.hash&&this.scrollToAnchor(window.location.hash)}onAssetLoaded(){this.numLoadedAssets++;var e=this.numLoadedAssets/this.assetPromises.length;this.emit("assetLoaded",{progress:e})}onLoadAssetsComplete(){this.isLoadingAssets&&(this.isLoadingAssets=!1,clearTimeout(this.loadAssetsTimeOut),this.emit("loadAssetsComplete"))}onLoadAssetsError(){this.onLoadAssetsComplete()}onPopState(e){}onLogoColorChange(e){var t="dark"===e.color?"light":"dark";this.dispatchHeaderColor(t)}onScrollResizeObserverChange(){this.scroll.resize()}onAnchorLinkClick(e){var t=e.currentTarget.getAttribute("href");this.scrollToAnchor(t)}}class B{constructor(e){this.element=e.element,this.isRunning=!1,this.paused=!1,this.needsReset=!1,this.tickCallback=this.onTick.bind(this),this.words=this.element.querySelectorAll(".vert-text__word"),this.updateWords()}dispose(){this.stop()}updateWords(){this.wordX=[],this.wordY=[],this.wordOffset=0,this.wordHeight=0,this.wordsOrder=[],[...this.words].forEach((e,t)=>{e.style.transform="";var i=e.getBoundingClientRect();this.wordsOrder[t]=t,this.wordX[t]=0,this.wordY[t]=i.bottom,0===t||this.wordOffset||(this.wordOffset=this.wordY[t-1]-this.wordY[t]-this.wordHeight),this.wordHeight||(this.wordHeight=i.height)})}resize(){this.pause(),this.updateWords(),this.resume()}start(){this.isRunning||(this.isRunning=!0,o.k.ticker.addEventListener("tick",this.tickCallback))}pause(){this.isRunning&&(this.isRunning=!1,this.paused=!0,o.k.ticker.removeEventListener("tick",this.tickCallback))}resume(){this.paused&&(this.paused=!1,this.start())}stop(){this.pause(),this.paused=!1,this.reset()}reset(){this.needsReset&&(this.wordX=[],this.wordsOrder=[],[...this.words].forEach((e,t)=>{e.style.transform="",this.wordsOrder[t]=t,this.wordX[t]=0}),this.needsReset=!1)}render(){for(var e=0,t=this.words.length;e<t;e++){if(this.wordX[e]=this.wordX[e]+.7,this.wordY[e]-this.wordX[e]<0){var i=this.wordsOrder.indexOf(e);this.wordX[e]=-(this.wordY[this.wordsOrder[0]]-this.wordY[e])+this.wordX[this.wordsOrder[0]]-this.wordHeight-this.wordOffset,this.wordsOrder.unshift(this.wordsOrder.splice(i,1)[0])}this.words[e].style.transform="translate3d(".concat(this.wordX[e],"px, 0px, 0px)")}this.needsReset=!0}onTick(){this.render()}}class R extends s.a{constructor(e){super(),this.element=e.element,this.owner=e.owner,this.index=e.index,this.navigationEnabled=!0,this.previousIndex=-1,this.splitDescription=null,app.windowWidth>=app.breakpoints.small&&this.initVertText()}initVertText(){var e=this.element.querySelector(".home__screen__vert-text");this.vertText=new B({element:e})}dispose(){super.dispose(),this.vertText&&this.vertText.dispose()}resize(){this.revertSplitDescription(),this.vertText&&this.vertText.resize()}getSplitDescription(){if(!this.splitDescription){var e=this.element.querySelector(".home__screen__description");this.splitDescription=new SplitText(e,{type:"lines"})}return this.splitDescription}revertSplitDescription(){this.splitDescription&&(this.splitDescription.revert(),this.splitDescription=null)}createAnimIn(e){this.timeline&&this.timeline.kill(),this.navigationEnabled=!1,this.vertText&&this.vertText.reset(),this.timeline=new n.a({onComplete:e}).add(()=>{this.element.classList.add("is-current")},0).add(()=>{this.vertText&&this.vertText.start()},1),-1!==this.previousIndex&&this.populateAnimIn(),this.timeline.add(()=>{this.navigationEnabled=!0},"-=1")}populateAnimIn(){var e=this.index>this.previousIndex?1:-1,t=this.element.querySelectorAll(".home__screen__title > .home__screen__title__inner > .home__screen__title__word"),i=this.getSplitDescription().lines.slice(),s=this.element.querySelector(".home__screen__more"),r=this.element.querySelector(".vert-text__inner"),n=(this.element.querySelector(".home__index"),this.element.querySelector(".home__index__value:not(.home__index__value--next)")),a=this.element.querySelector(".home__index__separator"),l=this.element.querySelector(".home__index__total");i.push(s),this.timeline.fromTo(n,1.5,{yPercent:100*e},{yPercent:0,ease:P.a.easeOut},1).set([a,l],{opacity:0},0).set([a,l],{opacity:1},.8).staggerFromTo(t,1.6,{cycle:{yPercent:[100,-100]}},{yPercent:0,ease:P.a.easeOut},.1,2).staggerFromTo(i,1.6,{y:80,opacity:0,rotation:15,transformOrigin:"left top"},{y:0,rotation:0,opacity:1,ease:o.f.easeInOut},.15,2).fromTo(r,3,{x:.7*-app.windowHeight,opacity:0},{x:0,opacity:1,ease:o.e.easeInOut},2)}createAnimOut(e){this.timeline&&this.timeline.kill(),this.timeline=new n.a({onComplete:e}).add(()=>{this.element.classList.remove("is-current"),this.vertText&&this.vertText.pause()},0).set(this.element,{visibility:"inherit"},0),this.populateAnimOut(),this.timeline.set(this.element,{clearProps:"visibility"})}populateAnimOut(){var e=this.index<this.owner.currentScreen.index?1:-1,t=this.element.querySelectorAll(".home__screen__title > .home__screen__title__inner > .home__screen__title__word"),i=this.getSplitDescription().lines.slice(),s=this.element.querySelector(".home__screen__more"),r=this.element.querySelector(".vert-text__inner"),n=this.element.querySelector(".home__index__value:not(.home__index__value--next)"),a=this.element.querySelector(".home__index__separator"),l=this.element.querySelector(".home__index__total"),h=this.owner.currentScreen.element.querySelector(".home__index"),c=this.element.querySelector(".home__index"),d=h.getBoundingClientRect(),u=c.getBoundingClientRect(),m=d.top-u.top;i.push(s),this.timeline.to(c,.8,{y:m,ease:o.f.easeInOut},0).to(n,1.5,{yPercent:-100*e,ease:P.a.easeIn,onComplete:()=>{o.k.set(c,{clearProps:"y"})}},0).set([a,l],{opacity:0},.8).staggerTo(t,.9,{yPercent:-100,ease:o.f.easeInOut},.1,0).staggerTo(i,1.6,{y:-80,opacity:0,ease:o.f.easeInOut},.15,0).to(r,2,{x:.5*app.windowHeight,opacity:0,ease:o.e.easeInOut},0)}onAnimateInComplete(e){super.onAnimateInComplete(e),e&&this.timeline.kill(),this.timeline=null}onAnimateOutComplete(e){super.onAnimateOutComplete(e),this.vertText&&this.vertText.stop(),this.revertSplitDescription()}onComplete(){this.emit("complete")}}var z="is-current";class M extends p.a{constructor(e){super(),this.element=e.element,this.screens=this.element.querySelectorAll(".home__nav__screen"),this.element.querySelector(".home__nav__prev").addEventListener("click",this.onPrevClick.bind(this)),this.element.querySelector(".home__nav__next").addEventListener("click",this.onNextClick.bind(this)),this.screens.forEach(e=>{e.addEventListener("click",this.onScreenClick.bind(this))})}dispose(){}setCurrentItem(e,t){var i=this.screens[t].querySelector(".home__nav__screen__button__label--fill"),s=i.querySelector(".home__nav__screen__button__label__inner"),r=this.screens[e].querySelector(".home__nav__screen__button__label--fill"),n=r.querySelector(".home__nav__screen__button__label__inner"),a=e<t?-1:1,l=d("inOut");this.screens[t].classList.remove(z),this.screens[e].classList.add(z),o.k.fromTo(i,1.2,{visibility:"inherit"},{xPercent:100*a,ease:l,onComplete:()=>{o.k.set(i,{clearProps:"visibility"})}}),o.k.fromTo(s,1.2,{visibility:"inherit"},{xPercent:-100*a,ease:l,onComplete:()=>{o.k.set(s,{clearProps:"visibility"})}}),o.k.fromTo(r,1.5,{xPercent:-100*a},{xPercent:0,ease:l,delay:.8}),o.k.fromTo(n,1.5,{xPercent:100*a},{xPercent:0,ease:l,delay:.8})}onPrevClick(){this.emit("click",{screen:"prev"})}onNextClick(){this.emit("click",{screen:"next"})}onScreenClick(e){var t=[...this.screens].indexOf(e.currentTarget);this.emit("click",{screen:t})}}var H=function(e,t){var i=[],s=new Promise(function(t,i){function s(){e.removeEventListener("canplaythrough",r),e.removeEventListener("error",n)}function r(){s(),t(e)}function n(){s(),i(e)}4===e.readyState?t(e):(e.addEventListener("canplaythrough",r),e.addEventListener("error",n))});if(i.push(s),void 0!==t){var r=new Promise(function(i,s){setTimeout(()=>{s(e)},t)});i.push(r)}return Promise.race(i)},F="is-current";class D{constructor(e){this.element=e.element,this.prevVideoIndex=-1,this.currentVideoIndex=-1,this.videos=this.element.querySelectorAll(".home__background__video"),this.numVideos=.5*(this.videos.length-1)}getVideo(e){return this.element.querySelector('.home__background__video[data-id="'.concat(e,'"]'))}preload(e){var t=e+1+"-"+(e===this.numVideos-1?1:e+2),i=e+1+"-"+(0===e?this.numVideos:e);this.load(t),this.load(i)}load(e){var t=this.getVideo(e);return t.src||(t.src=t.dataset.src),t.load(),H(t).catch(function(e){console.log(e)})}play(e){var t=this.getVideo(e),i=[...this.videos].indexOf(t);if(i!==this.currentVideoIndex){this.prevVideoIndex=this.currentVideoIndex,this.currentVideoIndex=i,t.classList.add(F);var s=t.play();if(s&&s.catch(function(e){t.dataset.poster&&(t.poster=t.dataset.poster)}),-1!==this.prevVideoIndex){var r=this.videos[this.prevVideoIndex];r.pause(),setTimeout(()=>{r.classList.remove(F)})}}}}var j="is-current";var Y={SUCCESS:0,ERROR:1};class W extends p.a{constructor(e){super(),this.element=e.element,this.isEnabled=!0,this.element.addEventListener("submit",this.onSubmit.bind(this)),this.initInputs()}initInputs(){[...this.element.querySelectorAll(".form__input")].forEach(e=>{e.addEventListener("focus",this.onInputFocus.bind(this)),e.addEventListener("blur",this.onInputBlur.bind(this)),e.addEventListener("input",this.onInputChange.bind(this))})}enable(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.isEnabled!==e){var t=this.element.querySelector(".form__submit");this.isEnabled=e,t.disabled=!e}}showResult(e,t){var i=this.element.querySelector(".form__result");this.showMessage(i,e,t)}resetErrors(){[...this.element.querySelectorAll(".form__item .form__message")].forEach(e=>e.textContent="")}showErrors(e){Object.keys(e).forEach(t=>{var i=this.element.querySelector(".form__item--".concat(t," .form__message")),s=e[t],r=Object.keys(s).map(e=>s[e]).join("<br>");i&&this.showMessage(i,r,Y.ERROR)})}showMessage(e,t,i){e.innerHTML=t,e.classList.toggle("form__message--success",i===Y.SUCCESS),e.classList.toggle("form__message--error",i===Y.ERROR)}onSubmit(e){if(this.isEnabled){var t=new FormData(this.element);e.preventDefault(),this.enable(!1),this.resetErrors(),window.fetch(window.location.href,{method:"POST",body:t,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{e.json().then(e=>this.onSubmitted(e))})}}onSubmitted(e){this.showResult(e.message,e.success?Y.SUCCESS:Y.ERROR),setTimeout(()=>{this.enable()},3e3),e.errors&&this.showErrors(e.errors)}onInputFocus(e){e.currentTarget.parentNode.classList.add("form__item--focus")}onInputBlur(e){e.currentTarget.parentNode.classList.remove("form__item--focus")}onInputChange(e){var t=e.currentTarget;t.value.length?t.parentNode.classList.add("form__item--filled"):t.parentNode.classList.remove("form__item--filled")}}
/*!
 * VERSION: 0.7.0
 * DATE: 2019-02-07
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * SplitText is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
/*!
 * VERSION: 0.7.0
 * DATE: 2019-02-07
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * SplitText is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
!function(e){var t=e.GreenSockGlobals||e,i=function(e){var i,s=e.split("."),r=t;for(i=0;i<s.length;i++)r[s[i]]=r=r[s[i]]||{};return r}("com.greensock.utils"),s=o.j.document||{},r=void 0!==e?e:s.defaultView||{getComputedStyle:function(){}},n=function(e){return r.getComputedStyle(e)},a=/([A-Z])/g,l=function(e,t,i,s){var r;return(i=i||n(e))?r=(e=i.getPropertyValue(t.replace(a,"-$1").toLowerCase()))||i.length?e:i[t]:e.currentStyle&&(r=(i=e.currentStyle)[t]),s?r:parseInt(r,10)||0},h=function(e){return!!(e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))},c=function(e,t){for(var i,s=t.length;--s>-1;)if(i=t[s],e.substr(0,i.length)===i)return i.length},d=/(?:\r|\n|\t\t)/g,u=/(?:\s\s+)/g,m=function(e){return(e.charCodeAt(0)-55296<<10)+(e.charCodeAt(1)-56320)+65536},p=" style='position:relative;display:inline-block;"+(s.all&&!s.addEventListener?"*display:inline;*zoom:1;'":"'"),g=function(e,t){var i=-1!==(e=e||"").indexOf("++"),s=1;return i&&(e=e.split("++").join("")),function(){return"<"+t+p+(e?" class='"+e+(i?s++:"")+"'>":">")}},v=i.SplitText=t.SplitText=function(e,t){if("string"==typeof e&&(e=v.selector(e)),!e)throw"cannot split a null element.";this.elements=h(e)?function(e){var t,i,s,r=[],n=e.length;for(t=0;t<n;t++)if(i=e[t],h(i))for(s=i.length,s=0;s<i.length;s++)r.push(i[s]);else r.push(i);return r}(e):[e],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)},_=function e(t,i,s){var r=t.nodeType;if(1===r||9===r||11===r)for(t=t.firstChild;t;t=t.nextSibling)e(t,i,s);else 3!==r&&4!==r||(t.nodeValue=t.nodeValue.split(i).join(s))},y=function(e,t){for(var i=t.length;--i>-1;)e.push(t[i])},f=function(e){var t,i=[],s=e.length;for(t=0;t!==s;i.push(e[t++]));return i},b=function(e,t,i){for(var s;e&&e!==t;){if(s=e._next||e.nextSibling)return s.textContent.charAt(0)===i;e=e.parentNode||e._parent}return!1},w=function e(t){var i,s,r=f(t.childNodes),n=r.length;for(i=0;i<n;i++)(s=r[i])._isSplit?e(s):(i&&3===s.previousSibling.nodeType?s.previousSibling.nodeValue+=3===s.nodeType?s.nodeValue:s.firstChild.nodeValue:3!==s.nodeType&&t.insertBefore(s.firstChild,s),t.removeChild(s))},S=function(e,t,i,r,o,a,h){var c,d,u,m,p,g,v,f,S,x,k,C,I=n(e),T=l(e,"paddingLeft",I),O=-999,L=l(e,"borderBottomWidth",I)+l(e,"borderTopWidth",I),A=l(e,"borderLeftWidth",I)+l(e,"borderRightWidth",I),q=l(e,"paddingTop",I)+l(e,"paddingBottom",I),P=l(e,"paddingLeft",I)+l(e,"paddingRight",I),E=.2*l(e,"fontSize"),V=l(e,"textAlign",I,!0),N=[],B=[],R=[],z=t.wordDelimiter||" ",M=t.tag?t.tag:t.span?"span":"div",H=t.type||t.split||"chars,words,lines",F=o&&-1!==H.indexOf("lines")?[]:null,D=-1!==H.indexOf("words"),j=-1!==H.indexOf("chars"),Y="absolute"===t.position||!0===t.absolute,W=t.linesClass,X=-1!==(W||"").indexOf("++"),U=[];for(X&&(W=W.split("++").join("")),u=(d=e.getElementsByTagName("*")).length,p=[],c=0;c<u;c++)p[c]=d[c];if(F||Y)for(c=0;c<u;c++)((g=(m=p[c]).parentNode===e)||Y||j&&!D)&&(C=m.offsetTop,F&&g&&Math.abs(C-O)>E&&("BR"!==m.nodeName||0===c)&&(v=[],F.push(v),O=C),Y&&(m._x=m.offsetLeft,m._y=C,m._w=m.offsetWidth,m._h=m.offsetHeight),F&&((m._isSplit&&g||!j&&g||D&&g||!D&&m.parentNode.parentNode===e&&!m.parentNode._isSplit)&&(v.push(m),m._x-=T,b(m,e,z)&&(m._wordEnd=!0)),"BR"===m.nodeName&&(m.nextSibling&&"BR"===m.nextSibling.nodeName||0===c)&&F.push([])));for(c=0;c<u;c++)g=(m=p[c]).parentNode===e,"BR"!==m.nodeName?(Y&&(S=m.style,D||g||(m._x+=m.parentNode._x,m._y+=m.parentNode._y),S.left=m._x+"px",S.top=m._y+"px",S.position="absolute",S.display="block",S.width=m._w+1+"px",S.height=m._h+"px"),!D&&j?m._isSplit?(m._next=m.nextSibling,m.parentNode.appendChild(m)):m.parentNode._isSplit?(m._parent=m.parentNode,!m.previousSibling&&m.firstChild&&(m.firstChild._isFirst=!0),m.nextSibling&&" "===m.nextSibling.textContent&&!m.nextSibling.nextSibling&&U.push(m.nextSibling),m._next=m.nextSibling&&m.nextSibling._isFirst?null:m.nextSibling,m.parentNode.removeChild(m),p.splice(c--,1),u--):g||(C=!m.nextSibling&&b(m.parentNode,e,z),m.parentNode._parent&&m.parentNode._parent.appendChild(m),C&&m.parentNode.appendChild(s.createTextNode(" ")),"span"===M&&(m.style.display="inline"),N.push(m)):m.parentNode._isSplit&&!m._isSplit&&""!==m.innerHTML?B.push(m):j&&!m._isSplit&&("span"===M&&(m.style.display="inline"),N.push(m))):F||Y?(m.parentNode&&m.parentNode.removeChild(m),p.splice(c--,1),u--):D||e.appendChild(m);for(c=U.length;--c>-1;)U[c].parentNode.removeChild(U[c]);if(F){for(Y&&(x=s.createElement(M),e.appendChild(x),k=x.offsetWidth+"px",C=x.offsetParent===e?0:e.offsetLeft,e.removeChild(x)),S=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(f=" "===z&&(!Y||!D&&!j),c=0;c<F.length;c++){for(v=F[c],(x=s.createElement(M)).style.cssText="display:block;text-align:"+V+";position:"+(Y?"absolute;":"relative;"),W&&(x.className=W+(X?c+1:"")),R.push(x),u=v.length,d=0;d<u;d++)"BR"!==v[d].nodeName&&(m=v[d],x.appendChild(m),f&&m._wordEnd&&x.appendChild(s.createTextNode(" ")),Y&&(0===d&&(x.style.top=m._y+"px",x.style.left=T+C+"px"),m.style.top="0px",C&&(m.style.left=m._x-C+"px")));0===u?x.innerHTML="&nbsp;":D||j||(w(x),_(x,String.fromCharCode(160)," ")),Y&&(x.style.width=k,x.style.height=m._h+"px"),e.appendChild(x)}e.style.cssText=S}Y&&(h>e.clientHeight&&(e.style.height=h-q+"px",e.clientHeight<h&&(e.style.height=h+L+"px")),a>e.clientWidth&&(e.style.width=a-P+"px",e.clientWidth<a&&(e.style.width=a+A+"px"))),y(i,N),D&&y(r,B),y(o,R)},x=function e(t,i,r,n){var o,a,h=f(t.childNodes),p=h.length,g="absolute"===i.position||!0===i.absolute;if(3!==t.nodeType||p>1){for(i.absolute=!1,o=0;o<p;o++)(3!==(a=h[o]).nodeType||/\S+/.test(a.nodeValue))&&(g&&3!==a.nodeType&&"inline"===l(a,"display",null,!0)&&(a.style.display="inline-block",a.style.position="relative"),a._isSplit=!0,e(a,i,r,n));return i.absolute=g,void(t._isSplit=!0)}!function(e,t,i,r){var n,o,a,l,h,p,g,v,y,f,b=t.tag?t.tag:t.span?"span":"div",w=-1!==(t.type||t.split||"chars,words,lines").indexOf("chars"),S="absolute"===t.position||!0===t.absolute,x=t.wordDelimiter||" ",k=" "!==x?"":S?"&#173; ":" ",C="</"+b+">",I=!0,T=t.specialChars?"function"==typeof t.specialChars?t.specialChars:c:null,O=s.createElement("div"),L=e.parentNode;for(L.insertBefore(O,e),O.textContent=e.nodeValue,L.removeChild(e),g=-1!==(n=function e(t){var i=t.nodeType,s="";if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)s+=e(t)}else if(3===i||4===i)return t.nodeValue;return s}(e=O)).indexOf("<"),!1!==t.reduceWhiteSpace&&(n=n.replace(u," ").replace(d,"")),g&&(n=n.split("<").join("{{LT}}")),h=n.length,o=(" "===n.charAt(0)?k:"")+i(),a=0;a<h;a++)if(p=n.charAt(a),T&&(f=T(n.substr(a),t.specialChars)))p=n.substr(a,f||1),o+=w&&" "!==p?r()+p+"</"+b+">":p,a+=f-1;else if(p===x&&n.charAt(a-1)!==x&&a){for(o+=I?C:"",I=!1;n.charAt(a+1)===x;)o+=k,a++;a===h-1?o+=k:")"!==n.charAt(a+1)&&(o+=k+i(),I=!0)}else"{"===p&&"{{LT}}"===n.substr(a,6)?(o+=w?r()+"{{LT}}</"+b+">":"{{LT}}",a+=5):p.charCodeAt(0)>=55296&&p.charCodeAt(0)<=56319||n.charCodeAt(a+1)>=65024&&n.charCodeAt(a+1)<=65039?(v=m(n.substr(a,2)),y=m(n.substr(a+2,2)),l=v>=127462&&v<=127487&&y>=127462&&y<=127487||y>=127995&&y<=127999?4:2,o+=w&&" "!==p?r()+n.substr(a,l)+"</"+b+">":n.substr(a,l),a+=l-1):o+=w&&" "!==p?r()+p+"</"+b+">":p;e.outerHTML=o+(I?C:""),g&&_(L,"{{LT}}","<")}(t,i,r,n)},k=v.prototype;k.split=function(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t,i,s,r=this.elements.length,n=e.tag?e.tag:e.span?"span":"div",o=g(e.wordsClass,n),a=g(e.charsClass,n);--r>-1;)s=this.elements[r],this._originals[r]=s.innerHTML,t=s.clientHeight,i=s.clientWidth,x(s,e,o,a),S(s,e,this.chars,this.words,this.lines,i,t);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},k.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var e=this._originals.length;--e>-1;)this.elements[e].innerHTML=this._originals[e];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},v.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(v.selector=i,i(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)},v.version="0.7.0"}(o.j);var X=o.l.SplitText;class U{resize(e){}reset(){}clear(){}render(e){}}var K=.001;class G extends U{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in super(),this.isVisible=!1,this.mediaMatched=!0,this.sticky=!1,this.smoothScroll=!1,this.inView=!1,this.trigger=null,this.calcTrigger=null,this.data={},this.element=null,this.target=null,this.offset=0,this.offsetProgressMax=1.5,this.y=0,this.oldY=0,this.inertia=.068,this.duration=Number.MAX_VALUE,this.autoRemove=!0,this.reverse=!0,this.triggered=!1,this.media=null,this.calcMaxY=null,this.calcOffset=null,this.calcDuration=null,this.maxY=0,this.onResize=null,this.onUpdate=null,this.onEnter=null,this.onExit=null,this.toggleClass=null,this.startOffset=0,this.endOffset=0,this.autoResize=!0,e)void 0!==this[t]&&(this[t]=e[t]);this.isActive=!1,this.needsRemove=!1,this.hasTrigger=this.trigger||this.calcTrigger,this.element||(this.element=this.target),this.isNode=this.target&&this.target.nodeType>0}resize(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.autoResize||!t)if(this.mediaMatched=!this.media||("function"==typeof this.media?this.media():window.innerWidth>this.media),this.mediaMatched){var i=this.element.style.transform;this.element.style.transform="",this.height=this.element.clientHeight,this.top=e.scrollTop+this.element.getBoundingClientRect().top,this.bottom=this.top+this.height,this.startOffset=this.top-e.rootHeight,this.startOffset<0&&(this.startOffset=0),this.endOffset=this.bottom,this.element.style.transform=i,this.calcMaxY&&(this.maxY=this.calcMaxY()),this.calcOffset&&(this.offset=this.calcOffset()),this.calcTrigger&&(this.trigger=this.calcTrigger()),this.calcDuration&&(this.duration=this.calcDuration(this)),this.onResize&&this.onResize()}else this.reset()}clear(){item.isNode&&(item.target.style.transform="")}reset(){(this.smoothScroll||this.sticky)&&(this.target.style.transform=""),this.toggleClass&&this.target.classList.remove(this.toggleClass)}render(e){if(this.mediaMatched){var t,i,s;if(this.smoothScroll&&(i=(this.startOffset+e.scrollTop)/this.endOffset,this.y+=(i*this.offset-this.y)*this.inertia,(t=Math.abs(i)<this.offsetProgressMax)&&!e.hasActiveItem&&(s=Math.abs(this.y-this.oldY),this.isActive=s>K,this.isActive||(this.y=Math.round(this.y))),this.oldY=this.y,t&&(this.isNode?this.target.style.transform="translate3d(0,"+-this.y+"px,0)":this.target.y=-this.y,this.onUpdate&&this.onUpdate())),this.sticky&&e.smooth&&(this.y=e.containerY,this.maxY&&this.y>this.maxY&&(this.y=this.maxY),this.target.style.transform="translate3d(0,"+this.y+"px,0)"),this.inView){var r=this.isVisible;this.isVisible=!(this.top+this.offset>e.containerY+e.rootHeight||this.bottom<e.containerY),!r&&this.isVisible?(this.onEnter&&this.onEnter(),this.toggleClass&&this.target.classList.add(this.toggleClass),this.autoRemove&&(this.needsRemove=!0)):r&&!this.isVisible&&this.reverse&&(this.onExit&&this.onExit(),this.toggleClass&&this.target.classList.remove(this.toggleClass))}if(this.hasTrigger&&!e.isInertialScroll){var n=this.triggered;this.triggered=e.scrollTop>=this.trigger&&e.scrollTop<=this.trigger+this.duration,!n&&this.triggered?(this.onEnter&&this.onEnter(),this.toggleClass&&this.target.classList.add(this.toggleClass),this.autoRemove&&(this.needsRemove=!0)):n&&!this.triggered&&(this.onExit&&this.onExit(),this.toggleClass&&this.target.classList.remove(this.toggleClass))}}}}
/*!
 * VERSION: 0.2.1
 * DATE: 2019-02-07
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * DrawSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var Q,$=o.j.document,J="undefined"!=typeof window?window:$.defaultView||{getComputedStyle:function(){}},Z=function(e){return J.getComputedStyle(e)},ee=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,te=-1!==((o.j.navigator||{}).userAgent||"").indexOf("Edge"),ie={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]};function se(e,t,i,s,r,n){return i=(parseFloat(i||0)-parseFloat(e||0))*r,s=(parseFloat(s||0)-parseFloat(t||0))*n,Math.sqrt(i*i+s*s)}function re(e){return"string"!=typeof e&&e.nodeType||(e=o.j.TweenLite.selector(e)).length&&(e=e[0]),e}function ne(e){if(!e)return 0;var t,i,s,r,n,o,a,l=(e=re(e)).tagName.toLowerCase(),h=1,c=1;"non-scaling-stroke"===e.getAttribute("vector-effect")&&(c=e.getScreenCTM(),h=Math.sqrt(c.a*c.a+c.b*c.b),c=Math.sqrt(c.d*c.d+c.c*c.c));try{i=e.getBBox()}catch(e){console.log("Error: Some browsers like Firefox won't report measurements of invisible elements (like display:none or masks inside defs).")}if(i&&(i.width||i.height)||!ie[l]||(i={width:parseFloat(e.getAttribute(ie[l][0])),height:parseFloat(e.getAttribute(ie[l][1]))},"rect"!==l&&"line"!==l&&(i.width*=2,i.height*=2),"line"===l&&(i.x=parseFloat(e.getAttribute("x1")),i.y=parseFloat(e.getAttribute("y1")),i.width=Math.abs(i.width-i.x),i.height=Math.abs(i.height-i.y))),"path"===l)r=e.style.strokeDasharray,e.style.strokeDasharray="none",t=e.getTotalLength()||0,h!==c&&console.log("Warning: <path> length cannot be measured accurately when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(h+c)/2,e.style.strokeDasharray=r;else if("rect"===l)t=2*i.width*h+2*i.height*c;else if("line"===l)t=se(i.x,i.y,i.x+i.width,i.y+i.height,h,c);else if("polyline"===l||"polygon"===l)for(s=e.getAttribute("points").match(ee)||[],"polygon"===l&&s.push(s[0],s[1]),t=0,n=2;n<s.length;n+=2)t+=se(s[n-2],s[n-1],s[n],s[n+1],h,c)||0;else"circle"!==l&&"ellipse"!==l||(o=i.width/2*h,a=i.height/2*c,t=Math.PI*(3*(o+a)-Math.sqrt((3*o+a)*(o+3*a))));return t||0}function oe(e,t){if(!e)return[0,0];e=re(e),t=t||ne(e)+1;var i=Z(e),s=i.strokeDasharray||"",r=parseFloat(i.strokeDashoffset),n=s.indexOf(",");return n<0&&(n=s.indexOf(" ")),(s=n<0?t:parseFloat(s.substr(0,n))||1e-5)>t&&(s=t),[Math.max(0,-r),Math.max(0,s-r)]}(Q=o.j._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.2.1",global:!0,overwriteProps:["drawSVG"],init:function(e,t,i,s){if(!e.getBBox)return!1;var r,n,o,a,l=ne(e)+1;return this._style=e.style,this._target=e,"function"==typeof t&&(t=t(s,e)),!0===t||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",n=function(e,t,i){var s,r,n=e.indexOf(" ");return-1===n?(s=void 0!==i?i+"":e,r=e):(s=e.substr(0,n),r=e.substr(n+1)),(s=-1!==s.indexOf("%")?parseFloat(s)/100*t:parseFloat(s))>(r=-1!==r.indexOf("%")?parseFloat(r)/100*t:parseFloat(r))?[r,s]:[s,r]}(t,l,(r=oe(e,l))[0]),this._length=l+10,0===r[0]&&0===n[0]?(o=Math.max(1e-5,n[1]-l),this._dash=l+o,this._offset=l-r[1]+o,this._offsetPT=this._addTween(this,"_offset",this._offset,l-n[1]+o,"drawSVG")):(this._dash=r[1]-r[0]||1e-6,this._offset=-r[0],this._dashPT=this._addTween(this,"_dash",this._dash,n[1]-n[0]||1e-5,"drawSVG"),this._offsetPT=this._addTween(this,"_offset",this._offset,-n[0],"drawSVG")),te&&(a=Z(e)).strokeLinecap!==a.strokeLinejoin&&(n=parseFloat(a.strokeMiterlimit),this._addTween(e.style,"strokeMiterlimit",n,n+1e-4,"strokeMiterlimit")),this._live="non-scaling-stroke"===e.getAttribute("vector-effect")||-1!==(t+"").indexOf("live"),!0},set:function(e){if(this._firstPT){if(this._live){var t,i=ne(this._target)+11;i!==this._length&&(t=i/this._length,this._length=i,this._offsetPT.s*=t,this._offsetPT.c*=t,this._dashPT?(this._dashPT.s*=t,this._dashPT.c*=t):this._dash*=t)}this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,this._style.strokeDasharray=1===e||0===e?this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._dash+"px,"+this._length+"px"}}})).getLength=ne,Q.getPosition=oe;class ae{constructor(e){this.element=e.element,this.chartWrapper=this.element.querySelector(".about__loan-portfolio__chart-wrapper"),this.chart=this.element.querySelector(".about__loan-portfolio__chart"),this.sectors=this.chart.querySelectorAll("path"),this.captions=this.element.querySelectorAll(".about__loan-portfolio__caption"),this.initInView(),this.placeCaptions(),void 0===this.chart.style.vectorEffect&&this.scaleStroke()}initInView(){this.inViewObserver=new IntersectionObserver(this.onInViewObserverChange.bind(this),{threshold:.8}),this.chartWrapper.style.visibility="hidden",this.inViewObserver.observe(this.chartWrapper)}dispose(){this.disposeInViewObserver()}disposeInViewObserver(){this.inViewObserver&&(this.inViewObserver.disconnect(),this.inViewObserver=null)}resize(){this.placeCaptions()}scaleStroke(){var e=1/this.chart.getBoundingClientRect().width;[...this.sectors].forEach(t=>{t.style.strokeWidth=e+"px"})}placeCaptions(){var e=this.chartWrapper.getBoundingClientRect(),t=this.chart.getBoundingClientRect(),i=.5*t.width,s=t.left-e.left+i,r=t.top-e.top+i,n=app.windowWidth<app.breakpoints.small?20:40;[...this.captions].forEach((e,t)=>{var a=this.sectors[t],l=e.querySelector(".about__loan-portfolio__caption__line"),h=l.getBoundingClientRect(),c=e.getBoundingClientRect(),d=parseFloat(a.getAttribute("data-start")),u=parseFloat(a.getAttribute("data-end")),m=d+.5*(u-d);if(app.windowWidth<app.breakpoints.small){var p=m;this.isValidAngle(m)||(m=d+Math.PI/180*10,this.isValidAngle(m)||(m=u-Math.PI/180*10,this.isValidAngle(m)||(m=p)))}var g=s+i*Math.cos(m),v=r+i*Math.sin(m),_=g<s?-1:1,y=v<r?-1:1,f=0,b=0;-1===_&&(g-=c.width,f=c.width),g+=m>4&&m<5?20*_:n*_,-1===y?(v-=c.height,b=c.height):app.windowWidth<app.breakpoints.small?-1===_&&(g+=.5*c.width,f=.5*c.width):(v-=1.1*c.height,b=c.height-14),v+=n*y;var w=s+(i+10)*Math.cos(m)-(g+f),S=r+(i+10)*Math.sin(m)-(v+b),x=Math.sqrt(w*w+S*S),k=180*Math.acos(w/x)/Math.PI,C=x/h.width;o.k.set(e,{x:g,y:v}),o.k.set(l,{x:f,y:b,rotation:k*y*-1,scaleX:C})})}isValidAngle(e){return(e=180*Math.abs(e)/Math.PI)>45&&e<135||e>225&&e<315}animateIn(){var e=this.element.querySelector(".about__loan-portfolio__chart"),t=e.querySelectorAll("path"),i=this.element.querySelector(".about__loan-portfolio__total__label"),s=this.element.querySelector(".about__loan-portfolio__total__value"),r=(new n.a).set(this.chartWrapper,{visibility:""}).from(e,1.7,{rotation:-180,ease:P.a.easeInOut},0).from(t,2,{drawSVG:0,ease:P.a.easeInOut},0);[...this.captions].forEach((e,t)=>{var i=e.querySelectorAll(".about__loan-portfolio__caption__digits"),s=e.querySelector(".about__loan-portfolio__caption__unit"),n=e.querySelector(".about__loan-portfolio__caption__label"),a=e.querySelector(".about__loan-portfolio__caption__line");r.from(s,1,{opacity:0},.1).from(n,1,{yPercent:100,opacity:0,ease:o.f.easeOut},.6).from(a,1,{opacity:0},.8),[...i].forEach((e,t)=>{var i=e.querySelectorAll(".about__loan-portfolio__caption__digit");r.staggerFromTo(i,1,{visibility:"inherit",cycle:{yPercent:function(){return 100-t%2*200}}},{cycle:{yPercent:function(e){return e===i.length-1?0:t%2*200-100}}},.4,.1*t)})}),r.staggerFrom([s,i],1.6,{cycle:{y:[-20,20]},opacity:0,ease:o.f.easeOut},0,1)}onInViewObserverChange(e){e[0].isIntersecting&&(this.disposeInViewObserver(),this.animateIn())}}class le{constructor(e){this.element=e.element,this.input=this.element.querySelector(".select__input"),this.input.addEventListener("change",this.onInputChange.bind(this))}setValue(e){var t=this.element.querySelector('option[value="'.concat(e,'"]'));t&&(t.selected=!0,this.element.querySelector(".select__label__inner").textContent=t.textContent)}onInputChange(e){this.setValue(this.input.value)}}class he{constructor(e){this.element=e.element,this.submitBtn=this.element.querySelector(".about__downloads__form__submit"),this.year=-1,this.initYearSelect(),this.initQuarterSelect()}initYearSelect(){var e=this.element.querySelector(".about__downloads__year");this.yearSelect=new le({element:e}),this.yearSelect.input.addEventListener("change",this.onYearChange.bind(this))}initQuarterSelect(){var e=this.element.querySelector(".about__downloads__quarter");this.quarterSelect=new le({element:e}),this.quarterSelect.input.addEventListener("change",this.onQuarterChange.bind(this))}getQuarters(e){var t=this.yearSelect.input.querySelector('option[value="'.concat(e,'"]'));if(t&&t.dataset.quarters)return JSON.parse(t.dataset.quarters)}setYear(e){var t=this.getQuarters(e);if(t){var i=this.quarterSelect.input.querySelectorAll("option"),s=!1;this.year=e,t.forEach((e,t)=>{var r=i[t+1],n=!1!==e.file;r.disabled=!n,n&&!s&&(s=!0)}),this.quarterSelect.setValue(0),this.quarterSelect.input.disabled=!s,this.submitBtn.removeAttribute("href")}}setQuarter(e){this.submitBtn.href=e.file.url}dispose(){}onYearChange(){var e=this.yearSelect.input.value;e!==this.year&&this.setYear(e)}onQuarterChange(e){var t=this.getQuarters(this.year);if(t){var i=t[this.quarterSelect.input.value-1];i&&this.setQuarter(i)}}}class ce{constructor(e){this.element=e.element,this.bars=this.element.querySelectorAll(".bar-chart__item__bar"),this.currentBar=null,[...this.bars].forEach(e=>{e.addEventListener("mouseenter",this.onBarRollOver.bind(this)),e.addEventListener("mouseleave",this.onBarRollOut.bind(this)),app.hasTouch&&e.addEventListener("click",this.onBarClick.bind(this))}),app.hasTouch&&this.element.addEventListener("click",this.onClick.bind(this)),this.initInView()}initInView(){this.inViewObserver=new IntersectionObserver(this.onInViewObserverChange.bind(this),{threshold:.9}),[...this.bars].forEach(e=>e.style.visibility="hidden"),this.inViewObserver.observe(this.element)}dispose(){this.disposeInViewObserver()}disposeInViewObserver(){this.inViewObserver&&(this.inViewObserver.disconnect(),this.inViewObserver=null)}showTooltip(e){if(e!==this.currentBar){var t=e.querySelector(".bar-chart__tooltip"),i=t.getBoundingClientRect();this.currentBar&&this.hideTooltip(this.currentBar),this.currentBar=e,i.right>app.windowWidth-20?t.classList.add("bar-chart__tooltip--left"):i.left<20&&t.classList.add("bar-chart__tooltip--right"),o.k.set(e,{zIndex:2}),o.k.fromTo(t,.9,{autoAlpha:0,y:20},{autoAlpha:1,y:0,ease:o.f.easeOut}),t.setAttribute("aria-hidden",!1)}}hideTooltip(e){var t=e.querySelector(".bar-chart__tooltip");this.currentBar===e&&(this.currentBar=null),o.k.set(e,{clearProps:"zIndex"}),o.k.to(t,.9,{autoAlpha:0,y:20,ease:o.f.easeOut}),t.setAttribute("aria-hidden",!0)}animateIn(){var e=this.element.querySelectorAll(".bar-chart__item__bars"),t=(new TimelineLite).set(this.element,{visibility:""});[...e].forEach(e=>{var i=e.querySelectorAll(".bar-chart__item__bar");t.set(i,{visibility:""},0).staggerFrom(i,1.6,{scaleY:0,ease:P.a.easeInOut},.1,0)})}onInViewObserverChange(e){e[0].isIntersecting&&(this.disposeInViewObserver(),this.animateIn())}onBarRollOver(e){this.showTooltip(e.currentTarget)}onBarRollOut(e){this.hideTooltip(e.currentTarget)}onBarClick(e){e.preventDefault(),this.showTooltip(e.currentTarget)}onClick(){event.defaultPrevented||this.currentBar&&this.hideTooltip(this.currentBar)}}var de="js-about__pre-tax-income__roae__value--hovered";class ue{constructor(e){this.element=e.element,this.chartItems=this.element.querySelectorAll(".bar-chart__item"),this.roaeValues=this.element.querySelectorAll(".about__pre-tax-income__roae__value"),[...this.chartItems].forEach(e=>{e.addEventListener("mouseenter",this.onChartItemRollOver.bind(this)),e.addEventListener("mouseleave",this.onChartItemRollOut.bind(this))})}onChartItemRollOver(e){var t=[...this.chartItems].indexOf(e.currentTarget);this.roaeValues[t].classList.add(de)}onChartItemRollOut(e){var t=[...this.chartItems].indexOf(e.currentTarget);this.roaeValues[t].classList.remove(de)}}class me{constructor(e){this.element=e.element,this.initLoanPortfolio(),this.initBarCharts(),this.initPrextaxIncome(),this.initDownloadsForms()}initLoanPortfolio(){var e=this.element.querySelector(".about__loan-portfolio");this.loanPortfolio=new ae({element:e})}initPrextaxIncome(){var e=this.element.querySelector(".about__pre-tax-income");new ue({element:e})}initDownloadsForms(){var e=this.element.querySelectorAll(".about__downloads__form");this.downloadsForms=[],[...e].forEach(e=>{var t=new he({element:e});this.downloadsForms.push(t)})}initBarCharts(){[...this.element.querySelectorAll(".bar-chart")].forEach(e=>{new ce({element:e})})}dispose(){this.disposeLoanPortfolio(),this.disposeDownloadsForms()}disposeLoanPortfolio(){this.loanPortfolio.dispose()}disposeDownloadsForms(){for(;this.downloadsForms.length;)this.downloadsForms.shift().dispose()}resize(){this.loanPortfolio.resize()}}var pe=6;class ge{constructor(e){this.element=e.element,this.currentItemIndex=0,this.isRunning=!1,this.paused=!1,this.initialized=!1,this.initInView()}initInView(){this.inViewObserver=new IntersectionObserver(this.onInViewObserverChange.bind(this),{threshold:.3}),this.inViewObserver.observe(this.element)}init(){this.initialized=!0,this.navItems=this.element.querySelectorAll(".about__awards__nav__item"),[...this.navItems].forEach(e=>{e.addEventListener("click",this.onNavItemClick.bind(this))}),this.element.querySelector(".about__awards__nav__button--prev").addEventListener("click",this.onPrevButtonClick.bind(this)),this.element.querySelector(".about__awards__nav__button--next").addEventListener("click",this.onNextButtonClick.bind(this))}dispose(){this.disposeInViewObserver()}disposeInViewObserver(){this.inViewObserver&&(this.inViewObserver.disconnect(),this.inViewObserver=null)}start(){if(!this.isRunning){var e=this.paused;this.isRunning=!0,this.paused=!1,e?this.resumeTimer():this.startTimer()}}pause(){this.isRunning&&(this.isRunning=!1,this.paused=!0,this.pauseTimer())}createTimer(){var e=this.element.querySelector(".about__awards__nav__progress__bar");this.timer=o.k.fromTo(e,pe,{paused:!0,opacity:1,scaleX:0},{scaleX:1,onComplete:this.onTimerComplete.bind(this),ease:o.c.easeNone})}startTimer(){this.timer?this.timer.progress(0).invalidate():this.createTimer(),this.timer.play()}resumeTimer(){this.timer&&this.timer.play()}pauseTimer(){this.timer&&this.timer.isActive()&&this.timer.pause()}gotoItem(e){if(e!==this.currentItemIndex){var t=this.element.querySelectorAll(".about__awards__item"),i=this.navItems[this.currentItemIndex],s=t[this.currentItemIndex],r=s.querySelector(".about__awards__item__title__inner"),a=s.querySelector(".about__awards__item__inner"),l=i.getBoundingClientRect(),h=this.navItems[e],c=t[e],d=c.querySelector(".about__awards__item__title__inner"),u=c.querySelector(".about__awards__item__inner"),m=h.getBoundingClientRect(),p=this.element.querySelector(".about__awards__nav__progress__bar");this.currentItemIndex=e,o.k.killTweensOf([r,a,i,d,u,h]),s.classList.remove("is-current"),i.classList.remove("is-current"),c.classList.add("is-current"),h.classList.add("is-current"),s.style.visibility="inherit",this.pauseTimer(),(new n.a).set(c,{xPercent:-100*e},0).to(p,.5,{opacity:0},0).fromTo(i,.4,{x:m.left-l.left},{x:0,ease:o.f.easeInOut},0).from(h,.4,{x:l.left-m.left},{x:0,ease:o.f.easeInOut},0).to(r,.6,{yPercent:-100,ease:o.f.easeIn,onComplete:()=>{s.style.visibility=""}},0).to(a,.5,{opacity:0},0).addLabel("current","-=.1").fromTo(d,.9,{yPercent:100},{yPercent:0,ease:o.f.easeOut,onComplete:()=>{this.startTimer()}},"current").fromTo(u,.9,{opacity:0},{opacity:1},"current")}}gotoNextItem(){var e=this.currentItemIndex===this.navItems.length-1?0:this.currentItemIndex+1;this.gotoItem(e)}gotoPrevItem(){var e=0===this.currentItemIndex?this.navItems.length-1:this.currentItemIndex-1;this.gotoItem(e)}onPrevButtonClick(){this.gotoPrevItem()}onNextButtonClick(){this.gotoNextItem()}onInViewObserverChange(e){e[0].isIntersecting?(this.initialized||this.init(),this.start()):this.pause()}onNavItemClick(e){var t=[...this.navItems].indexOf(e.currentTarget);this.gotoItem(t)}onTimerComplete(){this.gotoNextItem()}}class ve{constructor(e){this.element=e.element,this.initialized=!1,this.isExpanded=!1,this.isActive=!1,this.inner=this.element.querySelector(".text-collapse__inner"),this.resize()}init(){this.initialized=!0,this.moreBtn=this.element.querySelector(".text-collapse__more"),this.moreBtn.addEventListener("click",this.onMoreBtnClick.bind(this)),this.activate()}activate(){this.isActive||(this.isActive=!0,this.collapse(),this.element.classList.add("is-active"))}deactivate(){this.isActive&&(this.isActive=!1,this.inner.style.height="",this.element.classList.remove("is-active"))}setHeight(e){this.inner.style.height=e+"px"}resize(){var e=window.getComputedStyle(this.element);this.deactivate(),this.lineHeight=parseInt(e.getPropertyValue("line-height")),this.height=this.inner.clientHeight,this.collapsedHeight=2*this.lineHeight,this.height>3*this.lineHeight&&(this.initialized?this.isActive||this.activate():this.init())}collapse(){this.isExpanded=!1,this.setHeight(this.collapsedHeight),this.element.classList.remove("is-expanded")}expand(){this.isExpanded=!0,this.setHeight(this.height),this.element.classList.add("is-expanded")}toggle(){this.isExpanded?this.collapse():this.expand()}onMoreBtnClick(){this.toggle()}}class _e extends p.a{constructor(e){super(),this.element=e.element,this.initExecutiveManagementItemBody(),this.initDirectorsBoardLinks()}initExecutiveManagementItemBody(){var e=this.element.querySelectorAll(".about__executive-management__item__body .text-collapse");e.length&&(this.textCollapses=[],[...e].forEach(e=>{var t=new ve({element:e});this.textCollapses.push(t)}))}initDirectorsBoardLinks(){this.links=this.element.querySelectorAll(".about__directors__board__link"),this.linkObservers=[],[...this.links].forEach(e=>{var t=new IntersectionObserver(this.onLinkObserverChange.bind(this));e.addEventListener("mouseenter",this.onDirectorsBoardLinkRollOver.bind(this)),e.addEventListener("click",this.onDirectorsBoardLinkClick.bind(this)),t.observe(e),this.linkObservers.push(t)})}dispose(){this.disposeDirectorsBoardLinks()}disposeDirectorsBoardLinks(){if(this.linkObservers)for(;this.linkObservers.length;)this.linkObservers.pop().disconnect()}resize(){this.resizeTextCollapses()}resizeTextCollapses(){this.textCollapses&&this.textCollapses.forEach(e=>e.resize())}prefetchLink(e){this.emit("prefetch",{href:e.href})}onDirectorsBoardLinkRollOver(e){this.prefetchLink(e.currentTarget)}onDirectorsBoardLinkClick(e){this.emit("linkClick")}onLinkObserverChange(e){e.forEach(e=>{if(e.isIntersecting){var t=[...this.links].indexOf(e.target);-1!==t&&this.linkObservers.splice(t,1)[0].disconnect(),this.prefetchLink(e.target)}})}}var ye=.4;class fe extends p.a{constructor(e){super(),this.element=e.element,this.isVisible=!1,this.tickCallback=this.onTick.bind(this),this.offset=ye,this.items=this.element.querySelectorAll(".about__awards-banner__item"),this.element.addEventListener("mouseenter",this.onRollOver.bind(this)),this.element.addEventListener("mouseleave",this.onRollOut.bind(this)),this.element.addEventListener("click",this.onClick.bind(this)),this.updateItems()}dispose(){this.pause()}resize(){this.pause(),this.updateItems(),this.resume()}updateItems(){this.baseX=[],this.itemX=[],this.itemWidth=[],this.itemsOrder=[],[...this.items].forEach((e,t)=>{e.style.transform="";var i=e.getBoundingClientRect();this.itemsOrder[t]=t,this.baseX[t]=i.left,this.itemX[t]=0,this.itemWidth[t]=i.width})}show(){this.isVisible||(this.isVisible=!0,this.dispatchVisibilityChange(),this.start(),o.k.killTweensOf(this.element),o.k.fromTo(this.element,.6,{autoAlpha:0},{autoAlpha:1,delay:.8}))}hide(){this.isVisible&&(this.isVisible=!1,this.dispatchVisibilityChange(),this.pause(),o.k.killTweensOf(this.element),o.k.to(this.element,1,{autoAlpha:0}))}dispatchVisibilityChange(){this.emit("visibilityChange",{isVisible:this.isVisible})}start(){this.isRunning||(this.isRunning=!0,o.k.ticker.addEventListener("tick",this.tickCallback))}pause(){this.isRunning&&(this.isRunning=!1,this.paused=!0,o.k.killTweensOf(this,!1,{offset:!0}),o.k.ticker.removeEventListener("tick",this.tickCallback))}resume(){this.paused&&(this.paused=!1,this.start())}render(){for(var e=0,t=this.items.length;e<t;e++){if(this.itemX[e]=this.itemX[e]-this.offset,this.baseX[e]+this.itemWidth[e]+this.itemX[e]<0){var i=this.itemsOrder.indexOf(e),s=this.itemsOrder[this.items.length-1];this.itemX[e]=this.baseX[s]-this.baseX[e]+this.itemWidth[s]+this.itemX[s],this.itemsOrder.push(this.itemsOrder.splice(i,1)[0])}this.items[e].style.transform="translate3d(".concat(this.itemX[e],"px, 0px, 0px)")}}onRollOver(){this.pause(),o.k.to(this,.8,{offset:0,onUpdate:this.render.bind(this),ease:o.d.easeOut})}onRollOut(){o.k.to(this,.8,{offset:ye,onUpdate:this.render.bind(this),onComplete:this.resume.bind(this),ease:o.d.easeOut})}onClick(e){e.preventDefault(),this.emit("click")}onTick(){this.render()}}var be="is-current";class we extends p.a{constructor(e){super(),this.element=e.element,this.links=this.element.querySelectorAll(".about__nav__link"),this.currentItem=this.element.querySelector(".about__nav__item."+be),[...this.links].forEach(e=>{e.addEventListener("click",this.onLinkClick.bind(this))}),app.windowWidth>=app.breakpoints.small?this.initAwardsBanner():this.initToggle()}initAwardsBanner(){var e=this.element.querySelector(".about__awards-banner");this.awardsBanner=new fe({element:e}),this.awardsBanner.on("visibilityChange",this.onAwardsBannerVisibilityChange.bind(this)),this.awardsBannerObserver=new IntersectionObserver(this.onAwardsBannerObserverChange.bind(this),{rootMargin:"10% 0% -110% 0%"}),this.awardsBannerObserver.observe(this.element.parentNode)}initToggle(){var e=this.element.parentNode.parentNode,t=e.querySelector(".about__navbar__close"),i=e.querySelector(".footer");this.toggleInitialized=!0,this.isVisible=!1,this.openButton=e.querySelector(".about__navbar-open"),this.toggleObserver=new IntersectionObserver(this.onToggleObserverChange.bind(this)),this.toggleObserver.observe(i),this.openButton.addEventListener("click",this.onOpenButtonClick.bind(this)),t.addEventListener("click",this.onCloseButtonClick.bind(this))}dispose(){this.disposeAwardsBanner()}disposeAwardsBanner(){this.awardsBanner&&(this.awardsBannerObserver.disconnect(),this.awardsBanner.off("visibilityChange"),this.awardsBanner.off("click"),this.awardsBanner.dispose())}resize(){app.windowWidth<app.breakpoints.small?this.toggleInitialized||this.initToggle():this.awardsBanner?this.awardsBanner.resize():this.initAwardsBanner()}setCurrentItem(e){if(this.currentItem){if(this.currentItem.dataset.id===e)return;this.currentItem.classList.remove(be)}var t=this.element.querySelector('.about__nav__item[data-id="'.concat(e,'"]'));t&&(this.currentItem=t,t.classList.add(be))}show(){this.isVisible||(this.isVisible=!0,this.element.parentNode.classList.add("js-navbar-opened"))}hide(){this.isVisible&&(this.isVisible=!1,this.element.parentNode.classList.remove("js-navbar-opened"))}onLinkClick(e){e.currentTarget.parentNode.dataset.id;e.preventDefault(),this.toggleInitialized&&this.hide()}onAwardsBannerVisibilityChange(e){var t=this.element.querySelector(".about__scroll-cta");o.k.killTweensOf(t),o.k.to(t,.6,{autoAlpha:e.isVisible?0:1,delay:e.isVisible?0:.8})}onAwardsBannerObserverChange(e){e[0].isIntersecting?this.awardsBanner.show():this.awardsBanner.hide()}onOpenButtonClick(){this.show()}onCloseButtonClick(){this.hide()}onToggleObserverChange(e){this.openButton.classList.toggle("js-pin",e[0].isIntersecting),this.element.classList.toggle("js-pin",e[0].isIntersecting)}}class Se extends U{constructor(e){super(),this.target=e.target,this.calcMaxY=e.calcMaxY,this.maxY=0}resize(){this.maxY=this.calcMaxY()}render(e){var t=e.containerY/this.maxY;t>1&&(t=1),this.target.style.transform="translate3d(0,0,0) scaleY(".concat(t,")")}}C.a;C.a;class xe{constructor(e){this.element=e.element,this.observer=new IntersectionObserver(this.onObserverChange.bind(this)),this.observer.observe(this.element),this.initialized=!1}init(){this.initialized=!0}initVertText(){var e=this.element.querySelector(".service__interstitial__text");e&&(this.vertText=new B({element:e}))}dispose(){this.observer.disconnect()}resize(){this.vertText&&this.vertText.resize()}enter(){this.initialized||this.init(),this.vertText&&this.vertText.start()}exit(){this.initialized&&this.vertText&&this.vertText.pause()}onObserverChange(e){e[0].isIntersecting?this.enter():this.exit()}}class ke{constructor(e){this.element=e.element,this.observer=new IntersectionObserver(this.onObserverChange.bind(this)),this.observer.observe(this.element),this.initialized=!1}init(){this.initialized=!0,this.initVertText()}initVertText(){var e=this.element.querySelector(".service__next__vert-text");e&&(this.vertText=new B({element:e}))}dispose(){this.observer.disconnect(),this.vertText&&this.vertText.dispose()}resize(){this.vertText&&this.vertText.resize()}enter(){this.initialized||this.init(),this.vertText&&this.vertText.start()}exit(){this.initialized&&this.vertText&&this.vertText.pause()}onObserverChange(e){e[0].isIntersecting?this.enter():this.exit()}}var Ce=6;class Ie{constructor(e){this.element=e.element,this.currentItemIndex=0,this.isRunning=!1,this.paused=!1,this.initialized=!1,this.observer=new IntersectionObserver(this.onObserverChange.bind(this),{threshold:.3}),this.observer.observe(this.element)}init(){this.initialized=!0,this.items=this.element.querySelectorAll(".service__money-market__item"),this.element.querySelector(".service__money-market__prev").addEventListener("click",this.onPrevButtonClick.bind(this)),this.element.querySelector(".service__money-market__next").addEventListener("click",this.onNextButtonClick.bind(this))}dispose(){this.observer.disconnect()}resize(){this.initialized&&this.createSplitTexts()}start(){if(!this.isRunning){var e=this.paused;this.isRunning=!0,this.paused=!1,e?this.resumeTimer():this.startTimer()}}pause(){this.isRunning&&(this.isRunning=!1,this.paused=!0,this.pauseTimer())}createTimer(){var e=this.element.querySelector(".service__money-market__progress__bar");this.timer=o.k.fromTo(e,Ce,{paused:!0,opacity:1,scaleX:0},{scaleX:1,onComplete:this.onTimerComplete.bind(this),ease:Linear.easeNone})}startTimer(){this.timer?this.timer.progress(0).invalidate():this.createTimer(),this.timer.play()}resumeTimer(){this.timer&&this.timer.play()}pauseTimer(){this.timer&&this.timer.isActive()&&this.timer.pause()}createSplitTexts(){this.splitTexts&&this.splitTexts.forEach((e,t)=>{this.items[t].innerHTML=this.itemsHtml[t]}),this.splitTexts=[],this.itemsHtml=[],[...this.items].forEach((e,t)=>{this.itemsHtml=e.innerHTML,this.splitTexts[t]=new X(e,{type:"lines"}),this.splitTexts[t].lines.forEach(e=>{var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e)})})}gotoItem(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e!==this.currentItemIndex){var i=this.element.querySelectorAll(".service__money-market__index__number"),s=this.currentItemIndex,r=s+1;r<0?r=this.items.length-1:r>this.items.length-1&&(r=0);var a=e+1;a<0?a=this.items.length-1:a>this.items.length-1&&(a=0),this.currentItemIndex=e,this.splitTexts||this.createSplitTexts();var l=this.splitTexts[s].lines.slice(),h=this.splitTexts[r].lines.slice(),c=l.concat(h),d=this.splitTexts[e].lines.slice(),u=this.splitTexts[a].lines.slice(),m=d.concat(u);this.pauseTimer(),o.k.killTweensOf(i[e]),o.k.killTweensOf(i[s]),this.itemsTimeline&&this.itemsTimeline.kill(),this.itemsTimeline=new n.a({onComplete:()=>{this.startTimer()}}).staggerTo(c,.5,{yPercent:-100,ease:o.f.easeIn},.1).add(()=>{[...this.items].forEach((e,t)=>{e.classList.toggle("is-current",t===this.currentItemIndex),o.k.set(m,{yPercent:100}),o.k.set(e,{xPercent:t-this.currentItemIndex<0?100*(this.items.length-this.currentItemIndex):-100*this.currentItemIndex})})}).staggerTo(m,1.2,{yPercent:0,ease:o.f.easeOut},.1).to(this.timer.target,.5,{opacity:0},0),(new n.a).add(()=>{i[s].style.visibility="inherit",i[s].classList.remove("is-current"),i[e].classList.add("is-current")},0).to(i[s],.5,{yPercent:-100*t,ease:o.f.easeIn,onComplete:()=>{i[s].style.visibility=""}},0).fromTo(i[e],.9,{yPercent:100*t},{yPercent:0,ease:o.f.easeOut},.2)}}gotoNextItem(){var e=this.currentItemIndex===this.items.length-1?0:this.currentItemIndex+1;this.gotoItem(e)}gotoPrevItem(){var e=0===this.currentItemIndex?this.items.length-1:this.currentItemIndex-1;this.gotoItem(e,-1)}enter(){this.initialized||this.init(),this.splitTexts||this.createSplitTexts(),this.start()}exit(){this.pause()}onPrevButtonClick(){this.gotoPrevItem()}onNextButtonClick(){this.gotoNextItem()}onTimerComplete(){this.gotoNextItem()}onObserverChange(e){e[0].isIntersecting?this.enter():this.exit()}}var Te=i(90);C.a;var Oe={default:N,home:class extends N{constructor(e){super(e),this.loadingVideos=[],this.navigationEnabled=!0,this.introCanAutoplay=!0,this.initBackground()}initPage(){super.initPage(),this.screens=this.element.querySelectorAll(".home__screen"),this.showHeaderDelay=this.introCanAutoplay?3:1,this.initScreenNavigator(),this.initCurrentScreen(),this.initNav(),this.initNavListeners()}initBackground(){var e=this.element.querySelector(".home__background");this.background=new D({element:e})}initColorObservers(){}initScroll(){}initLazyVideos(){}initScreenNavigator(){this.screenNavigator=new s.d,this.screenNavigator.transitionType=s.c.OutAndIn,this.screenNavigator.on("transitionStart",this.onScreenNavigatorTransitionStart.bind(this))}initCurrentScreen(){var e=this.element.querySelector(".home__screen."+j);this.previousScreenIndex=-1,this.currentScreenIndex=[...this.screens].indexOf(e),this.showScreen(this.currentScreenIndex)}initNav(){var e=this.element.querySelector(".home__nav");this.nav=new M({element:e}),this.nav.on("click",this.onNavClick.bind(this))}initNavListeners(){this.onKeyUpCallback=this.onKeyUp.bind(this),this.onWheelCallback=this.onWheel.bind(this),window.addEventListener("keyup",this.onKeyUpCallback),window.addEventListener("wheel",this.onWheelCallback,{passive:!1}),app.hasTouch&&(this.touchStartCallback=this.onTouchStart.bind(this),this.touchEndCallback=this.onTouchEnd.bind(this),window.addEventListener("touchstart",this.touchStartCallback),window.addEventListener("touchend",this.touchEndCallback))}dispose(){super.dispose(),this.disposeScreenNavigator(),this.disposeNav(),this.disposeNavListeners()}disposeScreenNavigator(){this.screenNavigator&&(this.screenNavigator.off("transitionStart"),this.screenNavigator.dispose())}disposeNav(){this.nav&&this.nav.off("click")}disposeNavListeners(){window.removeEventListener("keyup",this.onKeyUpCallback),window.removeEventListener("wheel",this.onWheelCallback,{passive:!1}),app.hasTouch&&(window.removeEventListener("touchstart",this.touchStartCallback),window.removeEventListener("touchend",this.touchEndCallback))}populateAssetPromises(){var e=this.background.load("intro").then(e=>{var t=e.play();if(t)return t.then(()=>{e.pause()}).catch(()=>{this.introCanAutoplay=!1})});this.addAssetToLoad(e)}populateAnimIn(){var e=this.showHeaderDelay,t=this.screenNavigator.currentScreen.getSplitDescription(),i=this.screenNavigator.currentScreen.element.querySelector(".home__screen__more"),s=this.element.querySelector(".home__nav__screens"),r=this.element.querySelector(".home__login__line"),n=this.element.querySelector(".home__login__label"),a=t.lines.slice();a.push(i),a.push(s);var l=this.screenNavigator.currentScreen.element.querySelector(".vert-text__inner"),h=l.getBoundingClientRect(),c=this.createTitleTimeline(),u=this.createButtonsTimeline(),m=this.createIndexTimeline();this.navigationEnabled=!1,this.timeline.add(c,e).add(u,e).add(m,e).staggerFrom(a,1.8,{y:80,opacity:0,rotation:15,transformOrigin:"left top",ease:o.f.easeInOut},.15,e-.2).from(l,4,{x:-app.windowHeight+h.top,opacity:0,ease:d("inOut")},e-1.5).from(n,1.2,{opacity:0,xPercent:-100,ease:o.f.easeOut},e).from(r,1.2,{scaleX:0,ease:o.f.easeOut},e+.1).add(()=>{this.navigationEnabled=!0},"-=1"),this.background.play("intro")}populateAnimOut(){var e=this.screenNavigator.currentScreen.element,t=e.querySelectorAll(".home__index__current .home__index__value:not(.home__index__value--next)"),i=e.querySelectorAll(".home__index__total .home__index__value:not(.home__index__value--next)"),s=e.querySelector(".home__index__separator"),r=e.querySelectorAll(".home__screen__title > .home__screen__title__inner .home__screen__title__word"),n=this.screenNavigator.currentScreen.getSplitDescription(),a=e.querySelector(".home__screen__more"),l=this.element.querySelector(".home__nav__buttons"),h=this.element.querySelector(".home__nav__screens"),c=this.element.querySelector(".home__login__line"),u=this.element.querySelector(".home__login__label"),m=n.lines.slice();m.push(a);var p=e.querySelector(".vert-text__inner"),g=p.getBoundingClientRect();this.timeline.staggerTo(r,.9,{y:-80,opacity:0,ease:o.f.easeInOut},.1,0).staggerTo(m,.9,{y:-80,opacity:0,rotation:5,transformOrigin:"left top",ease:o.f.easeInOut},.07,.1).to(p,1.6,{x:app.windowHeight+g.top,opacity:0,ease:d("inOut")},0).to(u,.8,{opacity:0,xPercent:-100,ease:o.f.easeIn},0).to(c,.8,{scaleX:0,ease:o.f.easeIn},0).to(l,.8,{opacity:0},0).to(h,.8,{opacity:0,y:80,ease:o.f.easeIn},0).to(t,.8,{yPercent:-100,ease:o.f.easeIn},0).to(i,.8,{yPercent:100,ease:o.f.easeIn},0).to(s,.8,{opacity:0},0)}createTitleTimeline(){var e=this.element.querySelectorAll(".home__screen__title"),t=[...e].slice(1),i=e[0].querySelector(".home__screen__title__word").getBoundingClientRect(),s=new n.a;t.forEach(t=>{var s=document.createElement("div");s.className="js-home__screen__title__next",s.innerHTML=t.innerHTML,s.querySelector(".home__screen__title__word").style.width=i.width+"px",e[0].insertBefore(s,e[0].childNodes[0])});var r=e[0].querySelectorAll(".home__screen__title__inner");return r.forEach((e,t)=>{var i=e.querySelectorAll(".home__screen__title__word"),n=t===r.length-1;s.staggerFromTo(i,.9,{cycle:{yPercent:[-100,100]}},{cycle:{yPercent:n?[0,0]:[100,-100],ease:P.a.easeInOut}},0,.3*t)}),s}createButtonsTimeline(){var e=new n.a;return[...this.element.querySelectorAll(".home__nav__button")].forEach((t,i)=>{var s=t.querySelectorAll(".home__nav__button__border__line"),r=t.querySelectorAll(".home__nav__button__border__circ__outer"),a=t.querySelectorAll(".home__nav__button__border__circ__inner"),l=t.querySelectorAll(".circ-button__picto__line");t.classList.add("js-in"),o.k.set(r,{opacity:0});var h=new n.a({paused:!0}).staggerFromTo(s,.1,{cycle:{yPercent:[200,-200]},scaleY:0},{cycle:{yPercent:[50,-50]},scaleY:1,ease:o.c.easeNone},0).to(s,.1,{yPercent:0,ease:o.c.easeNone}).to(s,.1,{scaleY:0,ease:o.c.easeNone}).set(s,{opacity:0}).set(r,{opacity:1},.2).to(r,.8,{rotation:180,ease:o.c.easeNone},.4).from(a,1.2,{rotation:-180,ease:o.c.easeNone},.2).add(()=>{t.classList.remove("js-in")}),c=(new n.a).to(h,1.7,{progress:1,ease:o.f.easeInOut}).staggerFrom(l,1,{cycle:{x:[-10,10]},y:10-20*i,transition:"none",scaleX:0,ease:P.a.easeOut,onComplete:()=>{o.k.set(l,{clearProps:"transform,transition"})}},.1,.6);e.add(c,.3*i)}),e}createIndexTimeline(){var e=new n.a,t=this.screenNavigator.currentScreen.element,i=t.querySelectorAll(".home__index__current .home__index__value"),s=t.querySelectorAll(".home__index__total .home__index__value"),r=t.querySelector(".home__index__separator");return e.from(r,1.2,{opacity:0,yPercent:100,ease:o.f.easeOut}).staggerFromTo(i,1.2,{yPercent:-100,visibility:"inherit"},{cycle:{yPercent:function(e){return e===i.length-1?0:100}},ease:o.f.easeOut},.3,0).staggerFromTo(s,1.2,{yPercent:100,visibility:"inherit"},{cycle:{yPercent:function(e){return e===s.length-1?0:-100}},ease:o.f.easeOut},.3,0),e}resize(e){super.resize(e),this.screenNavigator.currentScreen&&this.screenNavigator.currentScreen.resize()}showScreen(e){if(!this.screenNavigator.currentScreen||this.screenNavigator.currentScreen.index!==e){var t=e.toString();if(!this.screenNavigator.getScreen(t)){var i=new s.b(R,{canDispose:!1,arguments:[{element:this.screens[e],index:e,owner:this.screenNavigator}],events:{complete:this.onScreenComplete.bind(this)}});this.screenNavigator.addScreen(t,i)}this.screenNavigator.showScreen(t,null,{properties:{previousIndex:this.previousScreenIndex}})}}gotoScreen(e){if(e!==this.currentScreenIndex&&this.navigationEnabled&&this.screenNavigator.currentScreen.navigationEnabled){var t=this.currentScreenIndex+1+"-"+(e+1);-1===this.loadingVideos.indexOf(t)&&(this.loadingVideos.push(t),this.background.load(t).then(()=>{if(this.screenNavigator.currentScreen.navigationEnabled){var i=this.loadingVideos.indexOf(t);-1!==i&&this.loadingVideos.splice(i,1),this.previousScreenIndex=this.currentScreenIndex,this.currentScreenIndex=e,this.background.play(t),this.showScreen(e)}}))}}gotoNextScreen(){var e=this.currentScreenIndex+1;e>this.screens.length-1&&(e=0),this.gotoScreen(e)}gotoPrevScreen(){var e=this.currentScreenIndex-1;e<0&&(e=this.screens.length-1),this.gotoScreen(e)}swipe(e){e<0?this.gotoNextScreen():this.gotoPrevScreen()}onAnimateInComplete(e){super.onAnimateInComplete(e)}onKeyUp(e){switch(e.key){case"ArrowUp":this.gotoPrevScreen();break;case"ArrowDown":this.gotoNextScreen()}}onWheel(e){e.preventDefault(),e.deltaY>0?this.gotoNextScreen():this.gotoPrevScreen()}onScreenNavigatorTransitionStart(){this.screenNavigator.previousScreen&&this.nav.setCurrentItem(this.currentScreenIndex,this.previousScreenIndex),this.background.preload(this.currentScreenIndex)}onScreenComplete(){this.gotoNextScreen()}onNavClick(e){"number"==typeof e.screen?this.gotoScreen(e.screen):"next"===e.screen?this.gotoNextScreen():"prev"===e.screen&&this.gotoPrevScreen()}onTouchStart(e){var t=e.changedTouches[0];this.touchStartY=t.pageY,this.touchStartTime=e.timeStamp}onTouchEnd(e){var t=e.changedTouches[0],i=e.timeStamp-this.touchStartTime,s=(t.pageY-this.touchStartY)/i;Math.abs(s)>.4&&this.swipe(s)}},contact:class extends N{initPage(){super.initPage(),this.showHeaderDelay=this.isAjax?1.5:1,this.initForm()}initForm(){var e=this.element.querySelector(".contact__form");this.form=new W({element:e})}resize(){this.splitIntro&&(this.splitIntro.revert(),this.splitIntro=null)}populateAssetPromises(){var e=this.element.querySelector(".contact__map"),t=v(e);this.addAssetToLoad(t)}populateAnimIn(){var e=this.element.querySelector(".contact__header__background"),t=this.element.querySelector(".contact__title"),i=this.element.querySelector(".contact__intro"),s=this.element.querySelector(".contact__map-wrapper");this.splitIntro=new X(i,{type:"lines"});var r=e.getBoundingClientRect(),n=d("inOut");this.timeline.from(e,2.5,{scaleY:app.windowHeight/r.height,ease:n},.1).from(t,2.5,{y:100,opacity:0,ease:n},.2).staggerFrom(this.splitIntro.lines,2.5,{y:100,opacity:0,rotation:5,transformOrigin:"left top",ease:n},.1,.2+.1).from(s,2.5,{y:-200,ease:n},.2)}populateScrollItems(){var e=this.element.querySelector(".contact__map-wrapper"),t=e.querySelector(".contact__map");this.scroll.addItem(new G({target:t,element:e,smoothScroll:!0,offset:-100}))}},about:class extends N{initPage(){super.initPage(),this.showHeaderDelay=1,this.owner.previousScreen&&"bio"===this.owner.previousScreen.id&&this.scrollToBioLink(),this.initNavbar(),this.initSectionObservers(),this.initHighlights(),this.initAwards(),this.initLeadership()}initNavbar(){var e=this.element.querySelector(".about__navbar");this.navbar=new we({element:e})}initSectionObservers(){var e=this.element.querySelectorAll(".about__section"),t=this.onSectionObserverChange.bind(this),i={rootMargin:"-69% 0% -30% 0%"};this.sectionObservers=[],[...e].forEach(e=>{new IntersectionObserver(t,i).observe(e)})}initHighlights(){var e=this.element.querySelector(".about__highlights");this.highlights=new me({element:e})}initAwards(){var e=this.element.querySelector(".about__awards");this.awards=new ge({element:e})}initLeadership(){var e=this.element.querySelector(".about__leadership");this.leadership=new _e({element:e}),this.leadership.on("prefetch",this.onSectionPrefetch.bind(this)),this.leadership.on("linkClick",this.onLeadershipLinkClick.bind(this))}dispose(){super.dispose(),this.disposeNavbar(),this.disposeHighlights(),this.disposeAwards(),this.disposeLeadership()}disposeNavbar(){this.navbar&&this.navbar.dispose()}disposeHighlights(){this.highlights&&this.highlights.dispose()}disposeAwards(){this.awards&&this.awards.dispose()}disposeLeadership(){this.leadership&&(this.leadership.off("prefetch"),this.leadership.dispose())}resize(){super.resize(),this.highlights&&this.highlights.resize(),this.navbar&&this.navbar.resize(),this.leadership&&this.leadership.resize(),this.splitIntro&&this.splitIntro.split()}populateAssetPromises(){var e=this.element.querySelector(".about__background"),t=getComputedStyle(e).getPropertyValue("background-image").split('url("').join("").split('")').join(""),i=v(t);this.addAssetToLoad(i)}populateAnimIn(){var e=this.element.querySelectorAll(".about__overview .about__section__title span"),t=this.element.querySelector(".about__overview .about__section__intro"),i=this.element.querySelector(".about__overview .about__section__lead"),s=this.element.querySelector(".about__scrollbar"),r=this.element.querySelector(".about__background"),n=d("inOut"),a=this.isAjax?1:.2;if(this.splitIntro=new X(t,{type:"lines"}),this.timeline.staggerFrom(e,2,{opacity:0,ease:P.a.easeOut,cycle:{yPercent:app.windowWidth<app.breakpoints.small?[100]:[100,-100]}},.1,a+.1).staggerFrom(this.splitIntro.lines,2,{y:80,opacity:0,rotation:5,transformOrigin:"left top",ease:P.a.easeOut},.1,a+.2).from(i,1,{opacity:0},a+1).from(s,2,{scaleY:0,ease:n},a).from(r,3,{yPercent:-1,scale:1.1,ease:n},a),app.windowWidth>=app.breakpoints.small){var l=this.element.querySelector(".about__scroll-cta"),h=this.element.querySelectorAll(".about__nav__link__inner"),c=l.getBoundingClientRect();this.timeline.from(l,1.3,{y:app.windowHeight-c.top,opacity:0,ease:o.g.easeOut},a+1).from(h,1.3,{xPercent:-100,x:-20,ease:n},a+1)}}populateScrollItems(){var e=this.element.querySelector(".about__navbar"),t=this.element.querySelector(".about__scrollbar__progress"),i=this.element.querySelector(".about__overview");this.scroll.addItem(new G({target:e,sticky:!0,calcMaxY:()=>this.element.querySelector(".about__content").clientHeight-app.windowHeight})),this.scroll.addItem(new G({target:i,smoothScroll:!0,autoRemove:!1,trigger:50,offset:100,onEnter:()=>{var e=this.element.querySelectorAll(".about__overview .about__section__title"),t=this.splitIntro.lines.slice();t.unshift(e),(new n.a).staggerTo(t,.6,{opacity:0,y:-50,ease:o.e.easeIn},.1)},onExit:()=>{var e=this.element.querySelectorAll(".about__overview .about__section__title"),t=this.splitIntro.lines.slice();t.unshift(e),(new n.a).staggerTo(t,.9,{opacity:1,y:0,ease:o.f.easeOut},-.1)}})),this.scroll.addItem(new Se({target:t,calcMaxY:()=>this.element.querySelector(".about__content").clientHeight-app.windowHeight}))}scrollToBioLink(){var e=new URL(this.owner.previousScreen.url),t=[...this.element.querySelectorAll(".about__directors__board__link")].find(t=>t.pathname===e.pathname);if(t){var i=t.getBoundingClientRect().top-200;this.skipIn=!0,this.scroll?this.scroll.to(i):scrollTo(0,i)}}onSectionObserverChange(e){e.forEach(e=>{if(e.isIntersecting){var t=e.target.dataset.id;this.navbar.setCurrentItem(t)}})}onSectionPrefetch(e){this.emit("prefetch",e)}onLeadershipLinkClick(){this.skipAjaxLoading=!0}},bio:class extends N{initPage(){super.initPage(),this.close=this.element.querySelector(".bio__close"),this.close.addEventListener("mouseenter",this.onCloseRollOver.bind(this)),this.close.addEventListener("click",this.onCloseClick.bind(this))}initScroll(){var e=this.element.querySelector(".bio__text"),t=this.element.querySelector(".bio__text__scroll-container"),i=this.element.querySelector(".bio__text__scroll-content");this.scroll=new S(i,{root:e,container:t}),this.scroll.resize()}initColorObservers(){}initLazyVideos(){}populateAssetPromises(){var e=this.element.querySelector(".bio__portrait__img"),t=e.currentSrc||e.src,i=v(t);this.addAssetToLoad(i)}populateAnimIn(){var e=this.element.querySelector(".bio__portrait"),t=e.querySelector(".bio__portrait__inner"),i=this.element.querySelector(".bio__title"),s=this.element.querySelector(".bio__subtitle"),r=this.element.querySelectorAll(".bio__body p"),n=this.element.querySelectorAll(".bio__close__background"),a=this.element.querySelectorAll(".bio__close__picto");if(this.timeline.from(e,1.8,{yPercent:-100,ease:P.a.easeInOut},0).from(t,1.8,{yPercent:100,ease:P.a.easeInOut},0).staggerFrom([i,s,r],1.6,{y:80,opacity:0,ease:P.a.easeOut,onComplete:()=>{o.k.set(s,{clearProps:"y"})}},.1,1.1).from(n,.8,{scaleY:0,ease:o.e.easeInOut},.9).from(a,1.6,{scale:2,opacity:0,ease:P.a.easeOut},1.4).add(()=>{this.isAjax&&this.emit("changeToggleNavColor",{color:"dark"})},1),app.windowWidth<app.breakpoints.small){var l=this.element.querySelector(".bio__text__inner-background");this.timeline.from(l,1.8,{yPercent:100,ease:P.a.easeInOut},0)}else{var h=this.element.querySelector(".bio__text-background");this.timeline.from(h,1.8,{yPercent:100,ease:P.a.easeInOut},0)}}populateAnimOut(){if("about"===this.owner.currentScreen.id){var e=this.element.querySelector(".bio__portrait"),t=e.querySelector(".bio__portrait__inner"),i=this.element.querySelector(".bio__title"),s=this.element.querySelector(".bio__subtitle"),r=this.element.querySelectorAll(".bio__body p"),n=this.element.querySelectorAll(".bio__close__background"),a=this.element.querySelectorAll(".bio__close__picto");if(this.timeline.to(e,1.8,{yPercent:-100,ease:P.a.easeInOut},0).to(t,1.8,{yPercent:100,ease:P.a.easeInOut},0).to([i,s,r],.5,{opacity:0},0).to(n,.8,{scaleY:0,yPercent:100,ease:o.e.easeInOut},.3).to(a,.5,{opacity:0},0).add(()=>{this.isAjax&&this.emit("changeToggleNavColor",{color:"light"})},1),app.windowWidth<app.breakpoints.small){var l=this.element.querySelector(".bio__text__inner-background");this.timeline.to(l,1.8,{yPercent:100,ease:P.a.easeInOut},0),this.element.scrollTop>50&&(this.timeline.shiftChildren(.6),this.timeline.to(this.element,1,{scrollTo:0},0))}else{var h=this.element.querySelector(".bio__text-background");this.timeline.to(h,1.8,{yPercent:100,ease:P.a.easeInOut},0)}}}onCloseRollOver(e){this.emit("prefetch",{href:e.currentTarget.href})}onCloseClick(e){this.skipAjaxLoading=!0}},service:class extends N{initPage(){super.initPage(),this.showHeaderDelay=this.isAjax?1.5:1,this.initHeader(),this.initInterstitial(),this.initNext(),this.initCarousel(),this.initForm()}initHeader(){this.element.querySelector(".service__scroll-cta").addEventListener("click",this.onScrollCtaClick.bind(this))}initInterstitial(){var e=this.element.querySelector(".service__interstitial");e&&(this.interstitial=new xe({element:e}))}initNext(){var e=this.element.querySelector(".service__next");e&&(this.next=new ke({element:e}))}initCarousel(){var e=this.element.querySelector(".service__money-market__carousel");e&&(this.carousel=new Ie({element:e}))}initForm(){var e=this.element.querySelector(".form");e&&(this.form=new W({element:e}))}dispose(){super.dispose(),this.interstitial&&this.interstitial.dispose(),this.next&&this.next.dispose()}resize(){this.interstitial&&this.interstitial.resize(),this.next&&this.next.resize()}populateAssetPromises(){var e=this.element.querySelector(".service__background"),t=getComputedStyle(e).getPropertyValue("background-image").split('url("').join("").split('")').join(""),i=v(t);this.addAssetToLoad(i)}populateAnimIn(){var e=this.element.querySelector(".service__index__current"),t=this.element.querySelector(".service__index__separator"),i=this.element.querySelector(".service__index__total"),s=this.element.querySelector(".service__title"),r=s.getBoundingClientRect(),n=s.querySelectorAll(".service__title__word"),o=this.element.querySelector(".service__intro"),a=this.element.querySelector(".service__scroll-cta"),l=this.element.querySelector(".service__header__sections"),h=d("inOut"),c=this.element.querySelector(".service__background"),u=this.isAjax?.4:.1;this.splitIntro=new X(o,{type:"lines"}),this.timeline.from(c,3,{scale:1.1,ease:h},u).staggerFrom([e,t],2,{yPercent:100,ease:h},.1,u+.6).from(i,2,{yPercent:-100,ease:h},u+.6).staggerFrom(n,2,{cycle:{y:function(e,t){var i=t.getBoundingClientRect();return app.windowWidth<app.breakpoints.small?r.bottom-i.top:(i.bottom-r.top)*(1+e%2*-2)}},ease:h},.2,u+.1).staggerFrom(this.splitIntro.lines,2,{y:80,opacity:0,transformOrigin:"left top",rotation:5,ease:h},.1,u+.3).from(a,2,{y:80,opacity:0,ease:h},u+.3*(this.splitIntro.lines.length-1)).from(l,2,{y:80,opacity:0,ease:h},u+.3*this.splitIntro.lines.length)}populateScrollItems(){var e=this.element.querySelector(".service__background"),t=this.element.querySelector(".service__header"),i=this.element.querySelector(".service__scroll-text");this.scroll.addItem(new G({target:e,smoothScroll:!0,offsetProgressMax:10,calcOffset:()=>-.5*app.windowHeight})),this.scroll.addItem(new G({target:i,sticky:!0,autoRemove:!1,toggleClass:"js-visible",media:parseInt(Te.breakpoints.medium),calcTrigger:()=>{var e=this.element.querySelector(".service__section__header__text").getBoundingClientRect();return window.pageYOffset+e.top-window.innerHeight+e.height},calcDuration:e=>{var t=this.element.querySelector(".footer").getBoundingClientRect();return window.pageYOffset+t.top-window.innerHeight-e.trigger}})),this.scroll.addItem(new G({target:t,smoothScroll:!0,autoRemove:!1,trigger:50,offset:100,onEnter:()=>{var e=this.element.querySelectorAll(".service__title"),t=this.splitIntro.lines.slice(),i=this.element.querySelector(".service__index"),s=this.element.querySelector(".service__scroll-cta"),r=this.element.querySelector(".service__header__sections");t.unshift(e),t.push(s),t.push(r),(new TimelineLite).staggerTo(t,.6,{opacity:0,y:-50,ease:o.e.easeIn},.1).to(i,.6,{opacity:0,y:-50,ease:o.e.easeIn},0)},onExit:()=>{var e=this.element.querySelectorAll(".service__title"),t=this.splitIntro.lines.slice(),i=this.element.querySelector(".service__index"),s=this.element.querySelector(".service__scroll-cta"),r=this.element.querySelector(".service__header__sections");t.unshift(e),t.push(s),t.push(r),(new TimelineLite).staggerTo(t,.9,{opacity:1,y:0,ease:Power3.easeOut},-.1).to(i,.6,{opacity:1,y:0,ease:Power3.easeOut},.2)}}))}onScrollCtaClick(){var e=this.element.querySelector(".service__content").getBoundingClientRect().top;TweenLite.to(window,.6,{scrollTo:e})}},onlinebanking:class extends N{initPage(){super.initPage(),this.initHeader()}initHeader(){this.element.querySelector(".onlinebanking__scroll-cta").addEventListener("click",this.onScrollCtaClick.bind(this))}onScrollCtaClick(){var e=this.element.querySelector(".onlinebanking__infos").getBoundingClientRect().top;TweenLite.to(window,.6,{scrollTo:e})}}},Le=i(157),Ae="logo--light",qe="logo--dark";var Pe=new class extends p.a{constructor(){super(),this.isVisible=!1,this.element=document.querySelector(".logo")}setColor(e){e?e!==this.color&&(this.color=e,"light"===e?this.element.classList.add(Ae):this.element.classList.remove(Ae),"dark"===e?this.element.classList.add(qe):this.element.classList.remove(qe)):this.clearColor()}clearColor(){this.color=null,this.element.classList.remove(Ae),this.element.classList.remove(qe)}show(){this.isVisible||(this.isVisible=!0,this.animateIn())}hide(){this.isVisible&&(this.isVisible=!1,this.animateOut())}animateIn(){o.k.killTweensOf(this.element),o.k.set(this.element,{clearProps:"all"});var e=this.element.getBoundingClientRect();o.k.fromTo(this.element,1.3,{y:-1*(e.top+e.height),autoAlpha:0},{y:0,autoAlpha:1,ease:o.g.easeOut})}animateOut(){var e=this.element.getBoundingClientRect();o.k.to(this.element,1.3,{y:-1*(e.top+e.height),autoAlpha:0,onComplete:()=>{o.k.set(this.element,{clearProps:"transform"})},ease:o.g.easeInOut})}},Ee=i(156),Ve=i.n(Ee);i(164);class Ne{constructor(){this.clickEvent=document.ontouchstart?"touchstart":"click",this.url=null,this.isVisible=!1,this.element=document.body.querySelector(".redirect-modal"),this.keyUpCallback=this.onKeyUp.bind(this),this.keyDownCallback=this.onKeyDown.bind(this),this.backgroundClickCallback=this.onBackgroundClick.bind(this),this.continueBtnClickCallback=this.onContinueBtnClick.bind(this),this.cancelBtnClickCallback=this.onCancelBtnClick.bind(this),document.addEventListener(this.clickEvent,this.onClick.bind(this))}initTabKeyTrap(){var e=[...this.element.querySelectorAll('a[href], button:not([disabled]), [tabindex="0"]')];this.tabKeyTrapInititalized=!0,this.firstFocusableElement=e[0],this.lastFocusableElement=e[e.length-1]}setVisibility(e){this.isVisible=e,this.element.setAttribute("aria-hidden",!e)}show(e){this.isVisible||(this.element.style.visibility="inherit","two"===e?this.element.classList.add("has-v2-content"):"main"===e&&this.element.classList.remove("has-v2-content"),this.setVisibility(!0),this.addNavListeners(),this.animateIn())}hide(){this.isVisible&&(this.setVisibility(!1),this.removeNavListeners(),this.animateOut())}animateIn(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__dialog");o.k.fromTo(e,.7,{opacity:0},{opacity:1}),o.k.fromTo(t,.7,{opacity:0,y:80},{opacity:1,y:0,ease:o.f.easeOut})}animateOut(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__dialog");o.k.to(e,.7,{opacity:0,onComplete:()=>{this.element.style.visibility=""}}),o.k.to(t,.5,{opacity:0,y:80,ease:o.f.easeOut})}addNavListeners(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__cancel"),i=this.element.querySelector(".redirect-modal__continue");this.tabKeyTrapInititalized||this.initTabKeyTrap(),window.addEventListener("keyup",this.keyUpCallback),window.addEventListener("keydown",this.keyDownCallback),e.addEventListener("click",this.backgroundClickCallback),t.addEventListener("click",this.cancelBtnClickCallback),i.addEventListener("click",this.continueBtnClickCallback)}removeNavListeners(){var e=this.element.querySelector(".redirect-modal__background"),t=this.element.querySelector(".redirect-modal__cancel"),i=this.element.querySelector(".redirect-modal__continue");window.removeEventListener("keyup",this.keyUpCallback),window.removeEventListener("keydown",this.keyDownCallback),e.removeEventListener("click",this.backgroundClickCallback),t.removeEventListener("click",this.cancelBtnClickCallback),i.removeEventListener("click",this.continueBtnClickCallback)}trapTabKey(e){e.shiftKey?document.activeElement===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}continue(){this.hide(),window.open(this.url,"_blank")}isSameOrigin(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),e&&0===e.indexOf(t)}onClick(e){if(!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,i=e.path||(e.composedPath?e.composedPath():null);if(i)for(var s=0;s<i.length;s++)if(i[s].nodeName&&"A"===i[s].nodeName.toUpperCase()&&i[s].href){t=i[s];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;t&&"A"===t.nodeName.toUpperCase()&&this.onLinkClick(e,t)}}onLinkClick(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.defaultPrevented){var i=t||e.currentTarget;if(i&&!i.download&&i.href&&!(i.href.indexOf("mailto:")>-1||this.isSameOrigin(i.href)||i.dataset&&"noDisclaimer"in i.dataset&&"false"!==i.dataset.noDisclaimer)){e.preventDefault(),this.url=i.href;var s="main";i.hasAttribute("data-disclaimer-version-two")&&(s="two"),this.show(s)}}}onBackgroundClick(){this.hide()}onKeyUp(e){"Escape"===e.key?this.hide():"Enter"===e.key&&this.continue()}onKeyDown(e){"Tab"===e.key&&this.trapTabKey(e)}onContinueBtnClick(){this.continue()}onCancelBtnClick(){this.hide()}}class Be{constructor(e){this.element=e,this.closeBtn=this.element.querySelector(".banner__close"),this.closeBtn.addEventListener("click",this.onCloseBtnClick.bind(this)),this.show()}show(){this.element.style.display="block"}hide(){this.element.style.display=""}onCloseBtnClick(){this.hide()}}var Re,ze,Me,He;Le.a;function Fe(){De({element:document.querySelector(".page")})}function De(e){var{url:t,element:i}=e;if(i){He=null;var r=i.getAttribute("data-page"),n=i.getAttribute("data-page-id"),o=function(e,t){var i=t?e+"-"+t:e,r=Re.getScreen(i);if(!r){var n=Oe[e]||Oe.default;r=new s.b(n),Re.addScreen(i,r)}return r}(r,n),a={canDispose:!1,arguments:[{id:r,uid:n,element:i,url:t,owner:Re}],events:{showHeader:st,pushState:rt,prefetch:nt,changeHeaderColor:tt,changeToggleNavColor:it}};o.setOptions(a),Me&&(Me.abortLoadAssets(),je()),(Me=o.getScreen()).on("assetLoaded",Ze),Me.once("loadAssetsComplete",et),Me.loadAssets()}}function je(){Me.off("assetLoaded",Ze),Me.off("loadAssetsComplete",et),Re.getScreen(Me.uid).canDispose=!0,Me=null}function Ye(){var e;Me&&(e=Me.uid,Re.showScreen(e),je())}function We(){var e=Re.currentScreen;"ajax-loading"===e.id?Re.previousScreen&&"home"===Re.previousScreen.id&&(Pe.hide(),q.hide()):e.isAjax&&(V.setCurrentItem(e.uid),V.hide())}function Xe(){"ajax-loading"===Re.currentScreen.id&&(Pe.hide(),q.hide(),He&&De(He))}function Ue(){Re.currentScreen&&Re.currentScreen.skipAjaxLoading||function(){var e="ajax-loading";if(!Re.currentScreen||Re.currentScreen.id!==e){var t=Re.getScreen(e);if(!t){var i=document.querySelector(".ajax-loading");t=new s.b(u,{canDispose:!1,arguments:[{id:e,element:i}],events:{animateInComplete:lt}}),Re.addScreen(e,t)}Re.showScreen(e)}}()}function Ke(e){var t={element:r(e.text),url:e.url},i=Re.currentScreen;i&&"ajax-loading"===i.id&&Re.transition?He=t:De(t)}function Ge(e){var t=Re.currentScreen;t&&t.onPopState&&t.onPopState(e)}function Qe(e){var t=Re&&Re.currentScreen;app.windowWidth=window.innerWidth,app.windowHeight=window.innerHeight,t&&t.resize(e)}function $e(){Fe()}function Je(){Ye()}function Ze(e){var t=Re.currentScreen;t&&"main-loading"===t.id&&t.setProgress(e.progress)}function et(){var e=Re.currentScreen;if(e){if("main-loading"===e.id)return void e.setProgress(1);if(Re.transition&&"ajax-loading"===e.id)return}setTimeout(()=>Ye(),100)}function tt(e){var t=e.color;q.setColor(t),Pe.setColor(t)}function it(e){q.setColor(e.color)}function st(e){Pe.show(),q.show()}function rt(e){ze.pushState(e.state,e.url)}function nt(e){ze.loadPage(e.href)}function ot(){V.toggleVisibility()}function at(e){q.updateWithNavVisibility(e.isVisible)}function lt(){Me&&!Me.isLoadingAssets&&setTimeout(()=>Ye(),100)}function ht(e){"Tab"===e.key&&document.documentElement.classList.remove("no-focus")}!function(){!function(){window.app=window.app||{},app.breakpoints=Te.breakpoints,app.windowWidth=0,app.windowHeight=0,app.hasTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,app.hasTouch?document.documentElement.classList.add("touch"):document.documentElement.classList.add("no-touch");app.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),app.debug&&window.location.search&&(app.skip=-1!==window.location.search.indexOf("skip"),app.skipIn=-1!==window.location.search.indexOf("skipIn"))}(),(Re=new s.d).transitionType=s.c.OutAndIn,Re.on("transitionStart",We),Re.on("transitionComplete",Xe),(ze=new g({prefetchLinks:!1})).on("pageLoading",Ue),ze.on("pageLoaded",Ke),ze.on("popState",Ge),V.on("visibilityChange",at),q.on("click",ot),function(){var e=document.querySelector(".banner");if(!e)return;new Be(e)}(),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),app.reportJsErrors&&window.Sentry&&Sentry.init({dsn:"https://b0927847a88148e697e44c24923e6564@sentry.io/1528141"}),window.addEventListener("keyup",ht),window.addEventListener("resize",Ve()(Qe,100)),Qe(),new Ne;var e=document.querySelector(".page").dataset.page;app.skip||"home"!==e?Fe():function(){var e="main-loading",t=document.querySelector(".main-loading"),i=new s.b(a,{arguments:[{id:e,element:t}],events:{animInComplete:$e,complete:Je}});Re.addScreen(e,i),Re.showScreen(e)}()}()},90:function(e){e.exports=JSON.parse('{"breakpoints":{"xsmall":480,"small":600,"medium":900,"large":1280,"xlarge":1440,"xxlarge":1600,"hd":1920}}')}});